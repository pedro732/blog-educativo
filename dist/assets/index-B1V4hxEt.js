(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function q_(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var lh={exports:{}},Xo={},uh={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function W_(){if(Mp)return Re;Mp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function A(L){return L===null||typeof L!="object"?null:(L=R&&L[R]||L["@@iterator"],typeof L=="function"?L:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,$={};function U(L,Q,he){this.props=L,this.context=Q,this.refs=$,this.updater=he||N}U.prototype.isReactComponent={},U.prototype.setState=function(L,Q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Q,"setState")},U.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function W(){}W.prototype=U.prototype;function te(L,Q,he){this.props=L,this.context=Q,this.refs=$,this.updater=he||N}var J=te.prototype=new W;J.constructor=te,z(J,U.prototype),J.isPureReactComponent=!0;var ce=Array.isArray,Ce=Object.prototype.hasOwnProperty,Te={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(L,Q,he){var Se,Ie={},xe=null,Me=null;if(Q!=null)for(Se in Q.ref!==void 0&&(Me=Q.ref),Q.key!==void 0&&(xe=""+Q.key),Q)Ce.call(Q,Se)&&!x.hasOwnProperty(Se)&&(Ie[Se]=Q[Se]);var Fe=arguments.length-2;if(Fe===1)Ie.children=he;else if(1<Fe){for(var je=Array(Fe),gt=0;gt<Fe;gt++)je[gt]=arguments[gt+2];Ie.children=je}if(L&&L.defaultProps)for(Se in Fe=L.defaultProps,Fe)Ie[Se]===void 0&&(Ie[Se]=Fe[Se]);return{$$typeof:i,type:L,key:xe,ref:Me,props:Ie,_owner:Te.current}}function I(L,Q){return{$$typeof:i,type:L.type,key:Q,ref:L.ref,props:L.props,_owner:L._owner}}function k(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function D(L){var Q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(he){return Q[he]})}var O=/\/+/g;function C(L,Q){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):Q.toString(36)}function tt(L,Q,he,Se,Ie){var xe=typeof L;(xe==="undefined"||xe==="boolean")&&(L=null);var Me=!1;if(L===null)Me=!0;else switch(xe){case"string":case"number":Me=!0;break;case"object":switch(L.$$typeof){case i:case e:Me=!0}}if(Me)return Me=L,Ie=Ie(Me),L=Se===""?"."+C(Me,0):Se,ce(Ie)?(he="",L!=null&&(he=L.replace(O,"$&/")+"/"),tt(Ie,Q,he,"",function(gt){return gt})):Ie!=null&&(k(Ie)&&(Ie=I(Ie,he+(!Ie.key||Me&&Me.key===Ie.key?"":(""+Ie.key).replace(O,"$&/")+"/")+L)),Q.push(Ie)),1;if(Me=0,Se=Se===""?".":Se+":",ce(L))for(var Fe=0;Fe<L.length;Fe++){xe=L[Fe];var je=Se+C(xe,Fe);Me+=tt(xe,Q,he,je,Ie)}else if(je=A(L),typeof je=="function")for(L=je.call(L),Fe=0;!(xe=L.next()).done;)xe=xe.value,je=Se+C(xe,Fe++),Me+=tt(xe,Q,he,je,Ie);else if(xe==="object")throw Q=String(L),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Me}function kt(L,Q,he){if(L==null)return L;var Se=[],Ie=0;return tt(L,Se,"","",function(xe){return Q.call(he,xe,Ie++)}),Se}function xt(L){if(L._status===-1){var Q=L._result;Q=Q(),Q.then(function(he){(L._status===0||L._status===-1)&&(L._status=1,L._result=he)},function(he){(L._status===0||L._status===-1)&&(L._status=2,L._result=he)}),L._status===-1&&(L._status=0,L._result=Q)}if(L._status===1)return L._result.default;throw L._result}var be={current:null},ne={transition:null},de={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Te};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:kt,forEach:function(L,Q,he){kt(L,function(){Q.apply(this,arguments)},he)},count:function(L){var Q=0;return kt(L,function(){Q++}),Q},toArray:function(L){return kt(L,function(Q){return Q})||[]},only:function(L){if(!k(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Re.Component=U,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=te,Re.StrictMode=s,Re.Suspense=g,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Re.act=ie,Re.cloneElement=function(L,Q,he){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Se=z({},L.props),Ie=L.key,xe=L.ref,Me=L._owner;if(Q!=null){if(Q.ref!==void 0&&(xe=Q.ref,Me=Te.current),Q.key!==void 0&&(Ie=""+Q.key),L.type&&L.type.defaultProps)var Fe=L.type.defaultProps;for(je in Q)Ce.call(Q,je)&&!x.hasOwnProperty(je)&&(Se[je]=Q[je]===void 0&&Fe!==void 0?Fe[je]:Q[je])}var je=arguments.length-2;if(je===1)Se.children=he;else if(1<je){Fe=Array(je);for(var gt=0;gt<je;gt++)Fe[gt]=arguments[gt+2];Se.children=Fe}return{$$typeof:i,type:L.type,key:Ie,ref:xe,props:Se,_owner:Me}},Re.createContext=function(L){return L={$$typeof:f,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:c,_context:L},L.Consumer=L},Re.createElement=T,Re.createFactory=function(L){var Q=T.bind(null,L);return Q.type=L,Q},Re.createRef=function(){return{current:null}},Re.forwardRef=function(L){return{$$typeof:m,render:L}},Re.isValidElement=k,Re.lazy=function(L){return{$$typeof:w,_payload:{_status:-1,_result:L},_init:xt}},Re.memo=function(L,Q){return{$$typeof:_,type:L,compare:Q===void 0?null:Q}},Re.startTransition=function(L){var Q=ne.transition;ne.transition={};try{L()}finally{ne.transition=Q}},Re.unstable_act=ie,Re.useCallback=function(L,Q){return be.current.useCallback(L,Q)},Re.useContext=function(L){return be.current.useContext(L)},Re.useDebugValue=function(){},Re.useDeferredValue=function(L){return be.current.useDeferredValue(L)},Re.useEffect=function(L,Q){return be.current.useEffect(L,Q)},Re.useId=function(){return be.current.useId()},Re.useImperativeHandle=function(L,Q,he){return be.current.useImperativeHandle(L,Q,he)},Re.useInsertionEffect=function(L,Q){return be.current.useInsertionEffect(L,Q)},Re.useLayoutEffect=function(L,Q){return be.current.useLayoutEffect(L,Q)},Re.useMemo=function(L,Q){return be.current.useMemo(L,Q)},Re.useReducer=function(L,Q,he){return be.current.useReducer(L,Q,he)},Re.useRef=function(L){return be.current.useRef(L)},Re.useState=function(L){return be.current.useState(L)},Re.useSyncExternalStore=function(L,Q,he){return be.current.useSyncExternalStore(L,Q,he)},Re.useTransition=function(){return be.current.useTransition()},Re.version="18.3.1",Re}var Fp;function Kh(){return Fp||(Fp=1,uh.exports=W_()),uh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function Q_(){if(Up)return Xo;Up=1;var i=Kh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,g,_){var w,R={},A=null,N=null;_!==void 0&&(A=""+_),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(N=g.ref);for(w in g)s.call(g,w)&&!c.hasOwnProperty(w)&&(R[w]=g[w]);if(m&&m.defaultProps)for(w in g=m.defaultProps,g)R[w]===void 0&&(R[w]=g[w]);return{$$typeof:e,type:m,key:A,ref:N,props:R,_owner:a.current}}return Xo.Fragment=n,Xo.jsx=f,Xo.jsxs=f,Xo}var zp;function K_(){return zp||(zp=1,lh.exports=Q_()),lh.exports}var ye=K_(),H=Kh();const Mi=q_(H);var Fl={},ch={exports:{}},Gt={},hh={exports:{}},fh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function G_(){return bp||(bp=1,function(i){function e(ne,de){var ie=ne.length;ne.push(de);e:for(;0<ie;){var L=ie-1>>>1,Q=ne[L];if(0<a(Q,de))ne[L]=de,ne[ie]=Q,ie=L;else break e}}function n(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var de=ne[0],ie=ne.pop();if(ie!==de){ne[0]=ie;e:for(var L=0,Q=ne.length,he=Q>>>1;L<he;){var Se=2*(L+1)-1,Ie=ne[Se],xe=Se+1,Me=ne[xe];if(0>a(Ie,ie))xe<Q&&0>a(Me,Ie)?(ne[L]=Me,ne[xe]=ie,L=xe):(ne[L]=Ie,ne[Se]=ie,L=Se);else if(xe<Q&&0>a(Me,ie))ne[L]=Me,ne[xe]=ie,L=xe;else break e}}return de}function a(ne,de){var ie=ne.sortIndex-de.sortIndex;return ie!==0?ie:ne.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],_=[],w=1,R=null,A=3,N=!1,z=!1,$=!1,U=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(ne){for(var de=n(_);de!==null;){if(de.callback===null)s(_);else if(de.startTime<=ne)s(_),de.sortIndex=de.expirationTime,e(g,de);else break;de=n(_)}}function ce(ne){if($=!1,J(ne),!z)if(n(g)!==null)z=!0,xt(Ce);else{var de=n(_);de!==null&&be(ce,de.startTime-ne)}}function Ce(ne,de){z=!1,$&&($=!1,W(T),T=-1),N=!0;var ie=A;try{for(J(de),R=n(g);R!==null&&(!(R.expirationTime>de)||ne&&!D());){var L=R.callback;if(typeof L=="function"){R.callback=null,A=R.priorityLevel;var Q=L(R.expirationTime<=de);de=i.unstable_now(),typeof Q=="function"?R.callback=Q:R===n(g)&&s(g),J(de)}else s(g);R=n(g)}if(R!==null)var he=!0;else{var Se=n(_);Se!==null&&be(ce,Se.startTime-de),he=!1}return he}finally{R=null,A=ie,N=!1}}var Te=!1,x=null,T=-1,I=5,k=-1;function D(){return!(i.unstable_now()-k<I)}function O(){if(x!==null){var ne=i.unstable_now();k=ne;var de=!0;try{de=x(!0,ne)}finally{de?C():(Te=!1,x=null)}}else Te=!1}var C;if(typeof te=="function")C=function(){te(O)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,kt=tt.port2;tt.port1.onmessage=O,C=function(){kt.postMessage(null)}}else C=function(){U(O,0)};function xt(ne){x=ne,Te||(Te=!0,C())}function be(ne,de){T=U(function(){ne(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ne){ne.callback=null},i.unstable_continueExecution=function(){z||N||(z=!0,xt(Ce))},i.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ne?Math.floor(1e3/ne):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(ne){switch(A){case 1:case 2:case 3:var de=3;break;default:de=A}var ie=A;A=de;try{return ne()}finally{A=ie}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ne,de){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ie=A;A=ne;try{return de()}finally{A=ie}},i.unstable_scheduleCallback=function(ne,de,ie){var L=i.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?L+ie:L):ie=L,ne){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ie+Q,ne={id:w++,callback:de,priorityLevel:ne,startTime:ie,expirationTime:Q,sortIndex:-1},ie>L?(ne.sortIndex=ie,e(_,ne),n(g)===null&&ne===n(_)&&($?(W(T),T=-1):$=!0,be(ce,ie-L))):(ne.sortIndex=Q,e(g,ne),z||N||(z=!0,xt(Ce))),ne},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(ne){var de=A;return function(){var ie=A;A=de;try{return ne.apply(this,arguments)}finally{A=ie}}}}(fh)),fh}var Bp;function X_(){return Bp||(Bp=1,hh.exports=G_()),hh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function Y_(){if(jp)return Gt;jp=1;var i=Kh(),e=X_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function A(t){return g.call(R,t)?!0:g.call(w,t)?!1:_.test(t)?R[t]=!0:(w[t]=!0,!1)}function N(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function z(t,r,o,u){if(r===null||typeof r>"u"||N(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $(t,r,o,u,h,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var U={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){U[t]=new $(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];U[r]=new $(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){U[t]=new $(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){U[t]=new $(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){U[t]=new $(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){U[t]=new $(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){U[t]=new $(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){U[t]=new $(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){U[t]=new $(t,5,!1,t.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function te(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(W,te);U[r]=new $(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(W,te);U[r]=new $(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(W,te);U[r]=new $(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){U[t]=new $(t,1,!1,t.toLowerCase(),null,!1,!1)}),U.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){U[t]=new $(t,1,!1,t.toLowerCase(),null,!0,!0)});function J(t,r,o,u){var h=U.hasOwnProperty(r)?U[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(z(r,o,h,u)&&(o=null),u||h===null?A(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var ce=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),Te=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),ne=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,L;function Q(t){if(L===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||""}return`
`+L+t}var he=!1;function Se(t,r){if(!t||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(B){var u=B}Reflect.construct(t,[],r)}else{try{r.call()}catch(B){u=B}t.call(r.prototype)}else{try{throw Error()}catch(B){u=B}t()}}catch(B){if(B&&u&&typeof B.stack=="string"){for(var h=B.stack.split(`
`),p=u.stack.split(`
`),v=h.length-1,S=p.length-1;1<=v&&0<=S&&h[v]!==p[S];)S--;for(;1<=v&&0<=S;v--,S--)if(h[v]!==p[S]){if(v!==1||S!==1)do if(v--,S--,0>S||h[v]!==p[S]){var P=`
`+h[v].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=v&&0<=S);break}}}finally{he=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?Q(t):""}function Ie(t){switch(t.tag){case 5:return Q(t.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return t=Se(t.type,!1),t;case 11:return t=Se(t.type.render,!1),t;case 1:return t=Se(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case Te:return"Portal";case I:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case tt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case xt:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=je(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Yn(t){t._valueTracker||(t._valueTracker=gt(t))}function ji(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=je(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function oi(t,r){var o=r.checked;return ie({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function $i(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function to(t,r){r=r.checked,r!=null&&J(t,"checked",r,!1)}function no(t,r){to(t,r);var o=Fe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Hi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Hi(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ta(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Hi(t,r,o){(r!=="number"||wr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Jn=Array.isArray;function Zn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function ro(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return ie({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Jn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function Wi(t,r){var o=Fe(r.value),u=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function io(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var er,so=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=er.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Tr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},li=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(t){li.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ai[r]=ai[t]})});function oo(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ai.hasOwnProperty(t)&&ai[t]?(""+r).trim():r+"px"}function ao(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=oo(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var lo=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uo(t,r){if(r){if(lo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function co(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ui=null;function Qi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,on=null,Nn=null;function Gi(t){if(t=Oo(t)){if(typeof Ki!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Ja(r),Ki(t.stateNode,t.type,r))}}function Ln(t){on?Nn?Nn.push(t):Nn=[t]:on=t}function ho(){if(on){var t=on,r=Nn;if(Nn=on=null,Gi(t),r)for(t=0;t<r.length;t++)Gi(r[t])}}function ci(t,r){return t(r)}function fo(){}var tr=!1;function po(t,r,o){if(tr)return t(r,o);tr=!0;try{return ci(t,r,o)}finally{tr=!1,(on!==null||Nn!==null)&&(fo(),ho())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var u=Ja(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Xi=!1;if(m)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Xi=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Xi=!1}function hi(t,r,o,u,h,p,v,S,P){var B=Array.prototype.slice.call(arguments,3);try{r.apply(o,B)}catch(G){this.onError(G)}}var fi=!1,Yi=null,_n=!1,mo=null,Mu={onError:function(t){fi=!0,Yi=t}};function Ji(t,r,o,u,h,p,v,S,P){fi=!1,Yi=null,hi.apply(Mu,arguments)}function Sa(t,r,o,u,h,p,v,S,P){if(Ji.apply(this,arguments),fi){if(fi){var B=Yi;fi=!1,Yi=null}else throw Error(n(198));_n||(_n=!0,mo=B)}}function vn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function di(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function En(t){if(vn(t)!==t)throw Error(n(188))}function Ia(t){var r=t.alternate;if(!r){if(r=vn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return En(h),t;if(p===u)return En(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var v=!1,S=h.child;S;){if(S===o){v=!0,o=h,u=p;break}if(S===u){v=!0,u=h,o=p;break}S=S.sibling}if(!v){for(S=p.child;S;){if(S===o){v=!0,o=p,u=h;break}if(S===u){v=!0,u=p,o=h;break}S=S.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function go(t){return t=Ia(t),t!==null?Zi(t):null}function Zi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Zi(t);if(r!==null)return r;t=t.sibling}return null}var es=e.unstable_scheduleCallback,yo=e.unstable_cancelCallback,Ra=e.unstable_shouldYield,Fu=e.unstable_requestPaint,$e=e.unstable_now,Ca=e.unstable_getCurrentPriorityLevel,pi=e.unstable_ImmediatePriority,Sr=e.unstable_UserBlockingPriority,an=e.unstable_NormalPriority,_o=e.unstable_LowPriority,Aa=e.unstable_IdlePriority,mi=null,Yt=null;function Pa(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(mi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:xa,vo=Math.log,ka=Math.LN2;function xa(t){return t>>>=0,t===0?32:31-(vo(t)/ka|0)|0}var ts=64,ns=4194304;function Ir(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var S=v&~h;S!==0?u=Ir(S):(p&=v,p!==0&&(u=Ir(p)))}else v=o&~h,v!==0?u=Ir(v):p!==0&&(u=Ir(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ut(r),h=1<<o,u|=t[o],r&=~h;return u}function Uu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-Ut(p),S=1<<v,P=h[v];P===-1?(!(S&o)||S&u)&&(h[v]=Uu(S,r)):P<=r&&(t.expiredLanes|=S),p&=~S}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yi(){var t=ts;return ts<<=1,!(ts&4194240)&&(ts=64),t}function Rr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Cr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=o}function Be(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ut(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Ar(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ut(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Pe=0;function Pr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Va,rs,Da,Na,La,Eo=!1,On=[],Tt=null,wn=null,Tn=null,kr=new Map,ln=new Map,Mn=[],zu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oa(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":kr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(r.pointerId)}}function jt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Oo(r),r!==null&&rs(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function bu(t,r,o,u,h){switch(r){case"focusin":return Tt=jt(Tt,t,r,o,u,h),!0;case"dragenter":return wn=jt(wn,t,r,o,u,h),!0;case"mouseover":return Tn=jt(Tn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return kr.set(p,jt(kr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,ln.set(p,jt(ln.get(p)||null,t,r,o,u,h)),!0}return!1}function Ma(t){var r=Ti(t.target);if(r!==null){var o=vn(r);if(o!==null){if(r=o.tag,r===13){if(r=di(o),r!==null){t.blockedOn=r,La(t.priority,function(){Da(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=is(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ui=u,o.target.dispatchEvent(u),ui=null}else return r=Oo(o),r!==null&&rs(r),t.blockedOn=o,!1;r.shift()}return!0}function _i(t,r,o){rr(t)&&o.delete(r)}function Fa(){Eo=!1,Tt!==null&&rr(Tt)&&(Tt=null),wn!==null&&rr(wn)&&(wn=null),Tn!==null&&rr(Tn)&&(Tn=null),kr.forEach(_i),ln.forEach(_i)}function Sn(t,r){t.blockedOn===r&&(t.blockedOn=null,Eo||(Eo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fa)))}function In(t){function r(h){return Sn(h,t)}if(0<On.length){Sn(On[0],t);for(var o=1;o<On.length;o++){var u=On[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Tt!==null&&Sn(Tt,t),wn!==null&&Sn(wn,t),Tn!==null&&Sn(Tn,t),kr.forEach(r),ln.forEach(r),o=0;o<Mn.length;o++)u=Mn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Mn.length&&(o=Mn[0],o.blockedOn===null);)Ma(o),o.blockedOn===null&&Mn.shift()}var ir=ce.ReactCurrentBatchConfig,xr=!0;function Qe(t,r,o,u){var h=Pe,p=ir.transition;ir.transition=null;try{Pe=1,wo(t,r,o,u)}finally{Pe=h,ir.transition=p}}function Bu(t,r,o,u){var h=Pe,p=ir.transition;ir.transition=null;try{Pe=4,wo(t,r,o,u)}finally{Pe=h,ir.transition=p}}function wo(t,r,o,u){if(xr){var h=is(t,r,o,u);if(h===null)Ju(t,r,u,vi,o),Oa(t,u);else if(bu(h,t,r,o,u))u.stopPropagation();else if(Oa(t,u),r&4&&-1<zu.indexOf(t)){for(;h!==null;){var p=Oo(h);if(p!==null&&Va(p),p=is(t,r,o,u),p===null&&Ju(t,r,u,vi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Ju(t,r,u,null,o)}}var vi=null;function is(t,r,o,u){if(vi=null,t=Qi(u),t=Ti(t),t!==null)if(r=vn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=di(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return vi=t,null}function To(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ca()){case pi:return 1;case Sr:return 4;case an:case _o:return 16;case Aa:return 536870912;default:return 16}default:return 16}}var Zt=null,ss=null,$t=null;function So(){if($t)return $t;var t,r=ss,o=r.length,u,h="value"in Zt?Zt.value:Zt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===h[p-u];u++);return $t=h.slice(t,1<u?1-u:void 0)}function os(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fn(){return!0}function Io(){return!1}function St(t){function r(o,u,h,p,v){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fn:Io,this.isPropagationStopped=Io,this}return ie(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),r}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=St(Rn),Un=ie({},Rn,{view:0,detail:0}),ju=St(Un),ls,sr,Vr,Ei=ie({},Un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vr&&(Vr&&t.type==="mousemove"?(ls=t.screenX-Vr.screenX,sr=t.screenY-Vr.screenY):sr=ls=0,Vr=t),ls)},movementY:function(t){return"movementY"in t?t.movementY:sr}}),us=St(Ei),Ro=ie({},Ei,{dataTransfer:0}),Ua=St(Ro),cs=ie({},Un,{relatedTarget:0}),hs=St(cs),za=ie({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),or=St(za),ba=ie({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ba=St(ba),ja=ie({},Rn,{data:0}),Co=St(ja),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$a={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ha(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=$a[t])?!!r[t]:!1}function zn(){return Ha}var l=ie({},Un,{key:function(t){if(t.key){var r=fs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(t){return t.type==="keypress"?os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=St(l),y=ie({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=St(y),M=ie({},Un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn}),j=St(M),ee=ie({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=St(ee),ct=ie({},Ei,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=St(ct),yt=[9,13,27,32],st=m&&"CompositionEvent"in window,un=null;m&&"documentMode"in document&&(un=document.documentMode);var en=m&&"TextEvent"in window&&!un,wi=m&&(!st||un&&8<un&&11>=un),ds=" ",xf=!1;function Vf(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Df(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function $y(t,r){switch(t){case"compositionend":return Df(r);case"keypress":return r.which!==32?null:(xf=!0,ds);case"textInput":return t=r.data,t===ds&&xf?null:t;default:return null}}function Hy(t,r){if(ps)return t==="compositionend"||!st&&Vf(t,r)?(t=So(),$t=ss=Zt=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return wi&&r.locale!=="ko"?null:r.data;default:return null}}var qy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!qy[t.type]:r==="textarea"}function Lf(t,r,o,u){Ln(u),r=Ga(r,"onChange"),0<r.length&&(o=new as("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var Ao=null,Po=null;function Wy(t){Jf(t,0)}function qa(t){var r=vs(t);if(ji(r))return t}function Qy(t,r){if(t==="change")return r}var Of=!1;if(m){var $u;if(m){var Hu="oninput"in document;if(!Hu){var Mf=document.createElement("div");Mf.setAttribute("oninput","return;"),Hu=typeof Mf.oninput=="function"}$u=Hu}else $u=!1;Of=$u&&(!document.documentMode||9<document.documentMode)}function Ff(){Ao&&(Ao.detachEvent("onpropertychange",Uf),Po=Ao=null)}function Uf(t){if(t.propertyName==="value"&&qa(Po)){var r=[];Lf(r,Po,t,Qi(t)),po(Wy,r)}}function Ky(t,r,o){t==="focusin"?(Ff(),Ao=r,Po=o,Ao.attachEvent("onpropertychange",Uf)):t==="focusout"&&Ff()}function Gy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qa(Po)}function Xy(t,r){if(t==="click")return qa(r)}function Yy(t,r){if(t==="input"||t==="change")return qa(r)}function Jy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Cn=typeof Object.is=="function"?Object.is:Jy;function ko(t,r){if(Cn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!g.call(r,h)||!Cn(t[h],r[h]))return!1}return!0}function zf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bf(t,r){var o=zf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=zf(o)}}function Bf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Bf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function jf(){for(var t=window,r=wr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=wr(t.document)}return r}function qu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Zy(t){var r=jf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Bf(o.ownerDocument.documentElement,o)){if(u!==null&&qu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=bf(o,p);var v=bf(o,u);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var e_=m&&"documentMode"in document&&11>=document.documentMode,ms=null,Wu=null,xo=null,Qu=!1;function $f(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Qu||ms==null||ms!==wr(u)||(u=ms,"selectionStart"in u&&qu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xo&&ko(xo,u)||(xo=u,u=Ga(Wu,"onSelect"),0<u.length&&(r=new as("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=ms)))}function Wa(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var gs={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionend:Wa("Transition","TransitionEnd")},Ku={},Hf={};m&&(Hf=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Qa(t){if(Ku[t])return Ku[t];if(!gs[t])return t;var r=gs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Hf)return Ku[t]=r[o];return t}var qf=Qa("animationend"),Wf=Qa("animationiteration"),Qf=Qa("animationstart"),Kf=Qa("transitionend"),Gf=new Map,Xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,r){Gf.set(t,r),c(r,[t])}for(var Gu=0;Gu<Xf.length;Gu++){var Xu=Xf[Gu],t_=Xu.toLowerCase(),n_=Xu[0].toUpperCase()+Xu.slice(1);Dr(t_,"on"+n_)}Dr(qf,"onAnimationEnd"),Dr(Wf,"onAnimationIteration"),Dr(Qf,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Kf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vo));function Yf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,Sa(u,r,void 0,t),t.currentTarget=null}function Jf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],P=S.instance,B=S.currentTarget;if(S=S.listener,P!==p&&h.isPropagationStopped())break e;Yf(h,S,B),p=P}else for(v=0;v<u.length;v++){if(S=u[v],P=S.instance,B=S.currentTarget,S=S.listener,P!==p&&h.isPropagationStopped())break e;Yf(h,S,B),p=P}}}if(_n)throw t=mo,_n=!1,mo=null,t}function qe(t,r){var o=r[ic];o===void 0&&(o=r[ic]=new Set);var u=t+"__bubble";o.has(u)||(Zf(r,t,2,!1),o.add(u))}function Yu(t,r,o){var u=0;r&&(u|=4),Zf(o,t,u,r)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function Do(t){if(!t[Ka]){t[Ka]=!0,s.forEach(function(o){o!=="selectionchange"&&(r_.has(o)||Yu(o,!1,t),Yu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ka]||(r[Ka]=!0,Yu("selectionchange",!1,r))}}function Zf(t,r,o,u){switch(To(r)){case 1:var h=Qe;break;case 4:h=Bu;break;default:h=wo}o=h.bind(null,r,o,t),h=void 0,!Xi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Ju(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;v=v.return}for(;S!==null;){if(v=Ti(S),v===null)return;if(P=v.tag,P===5||P===6){u=p=v;continue e}S=S.parentNode}}u=u.return}po(function(){var B=p,G=Qi(o),Y=[];e:{var K=Gf.get(t);if(K!==void 0){var re=as,ae=t;switch(t){case"keypress":if(os(o)===0)break e;case"keydown":case"keyup":re=d;break;case"focusin":ae="focus",re=hs;break;case"focusout":ae="blur",re=hs;break;case"beforeblur":case"afterblur":re=hs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=us;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=Ua;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=j;break;case qf:case Wf:case Qf:re=or;break;case Kf:re=ze;break;case"scroll":re=ju;break;case"wheel":re=Ve;break;case"copy":case"cut":case"paste":re=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=E}var le=(r&4)!==0,rt=!le&&t==="scroll",F=le?K!==null?K+"Capture":null:K;le=[];for(var V=B,b;V!==null;){b=V;var Z=b.stateNode;if(b.tag===5&&Z!==null&&(b=Z,F!==null&&(Z=nt(V,F),Z!=null&&le.push(No(V,Z,b)))),rt)break;V=V.return}0<le.length&&(K=new re(K,ae,null,o,G),Y.push({event:K,listeners:le}))}}if(!(r&7)){e:{if(K=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",K&&o!==ui&&(ae=o.relatedTarget||o.fromElement)&&(Ti(ae)||ae[ar]))break e;if((re||K)&&(K=G.window===G?G:(K=G.ownerDocument)?K.defaultView||K.parentWindow:window,re?(ae=o.relatedTarget||o.toElement,re=B,ae=ae?Ti(ae):null,ae!==null&&(rt=vn(ae),ae!==rt||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(re=null,ae=B),re!==ae)){if(le=us,Z="onMouseLeave",F="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(le=E,Z="onPointerLeave",F="onPointerEnter",V="pointer"),rt=re==null?K:vs(re),b=ae==null?K:vs(ae),K=new le(Z,V+"leave",re,o,G),K.target=rt,K.relatedTarget=b,Z=null,Ti(G)===B&&(le=new le(F,V+"enter",ae,o,G),le.target=b,le.relatedTarget=rt,Z=le),rt=Z,re&&ae)t:{for(le=re,F=ae,V=0,b=le;b;b=ys(b))V++;for(b=0,Z=F;Z;Z=ys(Z))b++;for(;0<V-b;)le=ys(le),V--;for(;0<b-V;)F=ys(F),b--;for(;V--;){if(le===F||F!==null&&le===F.alternate)break t;le=ys(le),F=ys(F)}le=null}else le=null;re!==null&&ed(Y,K,re,le,!1),ae!==null&&rt!==null&&ed(Y,rt,ae,le,!0)}}e:{if(K=B?vs(B):window,re=K.nodeName&&K.nodeName.toLowerCase(),re==="select"||re==="input"&&K.type==="file")var ue=Qy;else if(Nf(K))if(Of)ue=Yy;else{ue=Gy;var pe=Ky}else(re=K.nodeName)&&re.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ue=Xy);if(ue&&(ue=ue(t,B))){Lf(Y,ue,o,G);break e}pe&&pe(t,K,B),t==="focusout"&&(pe=K._wrapperState)&&pe.controlled&&K.type==="number"&&Hi(K,"number",K.value)}switch(pe=B?vs(B):window,t){case"focusin":(Nf(pe)||pe.contentEditable==="true")&&(ms=pe,Wu=B,xo=null);break;case"focusout":xo=Wu=ms=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,$f(Y,o,G);break;case"selectionchange":if(e_)break;case"keydown":case"keyup":$f(Y,o,G)}var me;if(st)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ps?Vf(t,o)&&(_e="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(wi&&o.locale!=="ko"&&(ps||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ps&&(me=So()):(Zt=G,ss="value"in Zt?Zt.value:Zt.textContent,ps=!0)),pe=Ga(B,_e),0<pe.length&&(_e=new Co(_e,t,null,o,G),Y.push({event:_e,listeners:pe}),me?_e.data=me:(me=Df(o),me!==null&&(_e.data=me)))),(me=en?$y(t,o):Hy(t,o))&&(B=Ga(B,"onBeforeInput"),0<B.length&&(G=new Co("onBeforeInput","beforeinput",null,o,G),Y.push({event:G,listeners:B}),G.data=me))}Jf(Y,r)})}function No(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ga(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=nt(t,o),p!=null&&u.unshift(No(t,p,h)),p=nt(t,r),p!=null&&u.push(No(t,p,h))),t=t.return}return u}function ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ed(t,r,o,u,h){for(var p=r._reactName,v=[];o!==null&&o!==u;){var S=o,P=S.alternate,B=S.stateNode;if(P!==null&&P===u)break;S.tag===5&&B!==null&&(S=B,h?(P=nt(o,p),P!=null&&v.unshift(No(o,P,S))):h||(P=nt(o,p),P!=null&&v.push(No(o,P,S)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var i_=/\r\n?/g,s_=/\u0000|\uFFFD/g;function td(t){return(typeof t=="string"?t:""+t).replace(i_,`
`).replace(s_,"")}function Xa(t,r,o){if(r=td(r),td(t)!==r&&o)throw Error(n(425))}function Ya(){}var Zu=null,ec=null;function tc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nc=typeof setTimeout=="function"?setTimeout:void 0,o_=typeof clearTimeout=="function"?clearTimeout:void 0,nd=typeof Promise=="function"?Promise:void 0,a_=typeof queueMicrotask=="function"?queueMicrotask:typeof nd<"u"?function(t){return nd.resolve(null).then(t).catch(l_)}:nc;function l_(t){setTimeout(function(){throw t})}function rc(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),In(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);In(r)}function Nr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function rd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var _s=Math.random().toString(36).slice(2),bn="__reactFiber$"+_s,Lo="__reactProps$"+_s,ar="__reactContainer$"+_s,ic="__reactEvents$"+_s,u_="__reactListeners$"+_s,c_="__reactHandles$"+_s;function Ti(t){var r=t[bn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ar]||o[bn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=rd(t);t!==null;){if(o=t[bn])return o;t=rd(t)}return r}t=o,o=t.parentNode}return null}function Oo(t){return t=t[bn]||t[ar],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ja(t){return t[Lo]||null}var sc=[],Es=-1;function Lr(t){return{current:t}}function We(t){0>Es||(t.current=sc[Es],sc[Es]=null,Es--)}function He(t,r){Es++,sc[Es]=t.current,t.current=r}var Or={},Vt=Lr(Or),Ht=Lr(!1),Si=Or;function ws(t,r){var o=t.type.contextTypes;if(!o)return Or;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function qt(t){return t=t.childContextTypes,t!=null}function Za(){We(Ht),We(Vt)}function id(t,r,o){if(Vt.current!==Or)throw Error(n(168));He(Vt,r),He(Ht,o)}function sd(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Me(t)||"Unknown",h));return ie({},o,u)}function el(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Or,Si=Vt.current,He(Vt,t),He(Ht,Ht.current),!0}function od(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=sd(t,r,Si),u.__reactInternalMemoizedMergedChildContext=t,We(Ht),We(Vt),He(Vt,t)):We(Ht),He(Ht,o)}var lr=null,tl=!1,oc=!1;function ad(t){lr===null?lr=[t]:lr.push(t)}function h_(t){tl=!0,ad(t)}function Mr(){if(!oc&&lr!==null){oc=!0;var t=0,r=Pe;try{var o=lr;for(Pe=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}lr=null,tl=!1}catch(h){throw lr!==null&&(lr=lr.slice(t+1)),es(pi,Mr),h}finally{Pe=r,oc=!1}}return null}var Ts=[],Ss=0,nl=null,rl=0,cn=[],hn=0,Ii=null,ur=1,cr="";function Ri(t,r){Ts[Ss++]=rl,Ts[Ss++]=nl,nl=t,rl=r}function ld(t,r,o){cn[hn++]=ur,cn[hn++]=cr,cn[hn++]=Ii,Ii=t;var u=ur;t=cr;var h=32-Ut(u)-1;u&=~(1<<h),o+=1;var p=32-Ut(r)+h;if(30<p){var v=h-h%5;p=(u&(1<<v)-1).toString(32),u>>=v,h-=v,ur=1<<32-Ut(r)+h|o<<h|u,cr=p+t}else ur=1<<p|o<<h|u,cr=t}function ac(t){t.return!==null&&(Ri(t,1),ld(t,1,0))}function lc(t){for(;t===nl;)nl=Ts[--Ss],Ts[Ss]=null,rl=Ts[--Ss],Ts[Ss]=null;for(;t===Ii;)Ii=cn[--hn],cn[hn]=null,cr=cn[--hn],cn[hn]=null,ur=cn[--hn],cn[hn]=null}var tn=null,nn=null,Ke=!1,An=null;function ud(t,r){var o=mn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function cd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Nr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ii!==null?{id:ur,overflow:cr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=mn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function uc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cc(t){if(Ke){var r=nn;if(r){var o=r;if(!cd(t,r)){if(uc(t))throw Error(n(418));r=Nr(o.nextSibling);var u=tn;r&&cd(t,r)?ud(u,o):(t.flags=t.flags&-4097|2,Ke=!1,tn=t)}}else{if(uc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,tn=t}}}function hd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function il(t){if(t!==tn)return!1;if(!Ke)return hd(t),Ke=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!tc(t.type,t.memoizedProps)),r&&(r=nn)){if(uc(t))throw fd(),Error(n(418));for(;r;)ud(t,r),r=Nr(r.nextSibling)}if(hd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Nr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Nr(t.stateNode.nextSibling):null;return!0}function fd(){for(var t=nn;t;)t=Nr(t.nextSibling)}function Is(){nn=tn=null,Ke=!1}function hc(t){An===null?An=[t]:An.push(t)}var f_=ce.ReactCurrentBatchConfig;function Mo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var S=h.refs;v===null?delete S[p]:S[p]=v},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function sl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function dd(t){var r=t._init;return r(t._payload)}function pd(t){function r(F,V){if(t){var b=F.deletions;b===null?(F.deletions=[V],F.flags|=16):b.push(V)}}function o(F,V){if(!t)return null;for(;V!==null;)r(F,V),V=V.sibling;return null}function u(F,V){for(F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function h(F,V){return F=Hr(F,V),F.index=0,F.sibling=null,F}function p(F,V,b){return F.index=b,t?(b=F.alternate,b!==null?(b=b.index,b<V?(F.flags|=2,V):b):(F.flags|=2,V)):(F.flags|=1048576,V)}function v(F){return t&&F.alternate===null&&(F.flags|=2),F}function S(F,V,b,Z){return V===null||V.tag!==6?(V=nh(b,F.mode,Z),V.return=F,V):(V=h(V,b),V.return=F,V)}function P(F,V,b,Z){var ue=b.type;return ue===x?G(F,V,b.props.children,Z,b.key):V!==null&&(V.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===xt&&dd(ue)===V.type)?(Z=h(V,b.props),Z.ref=Mo(F,V,b),Z.return=F,Z):(Z=kl(b.type,b.key,b.props,null,F.mode,Z),Z.ref=Mo(F,V,b),Z.return=F,Z)}function B(F,V,b,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==b.containerInfo||V.stateNode.implementation!==b.implementation?(V=rh(b,F.mode,Z),V.return=F,V):(V=h(V,b.children||[]),V.return=F,V)}function G(F,V,b,Z,ue){return V===null||V.tag!==7?(V=Ni(b,F.mode,Z,ue),V.return=F,V):(V=h(V,b),V.return=F,V)}function Y(F,V,b){if(typeof V=="string"&&V!==""||typeof V=="number")return V=nh(""+V,F.mode,b),V.return=F,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Ce:return b=kl(V.type,V.key,V.props,null,F.mode,b),b.ref=Mo(F,null,V),b.return=F,b;case Te:return V=rh(V,F.mode,b),V.return=F,V;case xt:var Z=V._init;return Y(F,Z(V._payload),b)}if(Jn(V)||de(V))return V=Ni(V,F.mode,b,null),V.return=F,V;sl(F,V)}return null}function K(F,V,b,Z){var ue=V!==null?V.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return ue!==null?null:S(F,V,""+b,Z);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ce:return b.key===ue?P(F,V,b,Z):null;case Te:return b.key===ue?B(F,V,b,Z):null;case xt:return ue=b._init,K(F,V,ue(b._payload),Z)}if(Jn(b)||de(b))return ue!==null?null:G(F,V,b,Z,null);sl(F,b)}return null}function re(F,V,b,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(b)||null,S(V,F,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case Ce:return F=F.get(Z.key===null?b:Z.key)||null,P(V,F,Z,ue);case Te:return F=F.get(Z.key===null?b:Z.key)||null,B(V,F,Z,ue);case xt:var pe=Z._init;return re(F,V,b,pe(Z._payload),ue)}if(Jn(Z)||de(Z))return F=F.get(b)||null,G(V,F,Z,ue,null);sl(V,Z)}return null}function ae(F,V,b,Z){for(var ue=null,pe=null,me=V,_e=V=0,Et=null;me!==null&&_e<b.length;_e++){me.index>_e?(Et=me,me=null):Et=me.sibling;var Oe=K(F,me,b[_e],Z);if(Oe===null){me===null&&(me=Et);break}t&&me&&Oe.alternate===null&&r(F,me),V=p(Oe,V,_e),pe===null?ue=Oe:pe.sibling=Oe,pe=Oe,me=Et}if(_e===b.length)return o(F,me),Ke&&Ri(F,_e),ue;if(me===null){for(;_e<b.length;_e++)me=Y(F,b[_e],Z),me!==null&&(V=p(me,V,_e),pe===null?ue=me:pe.sibling=me,pe=me);return Ke&&Ri(F,_e),ue}for(me=u(F,me);_e<b.length;_e++)Et=re(me,F,_e,b[_e],Z),Et!==null&&(t&&Et.alternate!==null&&me.delete(Et.key===null?_e:Et.key),V=p(Et,V,_e),pe===null?ue=Et:pe.sibling=Et,pe=Et);return t&&me.forEach(function(qr){return r(F,qr)}),Ke&&Ri(F,_e),ue}function le(F,V,b,Z){var ue=de(b);if(typeof ue!="function")throw Error(n(150));if(b=ue.call(b),b==null)throw Error(n(151));for(var pe=ue=null,me=V,_e=V=0,Et=null,Oe=b.next();me!==null&&!Oe.done;_e++,Oe=b.next()){me.index>_e?(Et=me,me=null):Et=me.sibling;var qr=K(F,me,Oe.value,Z);if(qr===null){me===null&&(me=Et);break}t&&me&&qr.alternate===null&&r(F,me),V=p(qr,V,_e),pe===null?ue=qr:pe.sibling=qr,pe=qr,me=Et}if(Oe.done)return o(F,me),Ke&&Ri(F,_e),ue;if(me===null){for(;!Oe.done;_e++,Oe=b.next())Oe=Y(F,Oe.value,Z),Oe!==null&&(V=p(Oe,V,_e),pe===null?ue=Oe:pe.sibling=Oe,pe=Oe);return Ke&&Ri(F,_e),ue}for(me=u(F,me);!Oe.done;_e++,Oe=b.next())Oe=re(me,F,_e,Oe.value,Z),Oe!==null&&(t&&Oe.alternate!==null&&me.delete(Oe.key===null?_e:Oe.key),V=p(Oe,V,_e),pe===null?ue=Oe:pe.sibling=Oe,pe=Oe);return t&&me.forEach(function(H_){return r(F,H_)}),Ke&&Ri(F,_e),ue}function rt(F,V,b,Z){if(typeof b=="object"&&b!==null&&b.type===x&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ce:e:{for(var ue=b.key,pe=V;pe!==null;){if(pe.key===ue){if(ue=b.type,ue===x){if(pe.tag===7){o(F,pe.sibling),V=h(pe,b.props.children),V.return=F,F=V;break e}}else if(pe.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===xt&&dd(ue)===pe.type){o(F,pe.sibling),V=h(pe,b.props),V.ref=Mo(F,pe,b),V.return=F,F=V;break e}o(F,pe);break}else r(F,pe);pe=pe.sibling}b.type===x?(V=Ni(b.props.children,F.mode,Z,b.key),V.return=F,F=V):(Z=kl(b.type,b.key,b.props,null,F.mode,Z),Z.ref=Mo(F,V,b),Z.return=F,F=Z)}return v(F);case Te:e:{for(pe=b.key;V!==null;){if(V.key===pe)if(V.tag===4&&V.stateNode.containerInfo===b.containerInfo&&V.stateNode.implementation===b.implementation){o(F,V.sibling),V=h(V,b.children||[]),V.return=F,F=V;break e}else{o(F,V);break}else r(F,V);V=V.sibling}V=rh(b,F.mode,Z),V.return=F,F=V}return v(F);case xt:return pe=b._init,rt(F,V,pe(b._payload),Z)}if(Jn(b))return ae(F,V,b,Z);if(de(b))return le(F,V,b,Z);sl(F,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,V!==null&&V.tag===6?(o(F,V.sibling),V=h(V,b),V.return=F,F=V):(o(F,V),V=nh(b,F.mode,Z),V.return=F,F=V),v(F)):o(F,V)}return rt}var Rs=pd(!0),md=pd(!1),ol=Lr(null),al=null,Cs=null,fc=null;function dc(){fc=Cs=al=null}function pc(t){var r=ol.current;We(ol),t._currentValue=r}function mc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function As(t,r){al=t,fc=Cs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Wt=!0),t.firstContext=null)}function fn(t){var r=t._currentValue;if(fc!==t)if(t={context:t,memoizedValue:r,next:null},Cs===null){if(al===null)throw Error(n(308));Cs=t,al.dependencies={lanes:0,firstContext:t}}else Cs=Cs.next=t;return r}var Ci=null;function gc(t){Ci===null?Ci=[t]:Ci.push(t)}function gd(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,gc(r)):(o.next=h.next,h.next=o),r.interleaved=o,hr(t,u)}function hr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Fr=!1;function yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ur(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Le&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,hr(t,o)}return h=u.interleaved,h===null?(r.next=r,gc(u)):(r.next=h.next,h.next=r),u.interleaved=r,hr(t,o)}function ll(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}function _d(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function ul(t,r,o,u){var h=t.updateQueue;Fr=!1;var p=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var P=S,B=P.next;P.next=null,v===null?p=B:v.next=B,v=P;var G=t.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==v&&(S===null?G.firstBaseUpdate=B:S.next=B,G.lastBaseUpdate=P))}if(p!==null){var Y=h.baseState;v=0,G=B=P=null,S=p;do{var K=S.lane,re=S.eventTime;if((u&K)===K){G!==null&&(G=G.next={eventTime:re,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ae=t,le=S;switch(K=r,re=o,le.tag){case 1:if(ae=le.payload,typeof ae=="function"){Y=ae.call(re,Y,K);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=le.payload,K=typeof ae=="function"?ae.call(re,Y,K):ae,K==null)break e;Y=ie({},Y,K);break e;case 2:Fr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,K=h.effects,K===null?h.effects=[S]:K.push(S))}else re={eventTime:re,lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(B=G=re,P=Y):G=G.next=re,v|=K;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);if(G===null&&(P=Y),h.baseState=P,h.firstBaseUpdate=B,h.lastBaseUpdate=G,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);ki|=v,t.lanes=v,t.memoizedState=Y}}function vd(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Fo={},Bn=Lr(Fo),Uo=Lr(Fo),zo=Lr(Fo);function Ai(t){if(t===Fo)throw Error(n(174));return t}function _c(t,r){switch(He(zo,r),He(Uo,t),He(Bn,Fo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}We(Bn),He(Bn,r)}function Ps(){We(Bn),We(Uo),We(zo)}function Ed(t){Ai(zo.current);var r=Ai(Bn.current),o=ut(r,t.type);r!==o&&(He(Uo,t),He(Bn,o))}function vc(t){Uo.current===t&&(We(Bn),We(Uo))}var Xe=Lr(0);function cl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ec=[];function wc(){for(var t=0;t<Ec.length;t++)Ec[t]._workInProgressVersionPrimary=null;Ec.length=0}var hl=ce.ReactCurrentDispatcher,Tc=ce.ReactCurrentBatchConfig,Pi=0,Ye=null,ht=null,_t=null,fl=!1,bo=!1,Bo=0,d_=0;function Dt(){throw Error(n(321))}function Sc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Cn(t[o],r[o]))return!1;return!0}function Ic(t,r,o,u,h,p){if(Pi=p,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,hl.current=t===null||t.memoizedState===null?y_:__,t=o(u,h),bo){p=0;do{if(bo=!1,Bo=0,25<=p)throw Error(n(301));p+=1,_t=ht=null,r.updateQueue=null,hl.current=v_,t=o(u,h)}while(bo)}if(hl.current=ml,r=ht!==null&&ht.next!==null,Pi=0,_t=ht=Ye=null,fl=!1,r)throw Error(n(300));return t}function Rc(){var t=Bo!==0;return Bo=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ye.memoizedState=_t=t:_t=_t.next=t,_t}function dn(){if(ht===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=_t===null?Ye.memoizedState:_t.next;if(r!==null)_t=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},_t===null?Ye.memoizedState=_t=t:_t=_t.next=t}return _t}function jo(t,r){return typeof r=="function"?r(t):r}function Cc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ht,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var v=h.next;h.next=p.next,p.next=v}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var S=v=null,P=null,B=p;do{var G=B.lane;if((Pi&G)===G)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),u=B.hasEagerState?B.eagerState:t(u,B.action);else{var Y={lane:G,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(S=P=Y,v=u):P=P.next=Y,Ye.lanes|=G,ki|=G}B=B.next}while(B!==null&&B!==p);P===null?v=u:P.next=S,Cn(u,r.memoizedState)||(Wt=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=P,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ye.lanes|=p,ki|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Ac(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do p=t(p,v.action),v=v.next;while(v!==h);Cn(p,r.memoizedState)||(Wt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function wd(){}function Td(t,r){var o=Ye,u=dn(),h=r(),p=!Cn(u.memoizedState,h);if(p&&(u.memoizedState=h,Wt=!0),u=u.queue,Pc(Rd.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||_t!==null&&_t.memoizedState.tag&1){if(o.flags|=2048,$o(9,Id.bind(null,o,u,h,r),void 0,null),vt===null)throw Error(n(349));Pi&30||Sd(o,r,h)}return h}function Sd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function Id(t,r,o,u){r.value=o,r.getSnapshot=u,Cd(r)&&Ad(t)}function Rd(t,r,o){return o(function(){Cd(r)&&Ad(t)})}function Cd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Cn(t,o)}catch{return!0}}function Ad(t){var r=hr(t,1);r!==null&&Vn(r,t,1,-1)}function Pd(t){var r=jn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:t},r.queue=t,t=t.dispatch=g_.bind(null,Ye,t),[r.memoizedState,t]}function $o(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function kd(){return dn().memoizedState}function dl(t,r,o,u){var h=jn();Ye.flags|=t,h.memoizedState=$o(1|r,o,void 0,u===void 0?null:u)}function pl(t,r,o,u){var h=dn();u=u===void 0?null:u;var p=void 0;if(ht!==null){var v=ht.memoizedState;if(p=v.destroy,u!==null&&Sc(u,v.deps)){h.memoizedState=$o(r,o,p,u);return}}Ye.flags|=t,h.memoizedState=$o(1|r,o,p,u)}function xd(t,r){return dl(8390656,8,t,r)}function Pc(t,r){return pl(2048,8,t,r)}function Vd(t,r){return pl(4,2,t,r)}function Dd(t,r){return pl(4,4,t,r)}function Nd(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ld(t,r,o){return o=o!=null?o.concat([t]):null,pl(4,4,Nd.bind(null,r,t),o)}function kc(){}function Od(t,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Sc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Md(t,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Sc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Fd(t,r,o){return Pi&21?(Cn(o,r)||(o=yi(),Ye.lanes|=o,ki|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=o)}function p_(t,r){var o=Pe;Pe=o!==0&&4>o?o:4,t(!0);var u=Tc.transition;Tc.transition={};try{t(!1),r()}finally{Pe=o,Tc.transition=u}}function Ud(){return dn().memoizedState}function m_(t,r,o){var u=jr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},zd(t))bd(r,o);else if(o=gd(t,r,o,u),o!==null){var h=Bt();Vn(o,t,u,h),Bd(o,r,u)}}function g_(t,r,o){var u=jr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(zd(t))bd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,S=p(v,o);if(h.hasEagerState=!0,h.eagerState=S,Cn(S,v)){var P=r.interleaved;P===null?(h.next=h,gc(r)):(h.next=P.next,P.next=h),r.interleaved=h;return}}catch{}finally{}o=gd(t,r,h,u),o!==null&&(h=Bt(),Vn(o,t,u,h),Bd(o,r,u))}}function zd(t){var r=t.alternate;return t===Ye||r!==null&&r===Ye}function bd(t,r){bo=fl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Bd(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}var ml={readContext:fn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},y_={readContext:fn,useCallback:function(t,r){return jn().memoizedState=[t,r===void 0?null:r],t},useContext:fn,useEffect:xd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,dl(4194308,4,Nd.bind(null,r,t),o)},useLayoutEffect:function(t,r){return dl(4194308,4,t,r)},useInsertionEffect:function(t,r){return dl(4,2,t,r)},useMemo:function(t,r){var o=jn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=jn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=m_.bind(null,Ye,t),[u.memoizedState,t]},useRef:function(t){var r=jn();return t={current:t},r.memoizedState=t},useState:Pd,useDebugValue:kc,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=Pd(!1),r=t[0];return t=p_.bind(null,t[1]),jn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ye,h=jn();if(Ke){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),vt===null)throw Error(n(349));Pi&30||Sd(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,xd(Rd.bind(null,u,p,t),[t]),u.flags|=2048,$o(9,Id.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=jn(),r=vt.identifierPrefix;if(Ke){var o=cr,u=ur;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Bo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=d_++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},__={readContext:fn,useCallback:Od,useContext:fn,useEffect:Pc,useImperativeHandle:Ld,useInsertionEffect:Vd,useLayoutEffect:Dd,useMemo:Md,useReducer:Cc,useRef:kd,useState:function(){return Cc(jo)},useDebugValue:kc,useDeferredValue:function(t){var r=dn();return Fd(r,ht.memoizedState,t)},useTransition:function(){var t=Cc(jo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:wd,useSyncExternalStore:Td,useId:Ud,unstable_isNewReconciler:!1},v_={readContext:fn,useCallback:Od,useContext:fn,useEffect:Pc,useImperativeHandle:Ld,useInsertionEffect:Vd,useLayoutEffect:Dd,useMemo:Md,useReducer:Ac,useRef:kd,useState:function(){return Ac(jo)},useDebugValue:kc,useDeferredValue:function(t){var r=dn();return ht===null?r.memoizedState=t:Fd(r,ht.memoizedState,t)},useTransition:function(){var t=Ac(jo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:wd,useSyncExternalStore:Td,useId:Ud,unstable_isNewReconciler:!1};function Pn(t,r){if(t&&t.defaultProps){r=ie({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function xc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:ie({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var gl={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Bt(),h=jr(t),p=fr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,h),r!==null&&(Vn(r,t,h,u),ll(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Bt(),h=jr(t),p=fr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,h),r!==null&&(Vn(r,t,h,u),ll(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Bt(),u=jr(t),h=fr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Ur(t,h,u),r!==null&&(Vn(r,t,u,o),ll(r,t,u))}};function jd(t,r,o,u,h,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!ko(o,u)||!ko(h,p):!0}function $d(t,r,o){var u=!1,h=Or,p=r.contextType;return typeof p=="object"&&p!==null?p=fn(p):(h=qt(r)?Si:Vt.current,u=r.contextTypes,p=(u=u!=null)?ws(t,h):Or),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=gl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function Hd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&gl.enqueueReplaceState(r,r.state,null)}function Vc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},yc(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=fn(p):(p=qt(r)?Si:Vt.current,h.context=ws(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(xc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&gl.enqueueReplaceState(h,h.state,null),ul(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function ks(t,r){try{var o="",u=r;do o+=Ie(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function Dc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Nc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var E_=typeof WeakMap=="function"?WeakMap:Map;function qd(t,r,o){o=fr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Sl||(Sl=!0,Kc=u),Nc(t,r)},o}function Wd(t,r,o){o=fr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){Nc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Nc(t,r),typeof u!="function"&&(br===null?br=new Set([this]):br.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function Qd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new E_;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=L_.bind(null,t,r,o),r.then(t,t))}function Kd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Gd(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=fr(-1,1),r.tag=2,Ur(o,r,1))),o.lanes|=1),t)}var w_=ce.ReactCurrentOwner,Wt=!1;function bt(t,r,o,u){r.child=t===null?md(r,null,o,u):Rs(r,t.child,o,u)}function Xd(t,r,o,u,h){o=o.render;var p=r.ref;return As(r,h),u=Ic(t,r,o,u,p,h),o=Rc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,dr(t,r,h)):(Ke&&o&&ac(r),r.flags|=1,bt(t,r,u,h),r.child)}function Yd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!th(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Jd(t,r,p,u,h)):(t=kl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:ko,o(v,u)&&t.ref===r.ref)return dr(t,r,h)}return r.flags|=1,t=Hr(p,u),t.ref=r.ref,t.return=r,r.child=t}function Jd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(ko(p,u)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(Wt=!0);else return r.lanes=t.lanes,dr(t,r,h)}return Lc(t,r,o,u,h)}function Zd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Vs,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,He(Vs,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,He(Vs,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,He(Vs,rn),rn|=u;return bt(t,r,h,o),r.child}function ep(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Lc(t,r,o,u,h){var p=qt(o)?Si:Vt.current;return p=ws(r,p),As(r,h),o=Ic(t,r,o,u,p,h),u=Rc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,dr(t,r,h)):(Ke&&u&&ac(r),r.flags|=1,bt(t,r,o,h),r.child)}function tp(t,r,o,u,h){if(qt(o)){var p=!0;el(r)}else p=!1;if(As(r,h),r.stateNode===null)_l(t,r),$d(r,o,u),Vc(r,o,u,h),u=!0;else if(t===null){var v=r.stateNode,S=r.memoizedProps;v.props=S;var P=v.context,B=o.contextType;typeof B=="object"&&B!==null?B=fn(B):(B=qt(o)?Si:Vt.current,B=ws(r,B));var G=o.getDerivedStateFromProps,Y=typeof G=="function"||typeof v.getSnapshotBeforeUpdate=="function";Y||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==u||P!==B)&&Hd(r,v,u,B),Fr=!1;var K=r.memoizedState;v.state=K,ul(r,u,v,h),P=r.memoizedState,S!==u||K!==P||Ht.current||Fr?(typeof G=="function"&&(xc(r,o,G,u),P=r.memoizedState),(S=Fr||jd(r,o,S,u,K,P,B))?(Y||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),v.props=u,v.state=P,v.context=B,u=S):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,yd(t,r),S=r.memoizedProps,B=r.type===r.elementType?S:Pn(r.type,S),v.props=B,Y=r.pendingProps,K=v.context,P=o.contextType,typeof P=="object"&&P!==null?P=fn(P):(P=qt(o)?Si:Vt.current,P=ws(r,P));var re=o.getDerivedStateFromProps;(G=typeof re=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==Y||K!==P)&&Hd(r,v,u,P),Fr=!1,K=r.memoizedState,v.state=K,ul(r,u,v,h);var ae=r.memoizedState;S!==Y||K!==ae||Ht.current||Fr?(typeof re=="function"&&(xc(r,o,re,u),ae=r.memoizedState),(B=Fr||jd(r,o,B,u,K,ae,P)||!1)?(G||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ae,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ae,P)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),v.props=u,v.state=ae,v.context=P,u=B):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),u=!1)}return Oc(t,r,o,u,p,h)}function Oc(t,r,o,u,h,p){ep(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return h&&od(r,o,!1),dr(t,r,p);u=r.stateNode,w_.current=r;var S=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=Rs(r,t.child,null,p),r.child=Rs(r,null,S,p)):bt(t,r,S,p),r.memoizedState=u.state,h&&od(r,o,!0),r.child}function np(t){var r=t.stateNode;r.pendingContext?id(t,r.pendingContext,r.pendingContext!==r.context):r.context&&id(t,r.context,!1),_c(t,r.containerInfo)}function rp(t,r,o,u,h){return Is(),hc(h),r.flags|=256,bt(t,r,o,u),r.child}var Mc={dehydrated:null,treeContext:null,retryLane:0};function Fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function ip(t,r,o){var u=r.pendingProps,h=Xe.current,p=!1,v=(r.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(h&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),He(Xe,h&1),t===null)return cc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=u.children,t=u.fallback,p?(u=r.mode,p=r.child,v={mode:"hidden",children:v},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=xl(v,u,0,null),t=Ni(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Fc(o),r.memoizedState=Mc,t):Uc(r,v));if(h=t.memoizedState,h!==null&&(S=h.dehydrated,S!==null))return T_(t,r,v,u,S,h,o);if(p){p=u.fallback,v=r.mode,h=t.child,S=h.sibling;var P={mode:"hidden",children:u.children};return!(v&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=Hr(h,P),u.subtreeFlags=h.subtreeFlags&14680064),S!==null?p=Hr(S,p):(p=Ni(p,v,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,v=t.child.memoizedState,v=v===null?Fc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,r.memoizedState=Mc,u}return p=t.child,t=p.sibling,u=Hr(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Uc(t,r){return r=xl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function yl(t,r,o,u){return u!==null&&hc(u),Rs(r,t.child,null,o),t=Uc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function T_(t,r,o,u,h,p,v){if(o)return r.flags&256?(r.flags&=-257,u=Dc(Error(n(422))),yl(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=xl({mode:"visible",children:u.children},h,0,null),p=Ni(p,h,v,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&Rs(r,t.child,null,v),r.child.memoizedState=Fc(v),r.memoizedState=Mc,p);if(!(r.mode&1))return yl(t,r,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var S=u.dgst;return u=S,p=Error(n(419)),u=Dc(p,u,void 0),yl(t,r,v,u)}if(S=(v&t.childLanes)!==0,Wt||S){if(u=vt,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|v)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,hr(t,h),Vn(u,t,h,-1))}return eh(),u=Dc(Error(n(421))),yl(t,r,v,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=O_.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,nn=Nr(h.nextSibling),tn=r,Ke=!0,An=null,t!==null&&(cn[hn++]=ur,cn[hn++]=cr,cn[hn++]=Ii,ur=t.id,cr=t.overflow,Ii=r),r=Uc(r,u.children),r.flags|=4096,r)}function sp(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),mc(t.return,r,o)}function zc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function op(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(bt(t,r,u.children,o),u=Xe.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sp(t,o,r);else if(t.tag===19)sp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(He(Xe,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&cl(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),zc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&cl(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}zc(r,!0,o,null,p);break;case"together":zc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function _l(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function dr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),ki|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Hr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Hr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function S_(t,r,o){switch(r.tag){case 3:np(r),Is();break;case 5:Ed(r);break;case 1:qt(r.type)&&el(r);break;case 4:_c(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;He(ol,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(He(Xe,Xe.current&1),r.flags|=128,null):o&r.child.childLanes?ip(t,r,o):(He(Xe,Xe.current&1),t=dr(t,r,o),t!==null?t.sibling:null);He(Xe,Xe.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return op(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),He(Xe,Xe.current),u)break;return null;case 22:case 23:return r.lanes=0,Zd(t,r,o)}return dr(t,r,o)}var ap,bc,lp,up;ap=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},bc=function(){},lp=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ai(Bn.current);var p=null;switch(o){case"input":h=oi(t,h),u=oi(t,u),p=[];break;case"select":h=ie({},h,{value:void 0}),u=ie({},u,{value:void 0}),p=[];break;case"textarea":h=ro(t,h),u=ro(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ya)}uo(o,u);var v;o=null;for(B in h)if(!u.hasOwnProperty(B)&&h.hasOwnProperty(B)&&h[B]!=null)if(B==="style"){var S=h[B];for(v in S)S.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?p||(p=[]):(p=p||[]).push(B,null));for(B in u){var P=u[B];if(S=h!=null?h[B]:void 0,u.hasOwnProperty(B)&&P!==S&&(P!=null||S!=null))if(B==="style")if(S){for(v in S)!S.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in P)P.hasOwnProperty(v)&&S[v]!==P[v]&&(o||(o={}),o[v]=P[v])}else o||(p||(p=[]),p.push(B,o)),o=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(p=p||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&qe("scroll",t),p||S===P||(p=[])):(p=p||[]).push(B,P))}o&&(p=p||[]).push("style",o);var B=p;(r.updateQueue=B)&&(r.flags|=4)}},up=function(t,r,o,u){o!==u&&(r.flags|=4)};function Ho(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function I_(t,r,o){var u=r.pendingProps;switch(lc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(r),null;case 1:return qt(r.type)&&Za(),Nt(r),null;case 3:return u=r.stateNode,Ps(),We(Ht),We(Vt),wc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(il(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,An!==null&&(Yc(An),An=null))),bc(t,r),Nt(r),null;case 5:vc(r);var h=Ai(zo.current);if(o=r.type,t!==null&&r.stateNode!=null)lp(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Nt(r),null}if(t=Ai(Bn.current),il(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[bn]=r,u[Lo]=p,t=(r.mode&1)!==0,o){case"dialog":qe("cancel",u),qe("close",u);break;case"iframe":case"object":case"embed":qe("load",u);break;case"video":case"audio":for(h=0;h<Vo.length;h++)qe(Vo[h],u);break;case"source":qe("error",u);break;case"img":case"image":case"link":qe("error",u),qe("load",u);break;case"details":qe("toggle",u);break;case"input":$i(u,p),qe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},qe("invalid",u);break;case"textarea":qi(u,p),qe("invalid",u)}uo(o,p),h=null;for(var v in p)if(p.hasOwnProperty(v)){var S=p[v];v==="children"?typeof S=="string"?u.textContent!==S&&(p.suppressHydrationWarning!==!0&&Xa(u.textContent,S,t),h=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&Xa(u.textContent,S,t),h=["children",""+S]):a.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&qe("scroll",u)}switch(o){case"input":Yn(u),Ta(u,p,!0);break;case"textarea":Yn(u),io(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ya)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[bn]=r,t[Lo]=u,ap(t,r,!1,!1),r.stateNode=t;e:{switch(v=co(o,u),o){case"dialog":qe("cancel",t),qe("close",t),h=u;break;case"iframe":case"object":case"embed":qe("load",t),h=u;break;case"video":case"audio":for(h=0;h<Vo.length;h++)qe(Vo[h],t);h=u;break;case"source":qe("error",t),h=u;break;case"img":case"image":case"link":qe("error",t),qe("load",t),h=u;break;case"details":qe("toggle",t),h=u;break;case"input":$i(t,u),h=oi(t,u),qe("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=ie({},u,{value:void 0}),qe("invalid",t);break;case"textarea":qi(t,u),h=ro(t,u),qe("invalid",t);break;default:h=u}uo(o,h),S=h;for(p in S)if(S.hasOwnProperty(p)){var P=S[p];p==="style"?ao(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&so(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&Tr(t,P):typeof P=="number"&&Tr(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&qe("scroll",t):P!=null&&J(t,p,P,v))}switch(o){case"input":Yn(t),Ta(t,u,!1);break;case"textarea":Yn(t),io(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Fe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Zn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Zn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ya)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Nt(r),null;case 6:if(t&&r.stateNode!=null)up(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ai(zo.current),Ai(Bn.current),il(r)){if(u=r.stateNode,o=r.memoizedProps,u[bn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:Xa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xa(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[bn]=r,r.stateNode=u}return Nt(r),null;case 13:if(We(Xe),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&nn!==null&&r.mode&1&&!(r.flags&128))fd(),Is(),r.flags|=98560,p=!1;else if(p=il(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[bn]=r}else Is(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Nt(r),p=!1}else An!==null&&(Yc(An),An=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Xe.current&1?ft===0&&(ft=3):eh())),r.updateQueue!==null&&(r.flags|=4),Nt(r),null);case 4:return Ps(),bc(t,r),t===null&&Do(r.stateNode.containerInfo),Nt(r),null;case 10:return pc(r.type._context),Nt(r),null;case 17:return qt(r.type)&&Za(),Nt(r),null;case 19:if(We(Xe),p=r.memoizedState,p===null)return Nt(r),null;if(u=(r.flags&128)!==0,v=p.rendering,v===null)if(u)Ho(p,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=cl(t),v!==null){for(r.flags|=128,Ho(p,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return He(Xe,Xe.current&1|2),r.child}t=t.sibling}p.tail!==null&&$e()>Ds&&(r.flags|=128,u=!0,Ho(p,!1),r.lanes=4194304)}else{if(!u)if(t=cl(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Ho(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ke)return Nt(r),null}else 2*$e()-p.renderingStartTime>Ds&&o!==1073741824&&(r.flags|=128,u=!0,Ho(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,o=Xe.current,He(Xe,u?o&1|2:o&1),r):(Nt(r),null);case 22:case 23:return Zc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?rn&1073741824&&(Nt(r),r.subtreeFlags&6&&(r.flags|=8192)):Nt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function R_(t,r){switch(lc(r),r.tag){case 1:return qt(r.type)&&Za(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ps(),We(Ht),We(Vt),wc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return vc(r),null;case 13:if(We(Xe),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Is()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(Xe),null;case 4:return Ps(),null;case 10:return pc(r.type._context),null;case 22:case 23:return Zc(),null;case 24:return null;default:return null}}var vl=!1,Lt=!1,C_=typeof WeakSet=="function"?WeakSet:Set,oe=null;function xs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){et(t,r,u)}else o.current=null}function Bc(t,r,o){try{o()}catch(u){et(t,r,u)}}var cp=!1;function A_(t,r){if(Zu=xr,t=jf(),qu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,S=-1,P=-1,B=0,G=0,Y=t,K=null;t:for(;;){for(var re;Y!==o||h!==0&&Y.nodeType!==3||(S=v+h),Y!==p||u!==0&&Y.nodeType!==3||(P=v+u),Y.nodeType===3&&(v+=Y.nodeValue.length),(re=Y.firstChild)!==null;)K=Y,Y=re;for(;;){if(Y===t)break t;if(K===o&&++B===h&&(S=v),K===p&&++G===u&&(P=v),(re=Y.nextSibling)!==null)break;Y=K,K=Y.parentNode}Y=re}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(ec={focusedElem:t,selectionRange:o},xr=!1,oe=r;oe!==null;)if(r=oe,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,oe=t;else for(;oe!==null;){r=oe;try{var ae=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var le=ae.memoizedProps,rt=ae.memoizedState,F=r.stateNode,V=F.getSnapshotBeforeUpdate(r.elementType===r.type?le:Pn(r.type,le),rt);F.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var b=r.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){et(r,r.return,Z)}if(t=r.sibling,t!==null){t.return=r.return,oe=t;break}oe=r.return}return ae=cp,cp=!1,ae}function qo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Bc(r,o,p)}h=h.next}while(h!==u)}}function El(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function jc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function hp(t){var r=t.alternate;r!==null&&(t.alternate=null,hp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[bn],delete r[Lo],delete r[ic],delete r[u_],delete r[c_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fp(t){return t.tag===5||t.tag===3||t.tag===4}function dp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $c(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ya));else if(u!==4&&(t=t.child,t!==null))for($c(t,r,o),t=t.sibling;t!==null;)$c(t,r,o),t=t.sibling}function Hc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Hc(t,r,o),t=t.sibling;t!==null;)Hc(t,r,o),t=t.sibling}var It=null,kn=!1;function zr(t,r,o){for(o=o.child;o!==null;)pp(t,r,o),o=o.sibling}function pp(t,r,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(mi,o)}catch{}switch(o.tag){case 5:Lt||xs(o,r);case 6:var u=It,h=kn;It=null,zr(t,r,o),It=u,kn=h,It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):It.removeChild(o.stateNode));break;case 18:It!==null&&(kn?(t=It,o=o.stateNode,t.nodeType===8?rc(t.parentNode,o):t.nodeType===1&&rc(t,o),In(t)):rc(It,o.stateNode));break;case 4:u=It,h=kn,It=o.stateNode.containerInfo,kn=!0,zr(t,r,o),It=u,kn=h;break;case 0:case 11:case 14:case 15:if(!Lt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&Bc(o,r,v),h=h.next}while(h!==u)}zr(t,r,o);break;case 1:if(!Lt&&(xs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){et(o,r,S)}zr(t,r,o);break;case 21:zr(t,r,o);break;case 22:o.mode&1?(Lt=(u=Lt)||o.memoizedState!==null,zr(t,r,o),Lt=u):zr(t,r,o);break;default:zr(t,r,o)}}function mp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new C_),r.forEach(function(u){var h=M_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function xn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 5:It=S.stateNode,kn=!1;break e;case 3:It=S.stateNode.containerInfo,kn=!0;break e;case 4:It=S.stateNode.containerInfo,kn=!0;break e}S=S.return}if(It===null)throw Error(n(160));pp(p,v,h),It=null,kn=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch(B){et(h,r,B)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)gp(r,t),r=r.sibling}function gp(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xn(r,t),$n(t),u&4){try{qo(3,t,t.return),El(3,t)}catch(le){et(t,t.return,le)}try{qo(5,t,t.return)}catch(le){et(t,t.return,le)}}break;case 1:xn(r,t),$n(t),u&512&&o!==null&&xs(o,o.return);break;case 5:if(xn(r,t),$n(t),u&512&&o!==null&&xs(o,o.return),t.flags&32){var h=t.stateNode;try{Tr(h,"")}catch(le){et(t,t.return,le)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&to(h,p),co(S,v);var B=co(S,p);for(v=0;v<P.length;v+=2){var G=P[v],Y=P[v+1];G==="style"?ao(h,Y):G==="dangerouslySetInnerHTML"?so(h,Y):G==="children"?Tr(h,Y):J(h,G,Y,B)}switch(S){case"input":no(h,p);break;case"textarea":Wi(h,p);break;case"select":var K=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var re=p.value;re!=null?Zn(h,!!p.multiple,re,!1):K!==!!p.multiple&&(p.defaultValue!=null?Zn(h,!!p.multiple,p.defaultValue,!0):Zn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Lo]=p}catch(le){et(t,t.return,le)}}break;case 6:if(xn(r,t),$n(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(le){et(t,t.return,le)}}break;case 3:if(xn(r,t),$n(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(le){et(t,t.return,le)}break;case 4:xn(r,t),$n(t);break;case 13:xn(r,t),$n(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Qc=$e())),u&4&&mp(t);break;case 22:if(G=o!==null&&o.memoizedState!==null,t.mode&1?(Lt=(B=Lt)||G,xn(r,t),Lt=B):xn(r,t),$n(t),u&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!G&&t.mode&1)for(oe=t,G=t.child;G!==null;){for(Y=oe=G;oe!==null;){switch(K=oe,re=K.child,K.tag){case 0:case 11:case 14:case 15:qo(4,K,K.return);break;case 1:xs(K,K.return);var ae=K.stateNode;if(typeof ae.componentWillUnmount=="function"){u=K,o=K.return;try{r=u,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(le){et(u,o,le)}}break;case 5:xs(K,K.return);break;case 22:if(K.memoizedState!==null){vp(Y);continue}}re!==null?(re.return=K,oe=re):vp(Y)}G=G.sibling}e:for(G=null,Y=t;;){if(Y.tag===5){if(G===null){G=Y;try{h=Y.stateNode,B?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=Y.stateNode,P=Y.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=oo("display",v))}catch(le){et(t,t.return,le)}}}else if(Y.tag===6){if(G===null)try{Y.stateNode.nodeValue=B?"":Y.memoizedProps}catch(le){et(t,t.return,le)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;G===Y&&(G=null),Y=Y.return}G===Y&&(G=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:xn(r,t),$n(t),u&4&&mp(t);break;case 21:break;default:xn(r,t),$n(t)}}function $n(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(fp(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(Tr(h,""),u.flags&=-33);var p=dp(t);Hc(t,p,h);break;case 3:case 4:var v=u.stateNode.containerInfo,S=dp(t);$c(t,S,v);break;default:throw Error(n(161))}}catch(P){et(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function P_(t,r,o){oe=t,yp(t)}function yp(t,r,o){for(var u=(t.mode&1)!==0;oe!==null;){var h=oe,p=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||vl;if(!v){var S=h.alternate,P=S!==null&&S.memoizedState!==null||Lt;S=vl;var B=Lt;if(vl=v,(Lt=P)&&!B)for(oe=h;oe!==null;)v=oe,P=v.child,v.tag===22&&v.memoizedState!==null?Ep(h):P!==null?(P.return=v,oe=P):Ep(h);for(;p!==null;)oe=p,yp(p),p=p.sibling;oe=h,vl=S,Lt=B}_p(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,oe=p):_p(t)}}function _p(t){for(;oe!==null;){var r=oe;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Lt||El(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Lt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Pn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&vd(r,p,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}vd(r,v,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var B=r.alternate;if(B!==null){var G=B.memoizedState;if(G!==null){var Y=G.dehydrated;Y!==null&&In(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&jc(r)}catch(K){et(r,r.return,K)}}if(r===t){oe=null;break}if(o=r.sibling,o!==null){o.return=r.return,oe=o;break}oe=r.return}}function vp(t){for(;oe!==null;){var r=oe;if(r===t){oe=null;break}var o=r.sibling;if(o!==null){o.return=r.return,oe=o;break}oe=r.return}}function Ep(t){for(;oe!==null;){var r=oe;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{El(4,r)}catch(P){et(r,o,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(P){et(r,h,P)}}var p=r.return;try{jc(r)}catch(P){et(r,p,P)}break;case 5:var v=r.return;try{jc(r)}catch(P){et(r,v,P)}}}catch(P){et(r,r.return,P)}if(r===t){oe=null;break}var S=r.sibling;if(S!==null){S.return=r.return,oe=S;break}oe=r.return}}var k_=Math.ceil,wl=ce.ReactCurrentDispatcher,qc=ce.ReactCurrentOwner,pn=ce.ReactCurrentBatchConfig,Le=0,vt=null,ot=null,Rt=0,rn=0,Vs=Lr(0),ft=0,Wo=null,ki=0,Tl=0,Wc=0,Qo=null,Qt=null,Qc=0,Ds=1/0,pr=null,Sl=!1,Kc=null,br=null,Il=!1,Br=null,Rl=0,Ko=0,Gc=null,Cl=-1,Al=0;function Bt(){return Le&6?$e():Cl!==-1?Cl:Cl=$e()}function jr(t){return t.mode&1?Le&2&&Rt!==0?Rt&-Rt:f_.transition!==null?(Al===0&&(Al=yi()),Al):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:To(t.type)),t):1}function Vn(t,r,o,u){if(50<Ko)throw Ko=0,Gc=null,Error(n(185));Cr(t,o,u),(!(Le&2)||t!==vt)&&(t===vt&&(!(Le&2)&&(Tl|=o),ft===4&&$r(t,Rt)),Kt(t,u),o===1&&Le===0&&!(r.mode&1)&&(Ds=$e()+500,tl&&Mr()))}function Kt(t,r){var o=t.callbackNode;nr(t,r);var u=gi(t,t===vt?Rt:0);if(u===0)o!==null&&yo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&yo(o),r===1)t.tag===0?h_(Tp.bind(null,t)):ad(Tp.bind(null,t)),a_(function(){!(Le&6)&&Mr()}),o=null;else{switch(Pr(u)){case 1:o=pi;break;case 4:o=Sr;break;case 16:o=an;break;case 536870912:o=Aa;break;default:o=an}o=xp(o,wp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function wp(t,r){if(Cl=-1,Al=0,Le&6)throw Error(n(327));var o=t.callbackNode;if(Ns()&&t.callbackNode!==o)return null;var u=gi(t,t===vt?Rt:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=Pl(t,u);else{r=u;var h=Le;Le|=2;var p=Ip();(vt!==t||Rt!==r)&&(pr=null,Ds=$e()+500,Vi(t,r));do try{D_();break}catch(S){Sp(t,S)}while(!0);dc(),wl.current=p,Le=h,ot!==null?r=0:(vt=null,Rt=0,r=ft)}if(r!==0){if(r===2&&(h=Jt(t),h!==0&&(u=h,r=Xc(t,h))),r===1)throw o=Wo,Vi(t,0),$r(t,u),Kt(t,$e()),o;if(r===6)$r(t,u);else{if(h=t.current.alternate,!(u&30)&&!x_(h)&&(r=Pl(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=Xc(t,p))),r===1))throw o=Wo,Vi(t,0),$r(t,u),Kt(t,$e()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Di(t,Qt,pr);break;case 3:if($r(t,u),(u&130023424)===u&&(r=Qc+500-$e(),10<r)){if(gi(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Bt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=nc(Di.bind(null,t,Qt,pr),r);break}Di(t,Qt,pr);break;case 4:if($r(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var v=31-Ut(u);p=1<<v,v=r[v],v>h&&(h=v),u&=~p}if(u=h,u=$e()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*k_(u/1960))-u,10<u){t.timeoutHandle=nc(Di.bind(null,t,Qt,pr),u);break}Di(t,Qt,pr);break;case 5:Di(t,Qt,pr);break;default:throw Error(n(329))}}}return Kt(t,$e()),t.callbackNode===o?wp.bind(null,t):null}function Xc(t,r){var o=Qo;return t.current.memoizedState.isDehydrated&&(Vi(t,r).flags|=256),t=Pl(t,r),t!==2&&(r=Qt,Qt=o,r!==null&&Yc(r)),t}function Yc(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function x_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Cn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(t,r){for(r&=~Wc,r&=~Tl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ut(r),u=1<<o;t[o]=-1,r&=~u}}function Tp(t){if(Le&6)throw Error(n(327));Ns();var r=gi(t,0);if(!(r&1))return Kt(t,$e()),null;var o=Pl(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=Xc(t,u))}if(o===1)throw o=Wo,Vi(t,0),$r(t,r),Kt(t,$e()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Di(t,Qt,pr),Kt(t,$e()),null}function Jc(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(Ds=$e()+500,tl&&Mr())}}function xi(t){Br!==null&&Br.tag===0&&!(Le&6)&&Ns();var r=Le;Le|=1;var o=pn.transition,u=Pe;try{if(pn.transition=null,Pe=1,t)return t()}finally{Pe=u,pn.transition=o,Le=r,!(Le&6)&&Mr()}}function Zc(){rn=Vs.current,We(Vs)}function Vi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,o_(o)),ot!==null)for(o=ot.return;o!==null;){var u=o;switch(lc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Za();break;case 3:Ps(),We(Ht),We(Vt),wc();break;case 5:vc(u);break;case 4:Ps();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:pc(u.type._context);break;case 22:case 23:Zc()}o=o.return}if(vt=t,ot=t=Hr(t.current,null),Rt=rn=r,ft=0,Wo=null,Wc=Tl=ki=0,Qt=Qo=null,Ci!==null){for(r=0;r<Ci.length;r++)if(o=Ci[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var v=p.next;p.next=h,u.next=v}o.pending=u}Ci=null}return t}function Sp(t,r){do{var o=ot;try{if(dc(),hl.current=ml,fl){for(var u=Ye.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}fl=!1}if(Pi=0,_t=ht=Ye=null,bo=!1,Bo=0,qc.current=null,o===null||o.return===null){ft=1,Wo=r,ot=null;break}e:{var p=t,v=o.return,S=o,P=r;if(r=Rt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,G=S,Y=G.tag;if(!(G.mode&1)&&(Y===0||Y===11||Y===15)){var K=G.alternate;K?(G.updateQueue=K.updateQueue,G.memoizedState=K.memoizedState,G.lanes=K.lanes):(G.updateQueue=null,G.memoizedState=null)}var re=Kd(v);if(re!==null){re.flags&=-257,Gd(re,v,S,p,r),re.mode&1&&Qd(p,B,r),r=re,P=B;var ae=r.updateQueue;if(ae===null){var le=new Set;le.add(P),r.updateQueue=le}else ae.add(P);break e}else{if(!(r&1)){Qd(p,B,r),eh();break e}P=Error(n(426))}}else if(Ke&&S.mode&1){var rt=Kd(v);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Gd(rt,v,S,p,r),hc(ks(P,S));break e}}p=P=ks(P,S),ft!==4&&(ft=2),Qo===null?Qo=[p]:Qo.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var F=qd(p,P,r);_d(p,F);break e;case 1:S=P;var V=p.type,b=p.stateNode;if(!(p.flags&128)&&(typeof V.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(br===null||!br.has(b)))){p.flags|=65536,r&=-r,p.lanes|=r;var Z=Wd(p,S,r);_d(p,Z);break e}}p=p.return}while(p!==null)}Cp(o)}catch(ue){r=ue,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function Ip(){var t=wl.current;return wl.current=ml,t===null?ml:t}function eh(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||!(ki&268435455)&&!(Tl&268435455)||$r(vt,Rt)}function Pl(t,r){var o=Le;Le|=2;var u=Ip();(vt!==t||Rt!==r)&&(pr=null,Vi(t,r));do try{V_();break}catch(h){Sp(t,h)}while(!0);if(dc(),Le=o,wl.current=u,ot!==null)throw Error(n(261));return vt=null,Rt=0,ft}function V_(){for(;ot!==null;)Rp(ot)}function D_(){for(;ot!==null&&!Ra();)Rp(ot)}function Rp(t){var r=kp(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?Cp(t):ot=r,qc.current=null}function Cp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=R_(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,ot=null;return}}else if(o=I_(o,r,rn),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);ft===0&&(ft=5)}function Di(t,r,o){var u=Pe,h=pn.transition;try{pn.transition=null,Pe=1,N_(t,r,o,u)}finally{pn.transition=h,Pe=u}return null}function N_(t,r,o,u){do Ns();while(Br!==null);if(Le&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Be(t,p),t===vt&&(ot=vt=null,Rt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Il||(Il=!0,xp(an,function(){return Ns(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=pn.transition,pn.transition=null;var v=Pe;Pe=1;var S=Le;Le|=4,qc.current=null,A_(t,o),gp(o,t),Zy(ec),xr=!!Zu,ec=Zu=null,t.current=o,P_(o),Fu(),Le=S,Pe=v,pn.transition=p}else t.current=o;if(Il&&(Il=!1,Br=t,Rl=h),p=t.pendingLanes,p===0&&(br=null),Pa(o.stateNode),Kt(t,$e()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(Sl)throw Sl=!1,t=Kc,Kc=null,t;return Rl&1&&t.tag!==0&&Ns(),p=t.pendingLanes,p&1?t===Gc?Ko++:(Ko=0,Gc=t):Ko=0,Mr(),null}function Ns(){if(Br!==null){var t=Pr(Rl),r=pn.transition,o=Pe;try{if(pn.transition=null,Pe=16>t?16:t,Br===null)var u=!1;else{if(t=Br,Br=null,Rl=0,Le&6)throw Error(n(331));var h=Le;for(Le|=4,oe=t.current;oe!==null;){var p=oe,v=p.child;if(oe.flags&16){var S=p.deletions;if(S!==null){for(var P=0;P<S.length;P++){var B=S[P];for(oe=B;oe!==null;){var G=oe;switch(G.tag){case 0:case 11:case 15:qo(8,G,p)}var Y=G.child;if(Y!==null)Y.return=G,oe=Y;else for(;oe!==null;){G=oe;var K=G.sibling,re=G.return;if(hp(G),G===B){oe=null;break}if(K!==null){K.return=re,oe=K;break}oe=re}}}var ae=p.alternate;if(ae!==null){var le=ae.child;if(le!==null){ae.child=null;do{var rt=le.sibling;le.sibling=null,le=rt}while(le!==null)}}oe=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,oe=v;else e:for(;oe!==null;){if(p=oe,p.flags&2048)switch(p.tag){case 0:case 11:case 15:qo(9,p,p.return)}var F=p.sibling;if(F!==null){F.return=p.return,oe=F;break e}oe=p.return}}var V=t.current;for(oe=V;oe!==null;){v=oe;var b=v.child;if(v.subtreeFlags&2064&&b!==null)b.return=v,oe=b;else e:for(v=V;oe!==null;){if(S=oe,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:El(9,S)}}catch(ue){et(S,S.return,ue)}if(S===v){oe=null;break e}var Z=S.sibling;if(Z!==null){Z.return=S.return,oe=Z;break e}oe=S.return}}if(Le=h,Mr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(mi,t)}catch{}u=!0}return u}finally{Pe=o,pn.transition=r}}return!1}function Ap(t,r,o){r=ks(o,r),r=qd(t,r,1),t=Ur(t,r,1),r=Bt(),t!==null&&(Cr(t,1,r),Kt(t,r))}function et(t,r,o){if(t.tag===3)Ap(t,t,o);else for(;r!==null;){if(r.tag===3){Ap(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(br===null||!br.has(u))){t=ks(o,t),t=Wd(r,t,1),r=Ur(r,t,1),t=Bt(),r!==null&&(Cr(r,1,t),Kt(r,t));break}}r=r.return}}function L_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Bt(),t.pingedLanes|=t.suspendedLanes&o,vt===t&&(Rt&o)===o&&(ft===4||ft===3&&(Rt&130023424)===Rt&&500>$e()-Qc?Vi(t,0):Wc|=o),Kt(t,r)}function Pp(t,r){r===0&&(t.mode&1?(r=ns,ns<<=1,!(ns&130023424)&&(ns=4194304)):r=1);var o=Bt();t=hr(t,r),t!==null&&(Cr(t,r,o),Kt(t,o))}function O_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Pp(t,o)}function M_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),Pp(t,o)}var kp;kp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||Ht.current)Wt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Wt=!1,S_(t,r,o);Wt=!!(t.flags&131072)}else Wt=!1,Ke&&r.flags&1048576&&ld(r,rl,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;_l(t,r),t=r.pendingProps;var h=ws(r,Vt.current);As(r,o),h=Ic(null,r,u,t,h,o);var p=Rc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,qt(u)?(p=!0,el(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,yc(r),h.updater=gl,r.stateNode=h,h._reactInternals=r,Vc(r,u,t,o),r=Oc(null,r,u,!0,p,o)):(r.tag=0,Ke&&p&&ac(r),bt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(_l(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=U_(u),t=Pn(u,t),h){case 0:r=Lc(null,r,u,t,o);break e;case 1:r=tp(null,r,u,t,o);break e;case 11:r=Xd(null,r,u,t,o);break e;case 14:r=Yd(null,r,u,Pn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),Lc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),tp(t,r,u,h,o);case 3:e:{if(np(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,yd(t,r),ul(r,u,null,o);var v=r.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=ks(Error(n(423)),r),r=rp(t,r,u,o,h);break e}else if(u!==h){h=ks(Error(n(424)),r),r=rp(t,r,u,o,h);break e}else for(nn=Nr(r.stateNode.containerInfo.firstChild),tn=r,Ke=!0,An=null,o=md(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Is(),u===h){r=dr(t,r,o);break e}bt(t,r,u,o)}r=r.child}return r;case 5:return Ed(r),t===null&&cc(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,v=h.children,tc(u,h)?v=null:p!==null&&tc(u,p)&&(r.flags|=32),ep(t,r),bt(t,r,v,o),r.child;case 6:return t===null&&cc(r),null;case 13:return ip(t,r,o);case 4:return _c(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Rs(r,null,u,o):bt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),Xd(t,r,u,h,o);case 7:return bt(t,r,r.pendingProps,o),r.child;case 8:return bt(t,r,r.pendingProps.children,o),r.child;case 12:return bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,v=h.value,He(ol,u._currentValue),u._currentValue=v,p!==null)if(Cn(p.value,v)){if(p.children===h.children&&!Ht.current){r=dr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){v=p.child;for(var P=S.firstContext;P!==null;){if(P.context===u){if(p.tag===1){P=fr(-1,o&-o),P.tag=2;var B=p.updateQueue;if(B!==null){B=B.shared;var G=B.pending;G===null?P.next=P:(P.next=G.next,G.next=P),B.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),mc(p.return,o,r),S.lanes|=o;break}P=P.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,S=v.alternate,S!==null&&(S.lanes|=o),mc(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}bt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,As(r,o),h=fn(h),u=u(h),r.flags|=1,bt(t,r,u,o),r.child;case 14:return u=r.type,h=Pn(u,r.pendingProps),h=Pn(u.type,h),Yd(t,r,u,h,o);case 15:return Jd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Pn(u,h),_l(t,r),r.tag=1,qt(u)?(t=!0,el(r)):t=!1,As(r,o),$d(r,u,h),Vc(r,u,h,o),Oc(null,r,u,!0,t,o);case 19:return op(t,r,o);case 22:return Zd(t,r,o)}throw Error(n(156,r.tag))};function xp(t,r){return es(t,r)}function F_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,o,u){return new F_(t,r,o,u)}function th(t){return t=t.prototype,!(!t||!t.isReactComponent)}function U_(t){if(typeof t=="function")return th(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===kt)return 14}return 2}function Hr(t,r){var o=t.alternate;return o===null?(o=mn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function kl(t,r,o,u,h,p){var v=2;if(u=t,typeof t=="function")th(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case x:return Ni(o.children,h,p,r);case T:v=8,h|=8;break;case I:return t=mn(12,o,r,h|2),t.elementType=I,t.lanes=p,t;case C:return t=mn(13,o,r,h),t.elementType=C,t.lanes=p,t;case tt:return t=mn(19,o,r,h),t.elementType=tt,t.lanes=p,t;case be:return xl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:v=10;break e;case D:v=9;break e;case O:v=11;break e;case kt:v=14;break e;case xt:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=mn(v,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ni(t,r,o,u){return t=mn(7,t,u,r),t.lanes=o,t}function xl(t,r,o,u){return t=mn(22,t,u,r),t.elementType=be,t.lanes=o,t.stateNode={isHidden:!1},t}function nh(t,r,o){return t=mn(6,t,null,r),t.lanes=o,t}function rh(t,r,o){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function z_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rr(0),this.expirationTimes=Rr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function ih(t,r,o,u,h,p,v,S,P){return t=new z_(t,r,o,S,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=mn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},yc(p),t}function b_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Vp(t){if(!t)return Or;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(qt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(qt(o))return sd(t,o,r)}return r}function Dp(t,r,o,u,h,p,v,S,P){return t=ih(o,u,!0,t,h,p,v,S,P),t.context=Vp(null),o=t.current,u=Bt(),h=jr(o),p=fr(u,h),p.callback=r??null,Ur(o,p,h),t.current.lanes=h,Cr(t,h,u),Kt(t,u),t}function Vl(t,r,o,u){var h=r.current,p=Bt(),v=jr(h);return o=Vp(o),r.context===null?r.context=o:r.pendingContext=o,r=fr(p,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Ur(h,r,v),t!==null&&(Vn(t,h,v,p),ll(t,h,v)),v}function Dl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Np(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function sh(t,r){Np(t,r),(t=t.alternate)&&Np(t,r)}var Lp=typeof reportError=="function"?reportError:function(t){console.error(t)};function oh(t){this._internalRoot=t}Nl.prototype.render=oh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Vl(t,r,null,null)},Nl.prototype.unmount=oh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;xi(function(){Vl(null,t,null,null)}),r[ar]=null}};function Nl(t){this._internalRoot=t}Nl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Na();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Mn.length&&r!==0&&r<Mn[o].priority;o++);Mn.splice(o,0,t),o===0&&Ma(t)}};function ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ll(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Op(){}function B_(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var B=Dl(v);p.call(B)}}var v=Dp(r,u,t,0,null,!1,!1,"",Op);return t._reactRootContainer=v,t[ar]=v.current,Do(t.nodeType===8?t.parentNode:t),xi(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var S=u;u=function(){var B=Dl(P);S.call(B)}}var P=ih(t,0,!1,null,null,!1,!1,"",Op);return t._reactRootContainer=P,t[ar]=P.current,Do(t.nodeType===8?t.parentNode:t),xi(function(){Vl(r,P,o,u)}),P}function Ol(t,r,o,u,h){var p=o._reactRootContainer;if(p){var v=p;if(typeof h=="function"){var S=h;h=function(){var P=Dl(v);S.call(P)}}Vl(r,v,t,h)}else v=B_(o,r,t,h,u);return Dl(v)}Va=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Ir(r.pendingLanes);o!==0&&(Ar(r,o|1),Kt(r,$e()),!(Le&6)&&(Ds=$e()+500,Mr()))}break;case 13:xi(function(){var u=hr(t,1);if(u!==null){var h=Bt();Vn(u,t,1,h)}}),sh(t,1)}},rs=function(t){if(t.tag===13){var r=hr(t,134217728);if(r!==null){var o=Bt();Vn(r,t,134217728,o)}sh(t,134217728)}},Da=function(t){if(t.tag===13){var r=jr(t),o=hr(t,r);if(o!==null){var u=Bt();Vn(o,t,r,u)}sh(t,r)}},Na=function(){return Pe},La=function(t,r){var o=Pe;try{return Pe=t,r()}finally{Pe=o}},Ki=function(t,r,o){switch(r){case"input":if(no(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Ja(u);if(!h)throw Error(n(90));ji(u),no(u,h)}}}break;case"textarea":Wi(t,o);break;case"select":r=o.value,r!=null&&Zn(t,!!o.multiple,r,!1)}},ci=Jc,fo=xi;var j_={usingClientEntryPoint:!1,Events:[Oo,vs,Ja,Ln,ho,Jc]},Go={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$_={bundleType:Go.bundleType,version:Go.version,rendererPackageName:Go.rendererPackageName,rendererConfig:Go.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ce.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=go(t),t===null?null:t.stateNode},findFiberByHostInstance:Go.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{mi=Ml.inject($_),Yt=Ml}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j_,Gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ah(r))throw Error(n(200));return b_(t,r,null,o)},Gt.createRoot=function(t,r){if(!ah(t))throw Error(n(299));var o=!1,u="",h=Lp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=ih(t,1,!1,null,null,o,!1,u,h),t[ar]=r.current,Do(t.nodeType===8?t.parentNode:t),new oh(r)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=go(r),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return xi(t)},Gt.hydrate=function(t,r,o){if(!Ll(r))throw Error(n(200));return Ol(null,t,r,!0,o)},Gt.hydrateRoot=function(t,r,o){if(!ah(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",v=Lp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=Dp(r,null,t,1,o??null,h,!1,p,v),t[ar]=r.current,Do(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Nl(r)},Gt.render=function(t,r,o){if(!Ll(r))throw Error(n(200));return Ol(null,t,r,!1,o)},Gt.unmountComponentAtNode=function(t){if(!Ll(t))throw Error(n(40));return t._reactRootContainer?(xi(function(){Ol(null,null,t,!1,function(){t._reactRootContainer=null,t[ar]=null})}),!0):!1},Gt.unstable_batchedUpdates=Jc,Gt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Ll(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Ol(t,r,o,!1,u)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var $p;function J_(){if($p)return ch.exports;$p=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ch.exports=Y_(),ch.exports}var Hp;function Z_(){if(Hp)return Fl;Hp=1;var i=J_();return Fl.createRoot=i.createRoot,Fl.hydrateRoot=i.hydrateRoot,Fl}var ev=Z_(),Yo={},qp;function tv(){if(qp)return Yo;qp=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.parse=f,Yo.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,N){const z=new c,$=A.length;if($<2)return z;const U=(N==null?void 0:N.decode)||w;let W=0;do{const te=A.indexOf("=",W);if(te===-1)break;const J=A.indexOf(";",W),ce=J===-1?$:J;if(te>ce){W=A.lastIndexOf(";",te-1)+1;continue}const Ce=m(A,W,te),Te=g(A,te,Ce),x=A.slice(Ce,Te);if(z[x]===void 0){let T=m(A,te+1,ce),I=g(A,ce,T);const k=U(A.slice(T,I));z[x]=k}W=ce+1}while(W<$);return z}function m(A,N,z){do{const $=A.charCodeAt(N);if($!==32&&$!==9)return N}while(++N<z);return z}function g(A,N,z){for(;N>z;){const $=A.charCodeAt(--N);if($!==32&&$!==9)return N+1}return z}function _(A,N,z){const $=(z==null?void 0:z.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const U=$(N);if(!e.test(U))throw new TypeError(`argument val is invalid: ${N}`);let W=A+"="+U;if(!z)return W;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);W+="; Max-Age="+z.maxAge}if(z.domain){if(!n.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);W+="; Domain="+z.domain}if(z.path){if(!s.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);W+="; Path="+z.path}if(z.expires){if(!R(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);W+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(W+="; HttpOnly"),z.secure&&(W+="; Secure"),z.partitioned&&(W+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return W}function w(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function R(A){return a.call(A)==="[object Date]"}return Yo}tv();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wp="popstate";function nv(i={}){function e(s,a){let{pathname:c,search:f,hash:m}=s.location;return Sh("",{pathname:c,search:f,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:oa(a)}return iv(e,n,null,i)}function Je(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rv(){return Math.random().toString(36).substring(2,10)}function Qp(i,e){return{usr:i.state,key:i.key,idx:e}}function Sh(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Qs(e):e,state:n,key:e&&e.key||s||rv()}}function oa({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Qs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function iv(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,f=a.history,m="POP",g=null,_=w();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function w(){return(f.state||{idx:null}).idx}function R(){m="POP";let U=w(),W=U==null?null:U-_;_=U,g&&g({action:m,location:$.location,delta:W})}function A(U,W){m="PUSH";let te=Sh($.location,U,W);_=w()+1;let J=Qp(te,_),ce=$.createHref(te);try{f.pushState(J,"",ce)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;a.location.assign(ce)}c&&g&&g({action:m,location:$.location,delta:1})}function N(U,W){m="REPLACE";let te=Sh($.location,U,W);_=w();let J=Qp(te,_),ce=$.createHref(te);f.replaceState(J,"",ce),c&&g&&g({action:m,location:$.location,delta:0})}function z(U){let W=a.location.origin!=="null"?a.location.origin:a.location.href,te=typeof U=="string"?U:oa(U);return te=te.replace(/ $/,"%20"),Je(W,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,W)}let $={get action(){return m},get location(){return i(a,f)},listen(U){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Wp,R),g=U,()=>{a.removeEventListener(Wp,R),g=null}},createHref(U){return e(a,U)},createURL:z,encodeLocation(U){let W=z(U);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:A,replace:N,go(U){return f.go(U)}};return $}function Xm(i,e,n="/"){return sv(i,e,n,!1)}function sv(i,e,n,s){let a=typeof e=="string"?Qs(e):e,c=Jr(a.pathname||"/",n);if(c==null)return null;let f=Ym(i);ov(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let _=yv(c);m=mv(f[g],_,s)}return m}function Ym(i,e=[],n=[],s=""){let a=(c,f,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};g.relativePath.startsWith("/")&&(Je(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let _=mr([s,g.relativePath]),w=n.concat(g);c.children&&c.children.length>0&&(Je(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Ym(c.children,e,w,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:dv(_,c.index),routesMeta:w})};return i.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,f);else for(let g of Jm(c.path))a(c,f,g)}),e}function Jm(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let f=Jm(s.join("/")),m=[];return m.push(...f.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function ov(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:pv(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var av=/^:[\w-]+$/,lv=3,uv=2,cv=1,hv=10,fv=-2,Kp=i=>i==="*";function dv(i,e){let n=i.split("/"),s=n.length;return n.some(Kp)&&(s+=fv),e&&(s+=uv),n.filter(a=>!Kp(a)).reduce((a,c)=>a+(av.test(c)?lv:c===""?cv:hv),s)}function pv(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function mv(i,e,n=!1){let{routesMeta:s}=i,a={},c="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],_=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",R=Zl({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},w),A=g.route;if(!R&&_&&n&&!s[s.length-1].route.index&&(R=Zl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!R)return null;Object.assign(a,R.params),f.push({params:a,pathname:mr([c,R.pathname]),pathnameBase:wv(mr([c,R.pathnameBase])),route:A}),R.pathnameBase!=="/"&&(c=mr([c,R.pathnameBase]))}return f}function Zl(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=gv(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],f=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((_,{paramName:w,isOptional:R},A)=>{if(w==="*"){let z=m[A]||"";f=c.slice(0,c.length-z.length).replace(/(.)\/+$/,"$1")}const N=m[A];return R&&!N?_[w]=void 0:_[w]=(N||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:f,pattern:i}}function gv(i,e=!1,n=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function yv(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Jr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function _v(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Qs(i):i;return{pathname:n?n.startsWith("/")?n:vv(n,e):e,search:Tv(s),hash:Sv(a)}}function vv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function dh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ev(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zm(i){let e=Ev(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function eg(i,e,n,s=!1){let a;typeof i=="string"?a=Qs(i):(a={...i},Je(!a.pathname||!a.pathname.includes("?"),dh("?","pathname","search",a)),Je(!a.pathname||!a.pathname.includes("#"),dh("#","pathname","hash",a)),Je(!a.search||!a.search.includes("#"),dh("#","search","hash",a)));let c=i===""||a.pathname==="",f=c?"/":a.pathname,m;if(f==null)m=n;else{let R=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),R-=1;a.pathname=A.join("/")}m=R>=0?e[R]:"/"}let g=_v(a,m),_=f&&f!=="/"&&f.endsWith("/"),w=(c||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||w)&&(g.pathname+="/"),g}var mr=i=>i.join("/").replace(/\/\/+/g,"/"),wv=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Tv=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Sv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Iv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var tg=["POST","PUT","PATCH","DELETE"];new Set(tg);var Rv=["GET",...tg];new Set(Rv);var Ks=H.createContext(null);Ks.displayName="DataRouter";var mu=H.createContext(null);mu.displayName="DataRouterState";var ng=H.createContext({isTransitioning:!1});ng.displayName="ViewTransition";var Cv=H.createContext(new Map);Cv.displayName="Fetchers";var Av=H.createContext(null);Av.displayName="Await";var Xn=H.createContext(null);Xn.displayName="Navigation";var ga=H.createContext(null);ga.displayName="Location";var Er=H.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var Gh=H.createContext(null);Gh.displayName="RouteError";function Pv(i,{relative:e}={}){Je(ya(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Xn),{hash:a,pathname:c,search:f}=_a(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:mr([n,c])),s.createHref({pathname:m,search:f,hash:a})}function ya(){return H.useContext(ga)!=null}function Ui(){return Je(ya(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(ga).location}var rg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ig(i){H.useContext(Xn).static||H.useLayoutEffect(i)}function sg(){let{isDataRoute:i}=H.useContext(Er);return i?Bv():kv()}function kv(){Je(ya(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(Ks),{basename:e,navigator:n}=H.useContext(Xn),{matches:s}=H.useContext(Er),{pathname:a}=Ui(),c=JSON.stringify(Zm(s)),f=H.useRef(!1);return ig(()=>{f.current=!0}),H.useCallback((g,_={})=>{if(Qn(f.current,rg),!f.current)return;if(typeof g=="number"){n.go(g);return}let w=eg(g,JSON.parse(c),a,_.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:mr([e,w.pathname])),(_.replace?n.replace:n.push)(w,_.state,_)},[e,n,c,a,i])}H.createContext(null);function _a(i,{relative:e}={}){let{matches:n}=H.useContext(Er),{pathname:s}=Ui(),a=JSON.stringify(Zm(n));return H.useMemo(()=>eg(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function xv(i,e){return og(i,e)}function og(i,e,n,s){var te;Je(ya(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:c}=H.useContext(Xn),{matches:f}=H.useContext(Er),m=f[f.length-1],g=m?m.params:{},_=m?m.pathname:"/",w=m?m.pathnameBase:"/",R=m&&m.route;{let J=R&&R.path||"";ag(_,!R||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let A=Ui(),N;if(e){let J=typeof e=="string"?Qs(e):e;Je(w==="/"||((te=J.pathname)==null?void 0:te.startsWith(w)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${J.pathname}" was given in the \`location\` prop.`),N=J}else N=A;let z=N.pathname||"/",$=z;if(w!=="/"){let J=w.replace(/^\//,"").split("/");$="/"+z.replace(/^\//,"").split("/").slice(J.length).join("/")}let U=!c&&n&&n.matches&&n.matches.length>0?n.matches:Xm(i,{pathname:$});Qn(R||U!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Qn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=Ov(U&&U.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:mr([w,a.encodeLocation?a.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?w:mr([w,a.encodeLocation?a.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),f,n,s);return e&&W?H.createElement(ga.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},W):W}function Vv(){let i=bv(),e=Iv(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:a},n):null,f)}var Dv=H.createElement(Vv,null),Nv=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?H.createElement(Er.Provider,{value:this.props.routeContext},H.createElement(Gh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lv({routeContext:i,match:e,children:n}){let s=H.useContext(Ks);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Er.Provider,{value:i},n)}function Ov(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,c=n==null?void 0:n.errors;if(c!=null){let g=a.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);Je(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let _=a[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=g),_.route.id){let{loaderData:w,errors:R}=n,A=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||A){f=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,_,w)=>{let R,A=!1,N=null,z=null;n&&(R=c&&_.route.id?c[_.route.id]:void 0,N=_.route.errorElement||Dv,f&&(m<0&&w===0?(ag("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,z=null):m===w&&(A=!0,z=_.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,w+1)),U=()=>{let W;return R?W=N:A?W=z:_.route.Component?W=H.createElement(_.route.Component,null):_.route.element?W=_.route.element:W=g,H.createElement(Lv,{match:_,routeContext:{outlet:g,matches:$,isDataRoute:n!=null},children:W})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?H.createElement(Nv,{location:n.location,revalidation:n.revalidation,component:N,error:R,children:U(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):U()},null)}function Xh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mv(i){let e=H.useContext(Ks);return Je(e,Xh(i)),e}function Fv(i){let e=H.useContext(mu);return Je(e,Xh(i)),e}function Uv(i){let e=H.useContext(Er);return Je(e,Xh(i)),e}function Yh(i){let e=Uv(i),n=e.matches[e.matches.length-1];return Je(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function zv(){return Yh("useRouteId")}function bv(){var s;let i=H.useContext(Gh),e=Fv("useRouteError"),n=Yh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function Bv(){let{router:i}=Mv("useNavigate"),e=Yh("useNavigate"),n=H.useRef(!1);return ig(()=>{n.current=!0}),H.useCallback(async(a,c={})=>{Qn(n.current,rg),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...c}))},[i,e])}var Gp={};function ag(i,e,n){!e&&!Gp[i]&&(Gp[i]=!0,Qn(!1,n))}H.memo(jv);function jv({routes:i,future:e,state:n}){return og(i,void 0,n,e)}function Ih(i){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $v({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:c=!1}){Je(!ya(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:a,static:c,future:{}}),[f,a,c]);typeof n=="string"&&(n=Qs(n));let{pathname:g="/",search:_="",hash:w="",state:R=null,key:A="default"}=n,N=H.useMemo(()=>{let z=Jr(g,f);return z==null?null:{location:{pathname:z,search:_,hash:w,state:R,key:A},navigationType:s}},[f,g,_,w,R,A,s]);return Qn(N!=null,`<Router basename="${f}"> is not able to match the URL "${g}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:H.createElement(Xn.Provider,{value:m},H.createElement(ga.Provider,{children:e,value:N}))}function Hv({children:i,location:e}){return xv(Rh(i),e)}function Rh(i,e=[]){let n=[];return H.Children.forEach(i,(s,a)=>{if(!H.isValidElement(s))return;let c=[...e,a];if(s.type===H.Fragment){n.push.apply(n,Rh(s.props.children,c));return}Je(s.type===Ih,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Rh(s.props.children,c)),n.push(f)}),n}var ql="get",Wl="application/x-www-form-urlencoded";function gu(i){return i!=null&&typeof i.tagName=="string"}function qv(i){return gu(i)&&i.tagName.toLowerCase()==="button"}function Wv(i){return gu(i)&&i.tagName.toLowerCase()==="form"}function Qv(i){return gu(i)&&i.tagName.toLowerCase()==="input"}function Kv(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Gv(i,e){return i.button===0&&(!e||e==="_self")&&!Kv(i)}var Ul=null;function Xv(){if(Ul===null)try{new FormData(document.createElement("form"),0),Ul=!1}catch{Ul=!0}return Ul}var Yv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ph(i){return i!=null&&!Yv.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wl}"`),null):i}function Jv(i,e){let n,s,a,c,f;if(Wv(i)){let m=i.getAttribute("action");s=m?Jr(m,e):null,n=i.getAttribute("method")||ql,a=ph(i.getAttribute("enctype"))||Wl,c=new FormData(i)}else if(qv(i)||Qv(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Jr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||ql,a=ph(i.getAttribute("formenctype"))||ph(m.getAttribute("enctype"))||Wl,c=new FormData(m,i),!Xv()){let{name:_,type:w,value:R}=i;if(w==="image"){let A=_?`${_}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else _&&c.append(_,R)}}else{if(gu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ql,s=null,a=Wl,f=i}return c&&a==="text/plain"&&(f=c,c=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:c,body:f}}function Jh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function Zv(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eE(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function tE(i,e,n){let s=await Promise.all(i.map(async a=>{let c=e.routes[a.route.id];if(c){let f=await Zv(c,n);return f.links?f.links():[]}return[]}));return sE(s.flat(1).filter(eE).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Xp(i,e,n,s,a,c){let f=(g,_)=>n[_]?g.route.id!==n[_].route.id:!0,m=(g,_)=>{var w;return n[_].pathname!==g.pathname||((w=n[_].route.path)==null?void 0:w.endsWith("*"))&&n[_].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,_)=>f(g,_)||m(g,_)):c==="data"?e.filter((g,_)=>{var R;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(f(g,_)||m(g,_))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function nE(i,e){return rE(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function rE(i){return[...new Set(i)]}function iE(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function sE(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let c=JSON.stringify(iE(a));return n.has(c)||(n.add(c),s.push({key:c,link:a})),s},[])}function oE(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function aE(){let i=H.useContext(Ks);return Jh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function lE(){let i=H.useContext(mu);return Jh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Zh=H.createContext(void 0);Zh.displayName="FrameworkContext";function lg(){let i=H.useContext(Zh);return Jh(i,"You must render this element inside a <HydratedRouter> element"),i}function uE(i,e){let n=H.useContext(Zh),[s,a]=H.useState(!1),[c,f]=H.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:_,onMouseLeave:w,onTouchStart:R}=e,A=H.useRef(null);H.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=W=>{W.forEach(te=>{f(te.isIntersecting)})},U=new IntersectionObserver($,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[i]),H.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let N=()=>{a(!0)},z=()=>{a(!1),f(!1)};return n?i!=="intent"?[c,A,{}]:[c,A,{onFocus:Jo(m,N),onBlur:Jo(g,z),onMouseEnter:Jo(_,N),onMouseLeave:Jo(w,z),onTouchStart:Jo(R,N)}]:[!1,A,{}]}function Jo(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function cE({page:i,...e}){let{router:n}=aE(),s=H.useMemo(()=>Xm(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(fE,{page:i,matches:s,...e}):null}function hE(i){let{manifest:e,routeModules:n}=lg(),[s,a]=H.useState([]);return H.useEffect(()=>{let c=!1;return tE(i,e,n).then(f=>{c||a(f)}),()=>{c=!0}},[i,e,n]),s}function fE({page:i,matches:e,...n}){let s=Ui(),{manifest:a,routeModules:c}=lg(),{loaderData:f,matches:m}=lE(),g=H.useMemo(()=>Xp(i,e,m,a,s,"data"),[i,e,m,a,s]),_=H.useMemo(()=>Xp(i,e,m,a,s,"assets"),[i,e,m,a,s]),w=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let N=new Set,z=!1;if(e.forEach(U=>{var te;let W=a.routes[U.route.id];!W||!W.hasLoader||(!g.some(J=>J.route.id===U.route.id)&&U.route.id in f&&((te=c[U.route.id])!=null&&te.shouldRevalidate)||W.hasClientLoader?z=!0:N.add(U.route.id))}),N.size===0)return[];let $=oE(i);return z&&N.size>0&&$.searchParams.set("_routes",e.filter(U=>N.has(U.route.id)).map(U=>U.route.id).join(",")),[$.pathname+$.search]},[f,s,a,g,e,i,c]),R=H.useMemo(()=>nE(_,a),[_,a]),A=hE(_);return H.createElement(H.Fragment,null,w.map(N=>H.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),R.map(N=>H.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),A.map(({key:N,link:z})=>H.createElement("link",{key:N,...z})))}function dE(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ug&&(window.__reactRouterVersion="7.1.5")}catch{}function pE({basename:i,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=nv({window:n,v5Compat:!0}));let a=s.current,[c,f]=H.useState({action:a.action,location:a.location}),m=H.useCallback(g=>{H.startTransition(()=>f(g))},[f]);return H.useLayoutEffect(()=>a.listen(m),[a,m]),H.createElement($v,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:a})}var cg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hg=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:c,replace:f,state:m,target:g,to:_,preventScrollReset:w,viewTransition:R,...A},N){let{basename:z}=H.useContext(Xn),$=typeof _=="string"&&cg.test(_),U,W=!1;if(typeof _=="string"&&$&&(U=_,ug))try{let I=new URL(window.location.href),k=_.startsWith("//")?new URL(I.protocol+_):new URL(_),D=Jr(k.pathname,z);k.origin===I.origin&&D!=null?_=D+k.search+k.hash:W=!0}catch{Qn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=Pv(_,{relative:a}),[J,ce,Ce]=uE(s,A),Te=_E(_,{replace:f,state:m,target:g,preventScrollReset:w,relative:a,viewTransition:R});function x(I){e&&e(I),I.defaultPrevented||Te(I)}let T=H.createElement("a",{...A,...Ce,href:U||te,onClick:W||c?e:x,ref:dE(N,ce),target:g,"data-discover":!$&&n==="render"?"true":void 0});return J&&!$?H.createElement(H.Fragment,null,T,H.createElement(cE,{page:te})):T});hg.displayName="Link";var mE=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:c,to:f,viewTransition:m,children:g,..._},w){let R=_a(f,{relative:_.relative}),A=Ui(),N=H.useContext(mu),{navigator:z,basename:$}=H.useContext(Xn),U=N!=null&&SE(R)&&m===!0,W=z.encodeLocation?z.encodeLocation(R).pathname:R.pathname,te=A.pathname,J=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(te=te.toLowerCase(),J=J?J.toLowerCase():null,W=W.toLowerCase()),J&&$&&(J=Jr(J,$)||J);const ce=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let Ce=te===W||!a&&te.startsWith(W)&&te.charAt(ce)==="/",Te=J!=null&&(J===W||!a&&J.startsWith(W)&&J.charAt(W.length)==="/"),x={isActive:Ce,isPending:Te,isTransitioning:U},T=Ce?e:void 0,I;typeof s=="function"?I=s(x):I=[s,Ce?"active":null,Te?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(x):c;return H.createElement(hg,{..._,"aria-current":T,className:I,ref:w,style:k,to:f,viewTransition:m},typeof g=="function"?g(x):g)});mE.displayName="NavLink";var gE=H.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:c,method:f=ql,action:m,onSubmit:g,relative:_,preventScrollReset:w,viewTransition:R,...A},N)=>{let z=wE(),$=TE(m,{relative:_}),U=f.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&cg.test(m),te=J=>{if(g&&g(J),J.defaultPrevented)return;J.preventDefault();let ce=J.nativeEvent.submitter,Ce=(ce==null?void 0:ce.getAttribute("formmethod"))||f;z(ce||J.currentTarget,{fetcherKey:e,method:Ce,navigate:n,replace:a,state:c,relative:_,preventScrollReset:w,viewTransition:R})};return H.createElement("form",{ref:N,method:U,action:$,onSubmit:s?g:te,...A,"data-discover":!W&&i==="render"?"true":void 0})});gE.displayName="Form";function yE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fg(i){let e=H.useContext(Ks);return Je(e,yE(i)),e}function _E(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:f}={}){let m=sg(),g=Ui(),_=_a(i,{relative:c});return H.useCallback(w=>{if(Gv(w,e)){w.preventDefault();let R=n!==void 0?n:oa(g)===oa(_);m(i,{replace:R,state:s,preventScrollReset:a,relative:c,viewTransition:f})}},[g,m,_,n,s,e,i,a,c,f])}var vE=0,EE=()=>`__${String(++vE)}__`;function wE(){let{router:i}=fg("useSubmit"),{basename:e}=H.useContext(Xn),n=zv();return H.useCallback(async(s,a={})=>{let{action:c,method:f,encType:m,formData:g,body:_}=Jv(s,e);if(a.navigate===!1){let w=a.fetcherKey||EE();await i.fetch(w,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||f,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||f,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function TE(i,{relative:e}={}){let{basename:n}=H.useContext(Xn),s=H.useContext(Er);Je(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={..._a(i||".",{relative:e})},f=Ui();if(i==null){c.search=f.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(w=>w==="")){m.delete("index"),g.filter(R=>R).forEach(R=>m.append("index",R));let w=m.toString();c.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:mr([n,c.pathname])),oa(c)}function SE(i,e={}){let n=H.useContext(ng);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fg("useViewTransitionState"),a=_a(i,{relative:e.relative});if(!n.isTransitioning)return!1;let c=Jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Zl(a.pathname,f)!=null||Zl(a.pathname,c)!=null}new TextEncoder;var dg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Yp=Mi.createContext&&Mi.createContext(dg),IE=["attr","size","title"];function RE(i,e){if(i==null)return{};var n=CE(i,e),s,a;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(a=0;a<c.length;a++)s=c[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function CE(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function eu(){return eu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},eu.apply(this,arguments)}function Jp(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),n.push.apply(n,s)}return n}function tu(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jp(Object(n),!0).forEach(function(s){AE(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function AE(i,e,n){return e=PE(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function PE(i){var e=kE(i,"string");return typeof e=="symbol"?e:e+""}function kE(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function pg(i){return i&&i.map((e,n)=>Mi.createElement(e.tag,tu({key:n},e.attr),pg(e.child)))}function Gs(i){return e=>Mi.createElement(xE,eu({attr:tu({},i.attr)},e),pg(i.child))}function xE(i){var e=n=>{var{attr:s,size:a,title:c}=i,f=RE(i,IE),m=a||n.size||"1em",g;return n.className&&(g=n.className),i.className&&(g=(g?g+" ":"")+i.className),Mi.createElement("svg",eu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:g,style:tu(tu({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&Mi.createElement("title",null,c),i.children)};return Yp!==void 0?Mi.createElement(Yp.Consumer,null,n=>e(n)):e(dg)}function VE(i){return Gs({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(i)}function DE(i){return Gs({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M160 320h12v16c0 8.84 7.16 16 16 16h40c8.84 0 16-7.16 16-16v-16h12c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32V16c0-8.84-7.16-16-16-16h-64c-8.84 0-16 7.16-16 16v16c-17.67 0-32 14.33-32 32v224c0 17.67 14.33 32 32 32zm304 128h-1.29C493.24 413.99 512 369.2 512 320c0-105.88-86.12-192-192-192v64c70.58 0 128 57.42 128 128s-57.42 128-128 128H48c-26.51 0-48 21.49-48 48 0 8.84 7.16 16 16 16h480c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48zm-360-32h208c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8H104c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8z"},child:[]}]})(i)}function NE(i){return Gs({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(i)}function LE(i){return Gs({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"},child:[]}]})(i)}function OE(i){return Gs({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"},child:[]}]})(i)}function ME(i){return Gs({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(i)}function mg({title:i="Mi Blog Educativo",showBlogButton:e=!1}){const n=sg(),s=()=>{n(e?"/":"/guias-de-estudio")};return ye.jsxs("header",{className:"header",children:[ye.jsx("div",{className:"header-icon",children:ye.jsx(ME,{})}),ye.jsx("h1",{children:i}),ye.jsx("button",{className:"study-guides-button",onClick:s,children:e?"Mi Blog":"Guías de estudio"}),ye.jsx("div",{className:"header-right",children:ye.jsx("div",{className:"header-icon",children:ye.jsx(DE,{})})})]})}var Zp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},FE=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],g=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},yg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,g=a+2<i.length,_=g?i[a+2]:0,w=c>>2,R=(c&3)<<4|m>>4;let A=(m&15)<<2|_>>6,N=_&63;g||(N=64,f||(A=64)),s.push(n[w],n[R],n[A],n[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(gg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):FE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||_==null||R==null)throw new UE;const A=c<<2|m>>4;if(s.push(A),_!==64){const N=m<<4&240|_>>2;if(s.push(N),R!==64){const z=_<<6&192|R;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class UE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zE=function(i){const e=gg(i);return yg.encodeByteArray(e,!0)},nu=function(i){return zE(i).replace(/\./g,"")},bE=function(i){try{return yg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=()=>BE().__FIREBASE_DEFAULTS__,$E=()=>{if(typeof process>"u"||typeof Zp>"u")return;const i=Zp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},HE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&bE(i[1]);return e&&JSON.parse(e)},ef=()=>{try{return jE()||$E()||HE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},qE=i=>{var e,n;return(n=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},WE=i=>{const e=qE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_g=()=>{var i;return(i=ef())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[nu(JSON.stringify(n)),nu(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XE(){var i;const e=(i=ef())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YE(){return!XE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JE(){try{return typeof indexedDB=="object"}catch{return!1}}function ZE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="FirebaseError";class Xs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ew,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vg.prototype.create)}}class vg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?tw(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new Xs(a,m,s)}}function tw(i,e){return i.replace(nw,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const nw=/\{\$([^}]+)}/g;function Ch(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(em(c)&&em(f)){if(!Ch(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function em(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i){return i&&i._delegate?i._delegate:i}class aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new QE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sw(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iw(i){return i===Li?void 0:i}function sw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const aw={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},lw=Ne.INFO,uw={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},cw=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=uw[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eg{constructor(e){this.name=e,this._logLevel=lw,this._logHandler=cw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const hw=(i,e)=>e.some(n=>i instanceof n);let tm,nm;function fw(){return tm||(tm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dw(){return nm||(nm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wg=new WeakMap,Ah=new WeakMap,Tg=new WeakMap,mh=new WeakMap,tf=new WeakMap;function pw(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(Qr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&wg.set(n,i)}).catch(()=>{}),tf.set(e,i),e}function mw(i){if(Ah.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});Ah.set(i,e)}let Ph={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Ah.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Tg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function gw(i){Ph=i(Ph)}function yw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(gh(this),e,...n);return Tg.set(s,e.sort?e.sort():[e]),Qr(s)}:dw().includes(i)?function(...e){return i.apply(gh(this),e),Qr(wg.get(this))}:function(...e){return Qr(i.apply(gh(this),e))}}function _w(i){return typeof i=="function"?yw(i):(i instanceof IDBTransaction&&mw(i),hw(i,fw())?new Proxy(i,Ph):i)}function Qr(i){if(i instanceof IDBRequest)return pw(i);if(mh.has(i))return mh.get(i);const e=_w(i);return e!==i&&(mh.set(i,e),tf.set(e,i)),e}const gh=i=>tf.get(i);function vw(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=Qr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Qr(f.result),g.oldVersion,g.newVersion,Qr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const Ew=["get","getKey","getAll","getAllKeys","count"],ww=["put","add","delete","clear"],yh=new Map;function rm(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(yh.get(e))return yh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=ww.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Ew.includes(n)))return;const c=async function(f,...m){const g=this.transaction(f,a?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&g.done]))[0]};return yh.set(e,c),c}gw(i=>({...i,get:(e,n,s)=>rm(e,n)||i.get(e,n,s),has:(e,n)=>!!rm(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Sw(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kh="@firebase/app",im="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new Eg("@firebase/app"),Iw="@firebase/app-compat",Rw="@firebase/analytics-compat",Cw="@firebase/analytics",Aw="@firebase/app-check-compat",Pw="@firebase/app-check",kw="@firebase/auth",xw="@firebase/auth-compat",Vw="@firebase/database",Dw="@firebase/data-connect",Nw="@firebase/database-compat",Lw="@firebase/functions",Ow="@firebase/functions-compat",Mw="@firebase/installations",Fw="@firebase/installations-compat",Uw="@firebase/messaging",zw="@firebase/messaging-compat",bw="@firebase/performance",Bw="@firebase/performance-compat",jw="@firebase/remote-config",$w="@firebase/remote-config-compat",Hw="@firebase/storage",qw="@firebase/storage-compat",Ww="@firebase/firestore",Qw="@firebase/vertexai",Kw="@firebase/firestore-compat",Gw="firebase",Xw="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="[DEFAULT]",Yw={[kh]:"fire-core",[Iw]:"fire-core-compat",[Cw]:"fire-analytics",[Rw]:"fire-analytics-compat",[Pw]:"fire-app-check",[Aw]:"fire-app-check-compat",[kw]:"fire-auth",[xw]:"fire-auth-compat",[Vw]:"fire-rtdb",[Dw]:"fire-data-connect",[Nw]:"fire-rtdb-compat",[Lw]:"fire-fn",[Ow]:"fire-fn-compat",[Mw]:"fire-iid",[Fw]:"fire-iid-compat",[Uw]:"fire-fcm",[zw]:"fire-fcm-compat",[bw]:"fire-perf",[Bw]:"fire-perf-compat",[jw]:"fire-rc",[$w]:"fire-rc-compat",[Hw]:"fire-gcs",[qw]:"fire-gcs-compat",[Ww]:"fire-fst",[Kw]:"fire-fst-compat",[Qw]:"fire-vertex","fire-js":"fire-js",[Gw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new Map,Jw=new Map,Vh=new Map;function sm(i,e){try{i.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function iu(i){const e=i.name;if(Vh.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Vh.set(e,i);for(const n of ru.values())sm(n,i);for(const n of Jw.values())sm(n,i);return!0}function Zw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new vg("app","Firebase",e0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=Xw;function Sg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:xh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Kr.create("bad-app-name",{appName:String(a)});if(n||(n=_g()),!n)throw Kr.create("no-options");const c=ru.get(a);if(c){if(Ch(n,c.options)&&Ch(s,c.config))return c;throw Kr.create("duplicate-app",{appName:a})}const f=new ow(a);for(const g of Vh.values())f.addComponent(g);const m=new t0(n,s,f);return ru.set(a,m),m}function r0(i=xh){const e=ru.get(i);if(!e&&i===xh&&_g())return Sg();if(!e)throw Kr.create("no-app",{appName:i});return e}function Us(i,e,n){var s;let a=(s=Yw[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(m.join(" "));return}iu(new aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="firebase-heartbeat-database",s0=1,la="firebase-heartbeat-store";let _h=null;function Ig(){return _h||(_h=vw(i0,s0,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(la)}catch(n){console.warn(n)}}}}).catch(i=>{throw Kr.create("idb-open",{originalErrorMessage:i.message})})),_h}async function o0(i){try{const n=(await Ig()).transaction(la),s=await n.objectStore(la).get(Rg(i));return await n.done,s}catch(e){if(e instanceof Xs)yr.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function om(i,e){try{const s=(await Ig()).transaction(la,"readwrite");await s.objectStore(la).put(e,Rg(i)),await s.done}catch(n){if(n instanceof Xs)yr.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(s.message)}}}function Rg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=1024,l0=30*24*60*60*1e3;class u0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new h0(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=am();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=l0}),this._storage.overwrite(this._heartbeatsCache))}catch(s){yr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=am(),{heartbeatsToSend:s,unsentEntries:a}=c0(this._heartbeatsCache.heartbeats),c=nu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return yr.warn(n),""}}}function am(){return new Date().toISOString().substring(0,10)}function c0(i,e=a0){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),lm(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),lm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class h0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JE()?ZE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await o0(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return om(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return om(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function lm(i){return nu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(i){iu(new aa("platform-logger",e=>new Tw(e),"PRIVATE")),iu(new aa("heartbeat",e=>new u0(e),"PRIVATE")),Us(kh,im,i),Us(kh,im,"esm2017"),Us("fire-js","")}f0("");var d0="firebase",p0="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us(d0,p0,"app");var um=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,Cg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function I(){}I.prototype=T.prototype,x.D=T.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(k,D,O){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return T.prototype[D].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,T,I){I||(I=0);var k=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)k[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;16>D;++D)k[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=x.g[0],I=x.g[1],D=x.g[2];var O=x.g[3],C=T+(O^I&(D^O))+k[0]+3614090360&4294967295;T=I+(C<<7&4294967295|C>>>25),C=O+(D^T&(I^D))+k[1]+3905402710&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(I^O&(T^I))+k[2]+606105819&4294967295,D=O+(C<<17&4294967295|C>>>15),C=I+(T^D&(O^T))+k[3]+3250441966&4294967295,I=D+(C<<22&4294967295|C>>>10),C=T+(O^I&(D^O))+k[4]+4118548399&4294967295,T=I+(C<<7&4294967295|C>>>25),C=O+(D^T&(I^D))+k[5]+1200080426&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(I^O&(T^I))+k[6]+2821735955&4294967295,D=O+(C<<17&4294967295|C>>>15),C=I+(T^D&(O^T))+k[7]+4249261313&4294967295,I=D+(C<<22&4294967295|C>>>10),C=T+(O^I&(D^O))+k[8]+1770035416&4294967295,T=I+(C<<7&4294967295|C>>>25),C=O+(D^T&(I^D))+k[9]+2336552879&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(I^O&(T^I))+k[10]+4294925233&4294967295,D=O+(C<<17&4294967295|C>>>15),C=I+(T^D&(O^T))+k[11]+2304563134&4294967295,I=D+(C<<22&4294967295|C>>>10),C=T+(O^I&(D^O))+k[12]+1804603682&4294967295,T=I+(C<<7&4294967295|C>>>25),C=O+(D^T&(I^D))+k[13]+4254626195&4294967295,O=T+(C<<12&4294967295|C>>>20),C=D+(I^O&(T^I))+k[14]+2792965006&4294967295,D=O+(C<<17&4294967295|C>>>15),C=I+(T^D&(O^T))+k[15]+1236535329&4294967295,I=D+(C<<22&4294967295|C>>>10),C=T+(D^O&(I^D))+k[1]+4129170786&4294967295,T=I+(C<<5&4294967295|C>>>27),C=O+(I^D&(T^I))+k[6]+3225465664&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^I&(O^T))+k[11]+643717713&4294967295,D=O+(C<<14&4294967295|C>>>18),C=I+(O^T&(D^O))+k[0]+3921069994&4294967295,I=D+(C<<20&4294967295|C>>>12),C=T+(D^O&(I^D))+k[5]+3593408605&4294967295,T=I+(C<<5&4294967295|C>>>27),C=O+(I^D&(T^I))+k[10]+38016083&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^I&(O^T))+k[15]+3634488961&4294967295,D=O+(C<<14&4294967295|C>>>18),C=I+(O^T&(D^O))+k[4]+3889429448&4294967295,I=D+(C<<20&4294967295|C>>>12),C=T+(D^O&(I^D))+k[9]+568446438&4294967295,T=I+(C<<5&4294967295|C>>>27),C=O+(I^D&(T^I))+k[14]+3275163606&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^I&(O^T))+k[3]+4107603335&4294967295,D=O+(C<<14&4294967295|C>>>18),C=I+(O^T&(D^O))+k[8]+1163531501&4294967295,I=D+(C<<20&4294967295|C>>>12),C=T+(D^O&(I^D))+k[13]+2850285829&4294967295,T=I+(C<<5&4294967295|C>>>27),C=O+(I^D&(T^I))+k[2]+4243563512&4294967295,O=T+(C<<9&4294967295|C>>>23),C=D+(T^I&(O^T))+k[7]+1735328473&4294967295,D=O+(C<<14&4294967295|C>>>18),C=I+(O^T&(D^O))+k[12]+2368359562&4294967295,I=D+(C<<20&4294967295|C>>>12),C=T+(I^D^O)+k[5]+4294588738&4294967295,T=I+(C<<4&4294967295|C>>>28),C=O+(T^I^D)+k[8]+2272392833&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^I)+k[11]+1839030562&4294967295,D=O+(C<<16&4294967295|C>>>16),C=I+(D^O^T)+k[14]+4259657740&4294967295,I=D+(C<<23&4294967295|C>>>9),C=T+(I^D^O)+k[1]+2763975236&4294967295,T=I+(C<<4&4294967295|C>>>28),C=O+(T^I^D)+k[4]+1272893353&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^I)+k[7]+4139469664&4294967295,D=O+(C<<16&4294967295|C>>>16),C=I+(D^O^T)+k[10]+3200236656&4294967295,I=D+(C<<23&4294967295|C>>>9),C=T+(I^D^O)+k[13]+681279174&4294967295,T=I+(C<<4&4294967295|C>>>28),C=O+(T^I^D)+k[0]+3936430074&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^I)+k[3]+3572445317&4294967295,D=O+(C<<16&4294967295|C>>>16),C=I+(D^O^T)+k[6]+76029189&4294967295,I=D+(C<<23&4294967295|C>>>9),C=T+(I^D^O)+k[9]+3654602809&4294967295,T=I+(C<<4&4294967295|C>>>28),C=O+(T^I^D)+k[12]+3873151461&4294967295,O=T+(C<<11&4294967295|C>>>21),C=D+(O^T^I)+k[15]+530742520&4294967295,D=O+(C<<16&4294967295|C>>>16),C=I+(D^O^T)+k[2]+3299628645&4294967295,I=D+(C<<23&4294967295|C>>>9),C=T+(D^(I|~O))+k[0]+4096336452&4294967295,T=I+(C<<6&4294967295|C>>>26),C=O+(I^(T|~D))+k[7]+1126891415&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~I))+k[14]+2878612391&4294967295,D=O+(C<<15&4294967295|C>>>17),C=I+(O^(D|~T))+k[5]+4237533241&4294967295,I=D+(C<<21&4294967295|C>>>11),C=T+(D^(I|~O))+k[12]+1700485571&4294967295,T=I+(C<<6&4294967295|C>>>26),C=O+(I^(T|~D))+k[3]+2399980690&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~I))+k[10]+4293915773&4294967295,D=O+(C<<15&4294967295|C>>>17),C=I+(O^(D|~T))+k[1]+2240044497&4294967295,I=D+(C<<21&4294967295|C>>>11),C=T+(D^(I|~O))+k[8]+1873313359&4294967295,T=I+(C<<6&4294967295|C>>>26),C=O+(I^(T|~D))+k[15]+4264355552&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~I))+k[6]+2734768916&4294967295,D=O+(C<<15&4294967295|C>>>17),C=I+(O^(D|~T))+k[13]+1309151649&4294967295,I=D+(C<<21&4294967295|C>>>11),C=T+(D^(I|~O))+k[4]+4149444226&4294967295,T=I+(C<<6&4294967295|C>>>26),C=O+(I^(T|~D))+k[11]+3174756917&4294967295,O=T+(C<<10&4294967295|C>>>22),C=D+(T^(O|~I))+k[2]+718787259&4294967295,D=O+(C<<15&4294967295|C>>>17),C=I+(O^(D|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+O&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var I=T-this.blockSize,k=this.B,D=this.h,O=0;O<T;){if(D==0)for(;O<=I;)a(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<T;)if(k[D++]=x.charCodeAt(O++),D==this.blockSize){a(this,k),D=0;break}}else for(;O<T;)if(k[D++]=x[O++],D==this.blockSize){a(this,k),D=0;break}}this.h=D,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var I=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=I&255,I/=256;for(this.u(x),x=Array(16),T=I=0;4>T;++T)for(var k=0;32>k;k+=8)x[I++]=this.g[T]>>>k&255;return x};function c(x,T){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=T(x)}function f(x,T){this.h=T;for(var I=[],k=!0,D=x.length-1;0<=D;D--){var O=x[D]|0;k&&O==T||(I[D]=O,k=!1)}this.g=I}var m={};function g(x){return-128<=x&&128>x?c(x,function(T){return new f([T|0],0>T?-1:0)}):new f([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return U(_(-x));for(var T=[],I=1,k=0;x>=I;k++)T[k]=x/I|0,I*=4294967296;return new f(T,0)}function w(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return U(w(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(T,8)),k=R,D=0;D<x.length;D+=8){var O=Math.min(8,x.length-D),C=parseInt(x.substring(D,D+O),T);8>O?(O=_(Math.pow(T,O)),k=k.j(O).add(_(C))):(k=k.j(I),k=k.add(_(C)))}return k}var R=g(0),A=g(1),N=g(16777216);i=f.prototype,i.m=function(){if($(this))return-U(this).m();for(var x=0,T=1,I=0;I<this.g.length;I++){var k=this.i(I);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(z(this))return"0";if($(this))return"-"+U(this).toString(x);for(var T=_(Math.pow(x,6)),I=this,k="";;){var D=ce(I,T).g;I=W(I,D.j(T));var O=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=D,z(I))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function z(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function $(x){return x.h==-1}i.l=function(x){return x=W(this,x),$(x)?-1:z(x)?0:1};function U(x){for(var T=x.g.length,I=[],k=0;k<T;k++)I[k]=~x.g[k];return new f(I,~x.h).add(A)}i.abs=function(){return $(this)?U(this):this},i.add=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0,D=0;D<=T;D++){var O=k+(this.i(D)&65535)+(x.i(D)&65535),C=(O>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);k=C>>>16,O&=65535,C&=65535,I[D]=C<<16|O}return new f(I,I[I.length-1]&-2147483648?-1:0)};function W(x,T){return x.add(U(T))}i.j=function(x){if(z(this)||z(x))return R;if($(this))return $(x)?U(this).j(U(x)):U(U(this).j(x));if($(x))return U(this.j(U(x)));if(0>this.l(N)&&0>x.l(N))return _(this.m()*x.m());for(var T=this.g.length+x.g.length,I=[],k=0;k<2*T;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<x.g.length;D++){var O=this.i(k)>>>16,C=this.i(k)&65535,tt=x.i(D)>>>16,kt=x.i(D)&65535;I[2*k+2*D]+=C*kt,te(I,2*k+2*D),I[2*k+2*D+1]+=O*kt,te(I,2*k+2*D+1),I[2*k+2*D+1]+=C*tt,te(I,2*k+2*D+1),I[2*k+2*D+2]+=O*tt,te(I,2*k+2*D+2)}for(k=0;k<T;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=T;k<2*T;k++)I[k]=0;return new f(I,0)};function te(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function J(x,T){this.g=x,this.h=T}function ce(x,T){if(z(T))throw Error("division by zero");if(z(x))return new J(R,R);if($(x))return T=ce(U(x),T),new J(U(T.g),U(T.h));if($(T))return T=ce(x,U(T)),new J(U(T.g),T.h);if(30<x.g.length){if($(x)||$(T))throw Error("slowDivide_ only works with positive integers.");for(var I=A,k=T;0>=k.l(x);)I=Ce(I),k=Ce(k);var D=Te(I,1),O=Te(k,1);for(k=Te(k,2),I=Te(I,2);!z(k);){var C=O.add(k);0>=C.l(x)&&(D=D.add(I),O=C),k=Te(k,1),I=Te(I,1)}return T=W(x,D.j(T)),new J(D,T)}for(D=R;0<=x.l(T);){for(I=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=_(I),C=O.j(T);$(C)||0<C.l(x);)I-=k,O=_(I),C=O.j(T);z(O)&&(O=A),D=D.add(O),x=W(x,C)}return new J(D,x)}i.A=function(x){return ce(this,x).h},i.and=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)&x.i(k);return new f(I,this.h&x.h)},i.or=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)|x.i(k);return new f(I,this.h|x.h)},i.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],k=0;k<T;k++)I[k]=this.i(k)^x.i(k);return new f(I,this.h^x.h)};function Ce(x){for(var T=x.g.length+1,I=[],k=0;k<T;k++)I[k]=x.i(k)<<1|x.i(k-1)>>>31;return new f(I,x.h)}function Te(x,T){var I=T>>5;T%=32;for(var k=x.g.length-I,D=[],O=0;O<k;O++)D[O]=0<T?x.i(O+I)>>>T|x.i(O+I+1)<<32-T:x.i(O+I);return new f(D,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Cg=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=w,Gr=f}).apply(typeof um<"u"?um:typeof self<"u"?self:typeof window<"u"?window:{});var zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ag,Zo,Pg,Ql,Dh,kg,xg,Vg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof zl=="object"&&zl];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in y))break e;y=y[M]}l=l[l.length-1],E=y[l],d=d(E),d!=E&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var y=0,E=!1,M={next:function(){if(!E&&y<l.length){var j=y++;return{value:d(j,l[j]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function _(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,y){return l.call.apply(l.bind,arguments)}function R(l,d,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(d,M)}}return function(){return l.apply(d,arguments)}}function A(l,d,y){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,A.apply(null,arguments)}function N(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function z(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,M,j){for(var ee=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ee[ze-2]=arguments[ze];return d.prototype[M].apply(E,ee)}}function $(l){const d=l.length;if(0<d){const y=Array(d);for(let E=0;E<d;E++)y[E]=l[E];return y}return[]}function U(l,d){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const M=l.length||0,j=E.length||0;l.length=M+j;for(let ee=0;ee<j;ee++)l[M+ee]=E[ee]}else l.push(E)}}class W{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function te(l){return/^[\s\xa0]*$/.test(l)}function J(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function ce(l){return ce[" "](l),l}ce[" "]=function(){};var Ce=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Te(l,d,y){for(const E in l)d.call(y,l[E],E,l)}function x(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function T(l){const d={};for(const y in l)d[y]=l[y];return d}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let y,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(y in E)l[y]=E[y];for(let j=0;j<I.length;j++)y=I[j],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function D(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function O(l){m.setTimeout(()=>{throw l},0)}function C(){var l=de;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class tt{constructor(){this.h=this.g=null}add(d,y){const E=kt.get();E.set(d,y),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new W(()=>new xt,l=>l.reset());class xt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let be,ne=!1,de=new tt,ie=()=>{const l=m.Promise.resolve(void 0);be=()=>{l.then(L)}};var L=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){O(y)}var d=kt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}ne=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return l}();function Ie(l,d){if(he.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Ce){e:{try{ce(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ie.aa.h.call(this)}}z(Ie,he);var xe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function je(l,d,y,E,M){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!E,this.ha=M,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Yn(l){this.src=l,this.g={},this.h=0}Yn.prototype.add=function(l,d,y,E,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var ee=wr(l,d,E,M);return-1<ee?(d=l[ee],y||(d.fa=!1)):(d=new je(d,this.src,j,!!E,M),d.fa=y,l.push(d)),d};function ji(l,d){var y=d.type;if(y in l.g){var E=l.g[y],M=Array.prototype.indexOf.call(E,d,void 0),j;(j=0<=M)&&Array.prototype.splice.call(E,M,1),j&&(gt(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function wr(l,d,y,E){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==d&&j.capture==!!y&&j.ha==E)return M}return-1}var oi="closure_lm_"+(1e6*Math.random()|0),$i={};function to(l,d,y,E,M){if(Array.isArray(d)){for(var j=0;j<d.length;j++)to(l,d[j],y,E,M);return null}return y=io(y),l&&l[Me]?l.K(d,y,_(E)?!!E.capture:!1,M):no(l,d,y,!1,E,M)}function no(l,d,y,E,M,j){if(!d)throw Error("Invalid event type");var ee=_(M)?!!M.capture:!!M,ze=qi(l);if(ze||(l[oi]=ze=new Yn(l)),y=ze.add(d,y,E,ee,j),y.proxy)return y;if(E=Ta(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Se||(M=ee),M===void 0&&(M=!1),l.addEventListener(d.toString(),E,M);else if(l.attachEvent)l.attachEvent(Zn(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ta(){function l(y){return d.call(l.src,l.listener,y)}const d=ro;return l}function Hi(l,d,y,E,M){if(Array.isArray(d))for(var j=0;j<d.length;j++)Hi(l,d[j],y,E,M);else E=_(E)?!!E.capture:!!E,y=io(y),l&&l[Me]?(l=l.i,d=String(d).toString(),d in l.g&&(j=l.g[d],y=wr(j,y,E,M),-1<y&&(gt(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete l.g[d],l.h--)))):l&&(l=qi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=wr(d,y,E,M)),(y=-1<l?d[l]:null)&&Jn(y))}function Jn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Me])ji(d.i,l);else{var y=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(y,E,l.capture):d.detachEvent?d.detachEvent(Zn(y),E):d.addListener&&d.removeListener&&d.removeListener(E),(y=qi(d))?(ji(y,l),y.h==0&&(y.src=null,d[oi]=null)):gt(l)}}}function Zn(l){return l in $i?$i[l]:$i[l]="on"+l}function ro(l,d){if(l.da)l=!0;else{d=new Ie(d,this);var y=l.listener,E=l.ha||l.src;l.fa&&Jn(l),l=y.call(E,d)}return l}function qi(l){return l=l[oi],l instanceof Yn?l:null}var Wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function io(l){return typeof l=="function"?l:(l[Wi]||(l[Wi]=function(d){return l.handleEvent(d)}),l[Wi])}function lt(){Q.call(this),this.i=new Yn(this),this.M=this,this.F=null}z(lt,Q),lt.prototype[Me]=!0,lt.prototype.removeEventListener=function(l,d,y,E){Hi(this,l,d,y,E)};function ut(l,d){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new he(d,l);else if(d instanceof he)d.target=d.target||l;else{var M=d;d=new he(E,l),k(d,M)}if(M=!0,y)for(var j=y.length-1;0<=j;j--){var ee=d.g=y[j];M=er(ee,E,!0,d)&&M}if(ee=d.g=l,M=er(ee,E,!0,d)&&M,M=er(ee,E,!1,d)&&M,y)for(j=0;j<y.length;j++)ee=d.g=y[j],M=er(ee,E,!1,d)&&M}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],E=0;E<y.length;E++)gt(y[E]);delete l.g[d],l.h--}}this.F=null},lt.prototype.K=function(l,d,y,E){return this.i.add(String(l),d,!1,y,E)},lt.prototype.L=function(l,d,y,E){return this.i.add(String(l),d,!0,y,E)};function er(l,d,y,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,j=0;j<d.length;++j){var ee=d[j];if(ee&&!ee.da&&ee.capture==y){var ze=ee.listener,ct=ee.ha||ee.src;ee.fa&&ji(l.i,ee),M=ze.call(ct,E)!==!1&&M}}return M&&!E.defaultPrevented}function so(l,d,y){if(typeof l=="function")y&&(l=A(l,y));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function Tr(l){l.g=so(()=>{l.g=null,l.i&&(l.i=!1,Tr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ai extends Q{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(l){Q.call(this),this.h=l,this.g={}}z(li,Q);var oo=[];function ao(l){Te(l.g,function(d,y){this.g.hasOwnProperty(y)&&Jn(d)},l),l.g={}}li.prototype.N=function(){li.aa.N.call(this),ao(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lo=m.JSON.stringify,uo=m.JSON.parse,co=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ui(){}ui.prototype.h=null;function Qi(l){return l.h||(l.h=l.i())}function Ki(){}var on={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){he.call(this,"d")}z(Nn,he);function Gi(){he.call(this,"c")}z(Gi,he);var Ln={},ho=null;function ci(){return ho=ho||new lt}Ln.La="serverreachability";function fo(l){he.call(this,Ln.La,l)}z(fo,he);function tr(l){const d=ci();ut(d,new fo(d))}Ln.STAT_EVENT="statevent";function po(l,d){he.call(this,Ln.STAT_EVENT,l),this.stat=d}z(po,he);function nt(l){const d=ci();ut(d,new po(d,l))}Ln.Ma="timingevent";function Xi(l,d){he.call(this,Ln.Ma,l),this.size=d}z(Xi,he);function yn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function hi(){this.g=!0}hi.prototype.xa=function(){this.g=!1};function fi(l,d,y,E,M,j){l.info(function(){if(l.g)if(j)for(var ee="",ze=j.split("&"),ct=0;ct<ze.length;ct++){var Ve=ze[ct].split("=");if(1<Ve.length){var yt=Ve[0];Ve=Ve[1];var st=yt.split("_");ee=2<=st.length&&st[1]=="type"?ee+(yt+"="+Ve+"&"):ee+(yt+"=redacted&")}}else ee=null;else ee=j;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+d+`
`+y+`
`+ee})}function Yi(l,d,y,E,M,j,ee){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+d+`
`+y+`
`+j+" "+ee})}function _n(l,d,y,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Mu(l,y)+(E?" "+E:"")})}function mo(l,d){l.info(function(){return"TIMEOUT: "+d})}hi.prototype.info=function(){};function Mu(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var ee=1;ee<M.length;ee++)M[ee]=""}}}}return lo(y)}catch{return d}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vn;function di(){}z(di,ui),di.prototype.g=function(){return new XMLHttpRequest},di.prototype.i=function(){return{}},vn=new di;function En(l,d,y,E){this.j=l,this.i=d,this.l=y,this.R=E||1,this.U=new li(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ia}function Ia(){this.i=null,this.g="",this.h=!1}var go={},Zi={};function es(l,d,y){l.L=1,l.v=Ar(Jt(d)),l.m=y,l.P=!0,yo(l,null)}function yo(l,d){l.F=Date.now(),$e(l),l.A=Jt(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),kr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Ia,l.g=ja(l.j,y?d:null,!l.m),0<l.O&&(l.M=new ai(A(l.Y,l,l.g),l.O)),d=l.U,y=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(oo[0]=M.toString()),M=oo);for(var j=0;j<M.length;j++){var ee=to(y,M[j],E||d.handleEvent,!1,d.h||d);if(!ee)break;d.g[ee.key]=ee}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),tr(),fi(l.i,l.u,l.A,l.l,l.R,l.m)}En.prototype.ca=function(l){l=l.target;const d=this.M;d&&$t(l)==3?d.j():this.Y(l)},En.prototype.Y=function(l){try{if(l==this.g)e:{const st=$t(this.g);var d=this.g.Ba();const un=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||So(this.g)))){this.J||st!=4||d==7||(d==8||0>=un?tr(3):tr(2)),pi(this);var y=this.g.Z();this.X=y;t:if(Ra(this)){var E=So(this.g);l="";var M=E.length,j=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),Sr(this);var ee="";break t}this.h.i=new m.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(j&&d==M-1)});E.length=0,this.h.g+=l,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=y==200,Yi(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,ct=this.g;if((ze=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(ze)){var Ve=ze;break t}}Ve=null}if(y=Ve)_n(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_o(this,y);else{this.o=!1,this.s=3,nt(12),an(this),Sr(this);break e}}if(this.P){y=!0;let en;for(;!this.J&&this.C<ee.length;)if(en=Fu(this,ee),en==Zi){st==4&&(this.s=4,nt(14),y=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(en==go){this.s=4,nt(15),_n(this.i,this.l,ee,"[Invalid Chunk]"),y=!1;break}else _n(this.i,this.l,en,null),_o(this,en);if(Ra(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||ee.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)_n(this.i,this.l,ee,"[Invalid Chunked Response]"),an(this),Sr(this);else if(0<ee.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Ro(yt),yt.M=!0,nt(11))}}else _n(this.i,this.l,ee,null),_o(this,ee);st==4&&an(this),this.o&&!this.J&&(st==4?hs(this.j,this):(this.o=!1,$e(this)))}else os(this.g),y==400&&0<ee.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),an(this),Sr(this)}}}catch{}finally{}};function Ra(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Fu(l,d){var y=l.C,E=d.indexOf(`
`,y);return E==-1?Zi:(y=Number(d.substring(y,E)),isNaN(y)?go:(E+=1,E+y>d.length?Zi:(d=d.slice(E,E+y),l.C=E+y,d)))}En.prototype.cancel=function(){this.J=!0,an(this)};function $e(l){l.S=Date.now()+l.I,Ca(l,l.I)}function Ca(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yn(A(l.ba,l),d)}function pi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}En.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(mo(this.i,this.A),this.L!=2&&(tr(),nt(17)),an(this),this.s=2,Sr(this)):Ca(this,this.S-l)};function Sr(l){l.j.G==0||l.J||hs(l.j,l)}function an(l){pi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,ao(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function _o(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||Ut(y.h,l))){if(!l.K&&Ut(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)cs(y),Rn(y);else break e;us(y),nt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=yn(A(y.Za,y),6e3));if(1>=Pa(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else or(y,11)}else if((l.K||y.g==l)&&cs(y),!te(d))for(M=y.Da.g.parse(d),d=0;d<M.length;d++){let Ve=M[d];if(y.T=Ve[0],Ve=Ve[1],y.G==2)if(Ve[0]=="c"){y.K=Ve[1],y.ia=Ve[2];const yt=Ve[3];yt!=null&&(y.la=yt,y.j.info("VER="+y.la));const st=Ve[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const un=Ve[5];un!=null&&typeof un=="number"&&0<un&&(E=1.5*un,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const en=l.g;if(en){const wi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wi){var j=E.h;j.g||wi.indexOf("spdy")==-1&&wi.indexOf("quic")==-1&&wi.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(vo(j,j.h),j.h=null))}if(E.D){const ds=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;ds&&(E.ya=ds,Be(E.I,E.D,ds))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ee=l;if(E.qa=Ba(E,E.J?E.ia:null,E.W),ee.K){ka(E.h,ee);var ze=ee,ct=E.L;ct&&(ze.I=ct),ze.B&&(pi(ze),$e(ze)),E.g=ee}else Ei(E);0<y.i.length&&Un(y)}else Ve[0]!="stop"&&Ve[0]!="close"||or(y,7);else y.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?or(y,7):St(y):Ve[0]!="noop"&&y.l&&y.l.ta(Ve),y.v=0)}}tr(4)}catch{}}var Aa=class{constructor(l,d){this.g=l,this.map=d}};function mi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Pa(l){return l.h?1:l.g?l.g.size:0}function Ut(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function vo(l,d){l.g?l.g.add(d):l.h=d}function ka(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}mi.prototype.cancel=function(){if(this.i=xa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function xa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return $(l.i)}function ts(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,E=0;E<y;E++)d.push(l[E]);return d}d=[],y=0;for(E in l)d[y++]=l[E];return d}function ns(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const E in l)d[y++]=E;return d}}}function Ir(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=ns(l),E=ts(l),M=E.length,j=0;j<M;j++)d.call(void 0,E[j],y&&y[j],l)}var gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Uu(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),M=null;if(0<=E){var j=l[y].substring(0,E);M=l[y].substring(E+1)}else j=l[y];d(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function nr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof nr){this.h=l.h,yi(this,l.j),this.o=l.o,this.g=l.g,Rr(this,l.s),this.l=l.l;var d=l.i,y=new On;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),Cr(this,y),this.m=l.m}else l&&(d=String(l).match(gi))?(this.h=!1,yi(this,d[1]||"",!0),this.o=Pe(d[2]||""),this.g=Pe(d[3]||"",!0),Rr(this,d[4]),this.l=Pe(d[5]||"",!0),Cr(this,d[6]||"",!0),this.m=Pe(d[7]||"")):(this.h=!1,this.i=new On(null,this.h))}nr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Pr(d,rs,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Pr(d,rs,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Pr(y,y.charAt(0)=="/"?Na:Da,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Pr(y,Eo)),l.join("")};function Jt(l){return new nr(l)}function yi(l,d,y){l.j=y?Pe(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Rr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Cr(l,d,y){d instanceof On?(l.i=d,Mn(l.i,l.h)):(y||(d=Pr(d,La)),l.i=new On(d,l.h))}function Be(l,d,y){l.i.set(d,y)}function Ar(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Pr(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,Va),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Va(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var rs=/[#\/\?@]/g,Da=/[#\?:]/g,Na=/[#\?]/g,La=/[#\?@]/g,Eo=/#/g;function On(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&Uu(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=On.prototype,i.add=function(l,d){Tt(this),this.i=null,l=ln(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function wn(l,d){Tt(l),d=ln(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Tn(l,d){return Tt(l),d=ln(l,d),l.g.has(d)}i.forEach=function(l,d){Tt(this),this.g.forEach(function(y,E){y.forEach(function(M){l.call(d,M,E,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let E=0;E<d.length;E++){const M=l[E];for(let j=0;j<M.length;j++)y.push(d[E])}return y},i.V=function(l){Tt(this);let d=[];if(typeof l=="string")Tn(this,l)&&(d=d.concat(this.g.get(ln(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return Tt(this),this.i=null,l=ln(this,l),Tn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function kr(l,d,y){wn(l,d),0<y.length&&(l.i=null,l.g.set(ln(l,d),$(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var E=d[y];const j=encodeURIComponent(String(E)),ee=this.V(E);for(E=0;E<ee.length;E++){var M=j;ee[E]!==""&&(M+="="+encodeURIComponent(String(ee[E]))),l.push(M)}}return this.i=l.join("&")};function ln(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function Mn(l,d){d&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(y,E){var M=E.toLowerCase();E!=M&&(wn(this,E),kr(this,M,y))},l)),l.j=d}function zu(l,d){const y=new hi;if(m.Image){const E=new Image;E.onload=N(jt,y,"TestLoadImage: loaded",!0,d,E),E.onerror=N(jt,y,"TestLoadImage: error",!1,d,E),E.onabort=N(jt,y,"TestLoadImage: abort",!1,d,E),E.ontimeout=N(jt,y,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Oa(l,d){const y=new hi,E=new AbortController,M=setTimeout(()=>{E.abort(),jt(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(j=>{clearTimeout(M),j.ok?jt(y,"TestPingServer: ok",!0,d):jt(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),jt(y,"TestPingServer: error",!1,d)})}function jt(l,d,y,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(y)}catch{}}function bu(){this.g=new co}function Ma(l,d,y){const E=y||"";try{Ir(l,function(M,j){let ee=M;_(M)&&(ee=lo(M)),d.push(E+j+"="+encodeURIComponent(ee))})}catch(M){throw d.push(E+"type="+encodeURIComponent("_badmap")),M}}function rr(l){this.l=l.Ub||null,this.j=l.eb||!1}z(rr,ui),rr.prototype.g=function(){return new _i(this.l,this.j)},rr.prototype.i=function(l){return function(){return l}}({});function _i(l,d){lt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(_i,lt),i=_i.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fa(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fa(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Sn(this):In(this),this.readyState==3&&Fa(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Sn(this))},i.Qa=function(l){this.g&&(this.response=l,Sn(this))},i.ga=function(){this.g&&Sn(this)};function Sn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function ir(l){let d="";return Te(l,function(y,E){d+=E,d+=":",d+=y,d+=`\r
`}),d}function xr(l,d,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=ir(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Be(l,d,y))}function Qe(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Qe,lt);var Bu=/^https?$/i,wo=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vn.g(),this.v=this.o?Qi(this.o):Qi(vn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(j){vi(this,j);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)y.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const j of E.keys())y.set(j,E.get(j));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(wo,d,void 0))||E||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ee]of y)this.g.setRequestHeader(j,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){vi(this,j)}};function vi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,is(l),Zt(l)}function is(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?To(this):this.bb())},i.bb=function(){To(this)};function To(l){if(l.h&&typeof f<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)so(l.Ea,0,l);else if(ut(l,"readystatechange"),$t(l)==4){l.h=!1;try{const ee=l.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var E;if(E=ee===0){var M=String(l.D).match(gi)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),E=!Bu.test(M?M.toLowerCase():"")}y=E}if(y)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var j=2<$t(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",is(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){ss(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ut(l,"ready");try{y.onreadystatechange=E}catch{}}}function ss(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),uo(d)}};function So(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function os(l){const d={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(te(l[E]))continue;var y=D(l[E]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=d[M]||[];d[M]=j,j.push(y)}x(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fn(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function Io(l){this.Aa=0,this.i=[],this.j=new hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fn("baseRetryDelayMs",5e3,l),this.cb=Fn("retryDelaySeedMs",1e4,l),this.Wa=Fn("forwardChannelMaxRetries",2,l),this.wa=Fn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(l&&l.concurrentRequestLimit),this.Da=new bu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Io.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,E){nt(0),this.W=l,this.H=d||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Ba(this,null,this.W),Un(this)};function St(l){if(as(l),l.G==3){var d=l.U++,y=Jt(l.I);if(Be(y,"SID",l.K),Be(y,"RID",d),Be(y,"TYPE","terminate"),sr(l,y),d=new En(l,l.j,d),d.L=2,d.v=Ar(Jt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=ja(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$e(d)}ba(l)}function Rn(l){l.g&&(Ro(l),l.g.cancel(),l.g=null)}function as(l){Rn(l),l.u&&(m.clearTimeout(l.u),l.u=null),cs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Un(l){if(!Yt(l.h)&&!l.s){l.s=!0;var d=l.Ga;be||ie(),ne||(be(),ne=!0),de.add(d,l),l.B=0}}function ju(l,d){return Pa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yn(A(l.Ga,l,d),za(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new En(this,this.j,l);let j=this.o;if(this.S&&(j?(j=T(j),k(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Vr(this,M,d),y=Jt(this.I),Be(y,"RID",l),Be(y,"CVER",22),this.D&&Be(y,"X-HTTP-Session-Id",this.D),sr(this,y),j&&(this.O?d="headers="+encodeURIComponent(String(ir(j)))+"&"+d:this.m&&xr(y,this.m,j)),vo(this.h,M),this.Ua&&Be(y,"TYPE","init"),this.P?(Be(y,"$req",d),Be(y,"SID","null"),M.T=!0,es(M,y,null)):es(M,y,d),this.G=2}}else this.G==3&&(l?ls(this,l):this.i.length==0||Yt(this.h)||ls(this))};function ls(l,d){var y;d?y=d.l:y=l.U++;const E=Jt(l.I);Be(E,"SID",l.K),Be(E,"RID",y),Be(E,"AID",l.T),sr(l,E),l.m&&l.o&&xr(E,l.m,l.o),y=new En(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Vr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),vo(l.h,y),es(y,E,d)}function sr(l,d){l.H&&Te(l.H,function(y,E){Be(d,E,y)}),l.l&&Ir({},function(y,E){Be(d,E,y)})}function Vr(l,d,y){y=Math.min(l.i.length,y);var E=l.l?A(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const ee=["count="+y];j==-1?0<y?(j=M[0].g,ee.push("ofs="+j)):j=0:ee.push("ofs="+j);let ze=!0;for(let ct=0;ct<y;ct++){let Ve=M[ct].g;const yt=M[ct].map;if(Ve-=j,0>Ve)j=Math.max(0,M[ct].g-100),ze=!1;else try{Ma(yt,ee,"req"+Ve+"_")}catch{E&&E(yt)}}if(ze){E=ee.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,E}function Ei(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;be||ie(),ne||(be(),ne=!0),de.add(d,l),l.v=0}}function us(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yn(A(l.Fa,l),za(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Ua(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yn(A(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Rn(this),Ua(this))};function Ro(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Ua(l){l.g=new En(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);Be(d,"RID","rpc"),Be(d,"SID",l.K),Be(d,"AID",l.T),Be(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(d,"TO",l.ja),Be(d,"TYPE","xmlhttp"),sr(l,d),l.m&&l.o&&xr(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Ar(Jt(d)),y.m=null,y.P=!0,yo(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Rn(this),us(this),nt(19))};function cs(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function hs(l,d){var y=null;if(l.g==d){cs(l),Ro(l),l.g=null;var E=2}else if(Ut(l.h,d))y=d.D,ka(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var M=l.B;E=ci(),ut(E,new Xi(E,y)),Un(l)}else Ei(l);else if(M=d.s,M==3||M==0&&0<d.X||!(E==1&&ju(l,d)||E==2&&us(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),M){case 1:or(l,5);break;case 4:or(l,10);break;case 3:or(l,6);break;default:or(l,2)}}}function za(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function or(l,d){if(l.j.info("Error code "+d),d==2){var y=A(l.fb,l),E=l.Xa;const M=!E;E=new nr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||yi(E,"https"),Ar(E),M?zu(E.toString(),y):Oa(E.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(d),ba(l),as(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function ba(l){if(l.G=0,l.ka=[],l.l){const d=xa(l.h);(d.length!=0||l.i.length!=0)&&(U(l.ka,d),U(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function Ba(l,d,y){var E=y instanceof nr?Jt(y):new nr(y);if(E.g!="")d&&(E.g=d+"."+E.g),Rr(E,E.s);else{var M=m.location;E=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var j=new nr(null);E&&yi(j,E),d&&(j.g=d),M&&Rr(j,M),y&&(j.l=y),E=j}return y=l.D,d=l.ya,y&&d&&Be(E,y,d),Be(E,"VER",l.la),sr(l,E),E}function ja(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Qe(new rr({eb:y})):new Qe(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Co(){}i=Co.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fs(){}fs.prototype.g=function(l,d){return new zt(l,d)};function zt(l,d){lt.call(this),this.g=new Io(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!te(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!te(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new zn(this)}z(zt,lt),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){St(this.g)},zt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=lo(l),l=y);d.i.push(new Aa(d.Ya++,l)),d.G==3&&Un(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,St(this.g),delete this.g,zt.aa.N.call(this)};function $a(l){Nn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}z($a,Nn);function Ha(){Gi.call(this),this.status=1}z(Ha,Gi);function zn(l){this.g=l}z(zn,Co),zn.prototype.ua=function(){ut(this.g,"a")},zn.prototype.ta=function(l){ut(this.g,new $a(l))},zn.prototype.sa=function(l){ut(this.g,new Ha)},zn.prototype.ra=function(){ut(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,Vg=function(){return new fs},xg=function(){return ci()},kg=Ln,Dh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,Ql=Ji,Sa.COMPLETE="complete",Pg=Sa,Ki.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Zo=Ki,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,Ag=Qe}).apply(typeof zl<"u"?zl:typeof self<"u"?self:typeof window<"u"?window:{});const cm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ys="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Eg("@firebase/firestore");function Ls(){return Fi.logLevel}function se(i,...e){if(Fi.logLevel<=Ne.DEBUG){const n=e.map(nf);Fi.debug(`Firestore (${Ys}): ${i}`,...n)}}function _r(i,...e){if(Fi.logLevel<=Ne.ERROR){const n=e.map(nf);Fi.error(`Firestore (${Ys}): ${i}`,...n)}}function bs(i,...e){if(Fi.logLevel<=Ne.WARN){const n=e.map(nf);Fi.warn(`Firestore (${Ys}): ${i}`,...n)}}function nf(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i="Unexpected state"){const e=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: `+i;throw _r(e),new Error(e)}function Ue(i,e){i||ve()}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class g0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class y0{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Xr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Xr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ue(typeof s.accessToken=="string"),new Dg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Mt(e)}}class _0{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class v0{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new _0(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w0{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ue(this.o===void 0);const s=c=>{c.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,se("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new E0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=T0(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function Bs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new pt(0,0))}static max(){return new Ee(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(),s===void 0?s=e.length-n:s>e.length-n&&ve(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Hn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hn?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=Hn.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Hn.isNumericId(e),a=Hn.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Hn.extractNumericId(e).compare(Hn.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class Ge extends Hn{construct(e,n,s){return new Ge(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const S0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Hn{construct(e,n,s){return new At(e,n,s)}static isValidIdentifier(e){return S0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new fe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new fe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new fe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Ge.fromString(e))}static fromName(e){return new ge(Ge.fromString(e).popFirst(5))}static empty(){return new ge(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Ge(e.slice()))}}function I0(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new ei(a,ge.empty(),e)}function R0(i){return new ei(i.readTime,i.key,-1)}class ei{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ei(Ee.min(),ge.empty(),-1)}static max(){return new ei(Ee.max(),ge.empty(),-1)}}function C0(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==A0)throw i;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,s)=>{n(e)})}static reject(e){return new q((n,s)=>{s(e)})}static waitFor(e){return new q((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},g=>s(g))}),f=!0,c===a&&n()})}static or(e){let n=q.resolve(!1);for(const s of e)n=n.next(a=>a?q.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new q((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const _=g;n(e[_]).next(w=>{f[_]=w,++m,m===c&&s(f)},w=>a(w))}})}static doWhile(e,n){return new q((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function k0(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yu.oe=-1;function _u(i){return i==null}function su(i){return i===0&&1/i==-1/0}function x0(i){return typeof i=="number"&&Number.isInteger(i)&&!su(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=hm(e)),e=D0(i.get(n),e);return hm(e)}function D0(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function hm(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function si(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Lg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bl(this.root,e,this.comparator,!0)}}class bl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Ct.RED,this.left=a??Ct.EMPTY,this.right=c??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Ct(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Ct.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,n,s,a,c){return this}insert(e,n,s){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dm(this.data.getIterator())}getIteratorFrom(e){return new dm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class dm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new mt(At.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Og("Invalid base64 string: "+c):c}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const N0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(i){if(Ue(!!i),typeof i=="string"){let e=0;const n=N0.exec(i);if(Ue(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ni(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vu(i){const e=i.mapValue.fields.__previous_value__;return rf(e)?vu(e):e}function ua(i){const e=ti(i.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,n,s,a,c,f,m,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_}}class ca{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ca("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ri(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?rf(i)?4:M0(i)?9007199254740991:O0(i)?10:11:ve()}function Kn(i,e){if(i===e)return!0;const n=ri(i);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ua(i).isEqual(ua(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=ti(a.timestampValue),m=ti(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return ni(a.bytesValue).isEqual(ni(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return it(a.geoPointValue.latitude)===it(c.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return it(a.integerValue)===it(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=it(a.doubleValue),m=it(c.doubleValue);return f===m?su(f)===su(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Bs(i.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(fm(f)!==fm(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Kn(f[g],m[g])))return!1;return!0}(i,e);default:return ve()}}function ha(i,e){return(i.values||[]).find(n=>Kn(n,e))!==void 0}function js(i,e){if(i===e)return 0;const n=ri(i),s=ri(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=it(c.integerValue||c.doubleValue),g=it(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return pm(i.timestampValue,e.timestampValue);case 4:return pm(ua(i),ua(e));case 5:return ke(i.stringValue,e.stringValue);case 6:return function(c,f){const m=ni(c),g=ni(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),g=f.split("/");for(let _=0;_<m.length&&_<g.length;_++){const w=ke(m[_],g[_]);if(w!==0)return w}return ke(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=ke(it(c.latitude),it(f.latitude));return m!==0?m:ke(it(c.longitude),it(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return mm(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,g,_,w;const R=c.fields||{},A=f.fields||{},N=(m=R.value)===null||m===void 0?void 0:m.arrayValue,z=(g=A.value)===null||g===void 0?void 0:g.arrayValue,$=ke(((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0,((w=z==null?void 0:z.values)===null||w===void 0?void 0:w.length)||0);return $!==0?$:mm(N,z)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Bl.mapValue&&f===Bl.mapValue)return 0;if(c===Bl.mapValue)return 1;if(f===Bl.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),_=f.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let R=0;R<g.length&&R<w.length;++R){const A=ke(g[R],w[R]);if(A!==0)return A;const N=js(m[g[R]],_[w[R]]);if(N!==0)return N}return ke(g.length,w.length)}(i.mapValue,e.mapValue);default:throw ve()}}function pm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=ti(i),s=ti(e),a=ke(n.seconds,s.seconds);return a!==0?a:ke(n.nanos,s.nanos)}function mm(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=js(n[a],s[a]);if(c)return c}return ke(n.length,s.length)}function $s(i){return Nh(i)}function Nh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ti(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ni(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ge.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Nh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${Nh(n.fields[f])}`;return a+"}"}(i.mapValue):ve()}function Kl(i){switch(ri(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vu(i);return e?16+Kl(e):16;case 5:return 2*i.stringValue.length;case 6:return ni(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Kl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return si(s.fields,(c,f)=>{a+=c.length+Kl(f)}),a}(i.mapValue);default:throw ve()}}function Lh(i){return!!i&&"integerValue"in i}function sf(i){return!!i&&"arrayValue"in i}function gm(i){return!!i&&"nullValue"in i}function ym(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Gl(i){return!!i&&"mapValue"in i}function O0(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function na(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return si(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=na(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=na(i.arrayValue.values[n]);return e}return Object.assign({},i)}function M0(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Gl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=na(n)}setAll(e){let n=At.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=na(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Gl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Gl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){si(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new sn(na(this.value))}}function Mg(i){const e=[];return si(i.fields,(n,s)=>{const a=new At([n]);if(Gl(s)){const c=Mg(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,Ee.min(),Ee.min(),Ee.min(),sn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,Ee.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,Ee.min(),Ee.min(),sn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,Ee.min(),Ee.min(),sn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.position=e,this.inclusive=n}}function _m(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=js(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function vm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Kn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n="asc"){this.field=e,this.dir=n}}function F0(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{}class dt extends Fg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new z0(e,n,s):n==="array-contains"?new j0(e,s):n==="in"?new $0(e,s):n==="not-in"?new H0(e,s):n==="array-contains-any"?new q0(e,s):new dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new b0(e,s):new B0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(js(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends Fg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Gn(e,n)}matches(e){return Ug(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ug(i){return i.op==="and"}function zg(i){return U0(i)&&Ug(i)}function U0(i){for(const e of i.filters)if(e instanceof Gn)return!1;return!0}function Oh(i){if(i instanceof dt)return i.field.canonicalString()+i.op.toString()+$s(i.value);if(zg(i))return i.filters.map(e=>Oh(e)).join(",");{const e=i.filters.map(n=>Oh(n)).join(",");return`${i.op}(${e})`}}function bg(i,e){return i instanceof dt?function(s,a){return a instanceof dt&&s.op===a.op&&s.field.isEqual(a.field)&&Kn(s.value,a.value)}(i,e):i instanceof Gn?function(s,a){return a instanceof Gn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&bg(f,a.filters[m]),!0):!1}(i,e):void ve()}function Bg(i){return i instanceof dt?function(n){return`${n.field.canonicalString()} ${n.op} ${$s(n.value)}`}(i):i instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(Bg).join(" ,")+"}"}(i):"Filter"}class z0 extends dt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class b0 extends dt{constructor(e,n){super(e,"in",n),this.keys=jg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class B0 extends dt{constructor(e,n){super(e,"not-in",n),this.keys=jg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class j0 extends dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sf(n)&&ha(n.arrayValue,this.value)}}class $0 extends dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ha(this.value.arrayValue,n)}}class H0 extends dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ha(this.value.arrayValue,n)}}class q0 extends dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ha(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function Em(i,e=null,n=[],s=[],a=null,c=null,f=null){return new W0(i,e,n,s,a,c,f)}function of(i){const e=we(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Oh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),_u(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>$s(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>$s(s)).join(",")),e.ue=n}return e.ue}function af(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!F0(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!bg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!vm(i.startAt,e.startAt)&&vm(i.endAt,e.endAt)}function Mh(i){return ge.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Q0(i,e,n,s,a,c,f,m){return new Eu(i,e,n,s,a,c,f,m)}function $g(i){return new Eu(i)}function wm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function K0(i){return i.collectionGroup!==null}function ra(i){const e=we(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new mt(At.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new au(c,s))}),n.has(At.keyField().canonicalString())||e.ce.push(new au(At.keyField(),s))}return e.ce}function qn(i){const e=we(i);return e.le||(e.le=G0(e,ra(i))),e.le}function G0(i,e){if(i.limitType==="F")return Em(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new au(a.field,c)});const n=i.endAt?new ou(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ou(i.startAt.position,i.startAt.inclusive):null;return Em(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Fh(i,e,n){return new Eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function wu(i,e){return af(qn(i),qn(e))&&i.limitType===e.limitType}function Hg(i){return`${of(qn(i))}|lt:${i.limitType}`}function Os(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Bg(a)).join(", ")}]`),_u(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>$s(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>$s(a)).join(",")),`Target(${s})`}(qn(i))}; limitType=${i.limitType})`}function Tu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ge.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of ra(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,g){const _=_m(f,m,g);return f.inclusive?_<=0:_<0}(s.startAt,ra(s),a)||s.endAt&&!function(f,m,g){const _=_m(f,m,g);return f.inclusive?_>=0:_>0}(s.endAt,ra(s),a))}(i,e)}function X0(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qg(i){return(e,n)=>{let s=!1;for(const a of ra(i)){const c=Y0(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function Y0(i,e,n){const s=i.field.isKeyField()?ge.comparator(e.key,n.key):function(c,f,m){const g=f.data.field(c),_=m.data.field(c);return g!==null&&_!==null?js(g,_):ve()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return Lg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Ze(ge.comparator);function vr(){return J0}const Wg=new Ze(ge.comparator);function ea(...i){let e=Wg;for(const n of i)e=e.insert(n.key,n);return e}function Qg(i){let e=Wg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Oi(){return ia()}function Kg(){return ia()}function ia(){return new zi(i=>i.toString(),(i,e)=>i.isEqual(e))}const Z0=new Ze(ge.comparator),eT=new mt(ge.comparator);function Ae(...i){let e=eT;for(const n of i)e=e.add(n);return e}const tT=new mt(ke);function nT(){return tT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:su(e)?"-0":e}}function Gg(i){return{integerValue:""+i}}function Xg(i,e){return x0(e)?Gg(e):lf(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this._=void 0}}function rT(i,e,n){return i instanceof lu?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&rf(c)&&(c=vu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof fa?Jg(i,e):i instanceof da?Zg(i,e):function(a,c){const f=Yg(a,c),m=Tm(f)+Tm(a.Pe);return Lh(f)&&Lh(a.Pe)?Gg(m):lf(a.serializer,m)}(i,e)}function iT(i,e,n){return i instanceof fa?Jg(i,e):i instanceof da?Zg(i,e):n}function Yg(i,e){return i instanceof pa?function(s){return Lh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class lu extends Su{}class fa extends Su{constructor(e){super(),this.elements=e}}function Jg(i,e){const n=ey(e);for(const s of i.elements)n.some(a=>Kn(a,s))||n.push(s);return{arrayValue:{values:n}}}class da extends Su{constructor(e){super(),this.elements=e}}function Zg(i,e){let n=ey(e);for(const s of i.elements)n=n.filter(a=>!Kn(a,s));return{arrayValue:{values:n}}}class pa extends Su{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Tm(i){return it(i.integerValue||i.doubleValue)}function ey(i){return sf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.field=e,this.transform=n}}function oT(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof fa&&a instanceof fa||s instanceof da&&a instanceof da?Bs(s.elements,a.elements,Kn):s instanceof pa&&a instanceof pa?Kn(s.Pe,a.Pe):s instanceof lu&&a instanceof lu}(i.transform,e.transform)}class aT{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Iu{}function ty(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ry(i.key,gr.none()):new Ru(i.key,i.data,gr.none());{const n=i.data,s=sn.empty();let a=new mt(At.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new bi(i.key,s,new Dn(a.toArray()),gr.none())}}function lT(i,e,n){i instanceof Ru?function(a,c,f){const m=a.value.clone(),g=Im(a.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof bi?function(a,c,f){if(!Xl(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Im(a.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(ny(a)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function sa(i,e,n,s){return i instanceof Ru?function(c,f,m,g){if(!Xl(c.precondition,f))return m;const _=c.value.clone(),w=Rm(c.fieldTransforms,g,f);return _.setAll(w),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof bi?function(c,f,m,g){if(!Xl(c.precondition,f))return m;const _=Rm(c.fieldTransforms,g,f),w=f.data;return w.setAll(ny(c)),w.setAll(_),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(c,f,m){return Xl(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function uT(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Yg(s.transform,a||null);c!=null&&(n===null&&(n=sn.empty()),n.set(s.field,c))}return n||null}function Sm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Bs(s,a,(c,f)=>oT(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ru extends Iu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class bi extends Iu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ny(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Im(i,e,n){const s=new Map;Ue(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,iT(f,m,n[a]))}return s}function Rm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,rT(c,f,e))}return s}class ry extends Iu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cT extends Iu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&lT(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=sa(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=sa(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Kg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const g=ty(f,m);g!==null&&s.set(a.key,g),f.isValidDocument()||f.convertToNoDocument(Ee.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&Bs(this.mutations,e.mutations,(n,s)=>Sm(n,s))&&Bs(this.baseMutations,e.baseMutations,(n,s)=>Sm(n,s))}}class uf{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ue(e.mutations.length===s.length);let a=function(){return Z0}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new uf(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,De;function pT(i){switch(i){default:return ve();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function iy(i){if(i===void 0)return _r("GRPC error has no .code"),X.UNKNOWN;switch(i){case at.OK:return X.OK;case at.CANCELLED:return X.CANCELLED;case at.UNKNOWN:return X.UNKNOWN;case at.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case at.INTERNAL:return X.INTERNAL;case at.UNAVAILABLE:return X.UNAVAILABLE;case at.UNAUTHENTICATED:return X.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case at.NOT_FOUND:return X.NOT_FOUND;case at.ALREADY_EXISTS:return X.ALREADY_EXISTS;case at.PERMISSION_DENIED:return X.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case at.ABORTED:return X.ABORTED;case at.OUT_OF_RANGE:return X.OUT_OF_RANGE;case at.UNIMPLEMENTED:return X.UNIMPLEMENTED;case at.DATA_LOSS:return X.DATA_LOSS;default:return ve()}}(De=at||(at={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Gr([4294967295,4294967295],0);function Cm(i){const e=mT().encode(i),n=new Cg;return n.update(e),new Uint8Array(n.digest())}function Am(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Gr([n,s],0),new Gr([a,c],0)]}class cf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ta(`Invalid padding: ${n}`);if(s<0)throw new ta(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ta(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ta(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Gr.fromNumber(this.Te)}de(e,n,s){let a=e.add(n.multiply(Gr.fromNumber(s)));return a.compare(gT)===1&&(a=new Gr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Cm(e),[s,a]=Am(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);if(!this.Ee(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new cf(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=Cm(e),[s,a]=Am(n);for(let c=0;c<this.hashCount;c++){const f=this.de(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,va.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Cu(Ee.min(),a,new Ze(ke),vr(),Ae())}}class va{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new va(s,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class sy{constructor(e,n){this.targetId=e,this.me=n}}class oy{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Pm{constructor(){this.fe=0,this.ge=km(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),n=Ae(),s=Ae();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:ve()}}),new va(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=km()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class yT{constructor(e){this.Be=e,this.Le=new Map,this.ke=vr(),this.qe=jl(),this.Qe=jl(),this.Ke=new Ze(ke)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:ve()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(Mh(c))if(s===0){const f=new ge(c.path);this.We(n,f,Ft.newNoDocument(f,Ee.min()))}else Ue(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),g=m?this.et(m,e,f):1;if(g!==0){this.He(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=ni(s).toUint8Array()}catch(g){if(g instanceof Og)return bs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new cf(f,a,c)}catch(g){return bs(g instanceof ta?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Be.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Be.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Le.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&Mh(m.target)){const g=new ge(m.target.path);this.st(g).has(f)||this.ot(f,g)||this.We(f,g,Ft.newNoDocument(g,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Ae();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(g=>{const _=this.Ye(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new Cu(e,n,this.Ke,this.ke,s);return this.ke=vr(),this.qe=jl(),this.Qe=jl(),this.Ke=new Ze(ke),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new Pm,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new mt(ke),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(ke),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new Pm),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function jl(){return new Ze(ge.comparator)}function km(){return new Ze(ge.comparator)}const _T={asc:"ASCENDING",desc:"DESCENDING"},vT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ET={and:"AND",or:"OR"};class wT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uh(i,e){return i.useProto3Json||_u(e)?e:{value:e}}function uu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ay(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function TT(i,e){return uu(i,e.toTimestamp())}function Wn(i){return Ue(!!i),Ee.fromTimestamp(function(n){const s=ti(n);return new pt(s.seconds,s.nanos)}(i))}function hf(i,e){return zh(i,e).canonicalString()}function zh(i,e){const n=function(a){return new Ge(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function ly(i){const e=Ge.fromString(i);return Ue(dy(e)),e}function bh(i,e){return hf(i.databaseId,e.path)}function vh(i,e){const n=ly(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ge(cy(n))}function uy(i,e){return hf(i.databaseId,e)}function ST(i){const e=ly(i);return e.length===4?Ge.emptyPath():cy(e)}function Bh(i){return new Ge(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cy(i){return Ue(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function xm(i,e,n){return{name:bh(i,e),fields:n.value.mapValue.fields}}function IT(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,w){return _.useProto3Json?(Ue(w===void 0||typeof w=="string"),Pt.fromBase64String(w||"")):(Ue(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Pt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const w=_.code===void 0?X.UNKNOWN:iy(_.code);return new fe(w,_.message||"")}(f);n=new oy(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=vh(i,s.document.name),c=Wn(s.document.updateTime),f=s.document.createTime?Wn(s.document.createTime):Ee.min(),m=new sn({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(a,c,f,m),_=s.targetIds||[],w=s.removedTargetIds||[];n=new Yl(_,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=vh(i,s.document),c=s.readTime?Wn(s.readTime):Ee.min(),f=Ft.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Yl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=vh(i,s.document),c=s.removedTargetIds||[];n=new Yl([],c,a,null)}else{if(!("filter"in e))return ve();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new dT(a,c),m=s.targetId;n=new sy(m,f)}}return n}function RT(i,e){let n;if(e instanceof Ru)n={update:xm(i,e.key,e.value)};else if(e instanceof ry)n={delete:bh(i,e.key)};else if(e instanceof bi)n={update:xm(i,e.key,e.data),updateMask:LT(e.fieldMask)};else{if(!(e instanceof cT))return ve();n={verify:bh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof lu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fa)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof da)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof pa)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw ve()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:TT(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ve()}(i,e.precondition)),n}function CT(i,e){return i&&i.length>0?(Ue(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?Wn(a.updateTime):Wn(c);return f.isEqual(Ee.min())&&(f=Wn(c)),new aT(f,a.transformResults||[])}(n,e))):[]}function AT(i,e){return{documents:[uy(i,e.path)]}}function PT(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=uy(i,a);const c=function(_){if(_.length!==0)return fy(Gn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(w=>function(A){return{field:Ms(A.field),direction:VT(A.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Uh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:n,parent:a}}function kT(i){let e=ST(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ue(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(R){const A=hy(R);return A instanceof Gn&&zg(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(A=>function(z){return new au(Fs(z.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(R){let A;return A=typeof R=="object"?R.value:R,_u(A)?null:A}(n.limit));let g=null;n.startAt&&(g=function(R){const A=!!R.before,N=R.values||[];return new ou(N,A)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const A=!R.before,N=R.values||[];return new ou(N,A)}(n.endAt)),Q0(e,a,f,c,m,"F",g,_)}function xT(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hy(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fs(n.unaryFilter.field);return dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Fs(n.unaryFilter.field);return dt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fs(n.unaryFilter.field);return dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fs(n.unaryFilter.field);return dt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(i):i.fieldFilter!==void 0?function(n){return dt.create(Fs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(s=>hy(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ve()}}(n.compositeFilter.op))}(i):ve()}function VT(i){return _T[i]}function DT(i){return vT[i]}function NT(i){return ET[i]}function Ms(i){return{fieldPath:i.canonicalString()}}function Fs(i){return At.fromServerFormat(i.fieldPath)}function fy(i){return i instanceof dt?function(n){if(n.op==="=="){if(ym(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NAN"}};if(gm(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ym(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NAN"}};if(gm(n.value))return{unaryFilter:{field:Ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(n.field),op:DT(n.op),value:n.value}}}(i):i instanceof Gn?function(n){const s=n.getFilters().map(a=>fy(a));return s.length===1?s[0]:{compositeFilter:{op:NT(n.op),filters:s}}}(i):ve()}function LT(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dy(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s,a,c=Ee.min(),f=Ee.min(),m=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e){this.ht=e}}function MT(i){const e=kT({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Fh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(){this.ln=new UT}addToCollectionParentIndex(e,n){return this.ln.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(ei.min())}updateCollectionGroup(e,n,s){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class UT{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new mt(Ge.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Hs(0)}static Qn(){return new Hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm([i,e],[n,s]){const a=ke(i,n);return a===0?ke(e,s):a}class zT{constructor(e){this.Gn=e,this.buffer=new mt(Dm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Dm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bT{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zs(n)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Js(n)}await this.Yn(3e5)})}}class BT{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return q.resolve(yu.oe);const s=new zT(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(se("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(Vm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,g,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,f=Date.now(),this.nthSequenceNumber(e,a))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(c=R,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(_=Date.now(),Ls()<=Ne.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${R} documents in `+(_-g)+`ms
Total Duration: ${_-w}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:R})))}}function jT(i,e){return new BT(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&sa(s.mutation,a,Dn.empty(),pt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ae()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ae()){const a=Oi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=ea();return c.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Oi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ae()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=vr();const f=ia(),m=function(){return ia()}();return n.forEach((g,_)=>{const w=s.get(_.key);a.has(_.key)&&(w===void 0||w.mutation instanceof bi)?c=c.insert(_.key,_):w!==void 0?(f.set(_.key,w.mutation.getFieldMask()),sa(w.mutation,_,w.mutation.getFieldMask(),pt.now())):f.set(_.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((_,w)=>f.set(_,w)),n.forEach((_,w)=>{var R;return m.set(_,new HT(w,(R=f.get(_))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ia();let a=new Ze((f,m)=>f-m),c=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let w=s.get(g)||Dn.empty();w=m.applyToLocalView(_,w),s.set(g,w);const R=(a.get(m.batchId)||Ae()).add(g);a=a.insert(m.batchId,R)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,w=g.value,R=Kg();w.forEach(A=>{if(!c.has(A)){const N=ty(n.get(A),s.get(A));N!==null&&R.set(A,N),c=c.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,R))}return q.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):q.resolve(Oi());let m=-1,g=c;return f.next(_=>q.forEach(_,(w,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(w)?q.resolve():this.remoteDocumentCache.getEntry(e,w).next(A=>{g=g.insert(w,A)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,g,_,Ae())).next(w=>({batchId:m,changes:Qg(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let a=ea();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=ea();return this.indexManager.getCollectionParents(e,c).next(m=>q.forEach(m,g=>{const _=function(R,A){return new Eu(A,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(w=>{w.forEach((R,A)=>{f=f.insert(R,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((g,_)=>{const w=_.getKey();f.get(w)===null&&(f=f.insert(w,Ft.newInvalidDocument(w)))});let m=ea();return f.forEach((g,_)=>{const w=c.get(g);w!==void 0&&sa(w.mutation,_,Dn.empty(),pt.now()),Tu(n,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return q.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Wn(a.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:MT(a.bundledQuery),readTime:Wn(a.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.overlays=new Ze(ge.comparator),this.dr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Oi();return q.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),q.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.dr.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.dr.delete(s)),q.resolve()}getOverlaysForCollection(e,n,s){const a=Oi(),c=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&a.set(g.getKey(),g)}return q.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ze((_,w)=>_-w);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let w=c.get(_.largestBatchId);w===null&&(w=Oi(),c=c.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const m=Oi(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,w)=>m.set(_,w)),!(m.size()>=a)););return q.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.dr.get(a.largestBatchId).delete(s.key);this.dr.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new fT(n,s));let c=this.dr.get(n);c===void 0&&(c=Ae(),this.dr.set(n,c)),this.dr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this.Er=new mt(wt.Ar),this.Rr=new mt(wt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const s=new wt(e,n);this.Er=this.Er.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new wt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ge(new Ge([])),s=new wt(n,e),a=new wt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ge(new Ge([])),s=new wt(n,e),a=new wt(n,e+1);let c=Ae();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new wt(e,0),s=this.Er.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ge.comparator(e.key,n.key)||ke(e.br,n.br)}static Vr(e,n){return ke(e.br,n.br)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new mt(wt.Ar)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new hT(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new wt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return q.resolve(f)}lookupMutationBatch(e,n){return q.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mt(ke);return n.forEach(a=>{const c=new wt(a,0),f=new wt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),q.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;ge.isDocumentKey(c)||(c=c.child(""));const f=new wt(new ge(c),0);let m=new mt(ke);return this.vr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(g.br)),!0)},f),q.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ue(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return q.forEach(n.mutations,a=>{const c=new wt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Bn(e){}containsKey(e,n){const s=new wt(n,0),a=this.vr.firstAfterOrEqual(s);return q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.Nr=e,this.docs=function(){return new Ze(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return q.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ft.newInvalidDocument(a))}),q.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=vr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:w}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||C0(R0(w),s)<=0||(a.has(w.key)||Tu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return q.resolve(c)}getAllFromCollectionGroup(e,n,s,a){ve()}Br(e,n){return q.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new YT(this)}getSize(e){return q.resolve(this.size)}}class YT extends $T{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),q.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this.persistence=e,this.Lr=new zi(n=>of(n),af),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.kr=0,this.qr=new ff,this.targetCount=0,this.Qr=Hs.qn()}forEachTarget(e,n){return this.Lr.forEach((s,a)=>n(a)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),q.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Hs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Un(n),q.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Lr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Lr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),q.waitFor(c).next(()=>a)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const s=this.Lr.get(n)||null;return q.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),q.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),q.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return q.resolve(s)}containsKey(e,n){return q.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.Kr={},this.overlays={},this.$r=new yu(0),this.Ur=!1,this.Ur=!0,this.Wr=new KT,this.referenceDelegate=e(this),this.Gr=new JT(this),this.indexManager=new FT,this.remoteDocumentCache=function(a){return new XT(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new OT(n),this.jr=new WT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new GT(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){se("MemoryPersistence","Starting transaction:",e);const a=new ZT(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return q.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class ZT extends P0{constructor(e){super(),this.currentSequenceNumber=e}}class df{constructor(e){this.persistence=e,this.Zr=new ff,this.Xr=null}static ei(e){return new df(e)}get ti(){if(this.Xr)return this.Xr;throw ve()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),q.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),q.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.ti,s=>{const a=ge.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,Ee.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return q.or([()=>q.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class cu{constructor(e,n){this.persistence=e,this.ri=new zi(s=>V0(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=jT(this,n)}static ei(e,n){return new cu(e,n)}Hr(){}Jr(e){return q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return q.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?q.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Br(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,Ee.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),q.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),q.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),q.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kl(e.data.value)),n}ir(e,n,s){return q.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return q.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ae(),a=Ae();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new pf(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return YE()?8:k0(GE())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new e1;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Ls()<=Ne.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Os(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),q.resolve()):(Ls()<=Ne.DEBUG&&se("QueryEngine","Query:",Os(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Ls()<=Ne.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Os(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):q.resolve())}Xi(e,n){if(wm(n))return q.resolve(null);let s=qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Fh(n,null,"F"),s=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Ae(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.rs(n,m);return this.ss(n,_,f,g.readTime)?this.Xi(e,Fh(n,null,"F")):this.os(e,_,n,g)}))})))}es(e,n,s,a){return wm(n)||a.isEqual(Ee.min())?q.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?q.resolve(null):(Ls()<=Ne.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Os(n)),this.os(e,f,n,I0(a,-1)).next(m=>m))})}rs(e,n){let s=new mt(qg(e));return n.forEach((a,c)=>{Tu(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Ls()<=Ne.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Os(n)),this.Zi.getDocumentsMatchingQuery(e,n,ei.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Ze(ke),this.cs=new zi(c=>of(c),af),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qT(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function r1(i,e,n,s){return new n1(i,e,n,s)}async function my(i,e){const n=we(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let g=Ae();for(const _ of a){f.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}for(const _ of c){m.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Ts:_,removedBatchIds:f,addedBatchIds:m}))})})}function i1(i,e){const n=we(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,g,_,w){const R=_.batch,A=R.keys();let N=q.resolve();return A.forEach(z=>{N=N.next(()=>w.getEntry(g,z)).next($=>{const U=_.docVersions.get(z);Ue(U!==null),$.version.compareTo(U)<0&&(R.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),w.addEntry($)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(g,R))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ae();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function gy(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function s1(i,e){const n=we(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,R)=>{const A=a.get(R);if(!A)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,R).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,R)));let N=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?N=N.withResumeToken(Pt.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):w.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(w.resumeToken,s)),a=a.insert(R,N),function($,U,W){return $.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(A,N,w)&&m.push(n.Gr.updateTargetData(c,N))});let g=vr(),_=Ae();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(o1(c,f,e.documentUpdates).next(w=>{g=w.Is,_=w.ds})),!s.isEqual(Ee.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(R=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return q.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(n.us=a,c))}function o1(i,e,n){let s=Ae(),a=Ae();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=vr();return n.forEach((m,g)=>{const _=c.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(Ee.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):se("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{Is:f,ds:a}})}function a1(i,e){const n=we(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function l1(i,e){const n=we(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,q.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new Wr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function jh(i,e,n){const s=we(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Zs(f))throw f;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function Nm(i,e,n){const s=we(i);let a=Ee.min(),c=Ae();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,w){const R=we(g),A=R.cs.get(w);return A!==void 0?q.resolve(R.us.get(A)):R.Gr.getTargetData(_,w)}(s,f,qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{c=g})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:Ee.min(),n?c:Ae())).next(m=>(u1(s,X0(e),m),{documents:m,Es:c})))}function u1(i,e,n){let s=i.ls.get(e)||Ee.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class Lm{constructor(){this.activeTargetIds=nT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c1{constructor(){this._o=new Lm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Lm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l=null;function Eh(){return $l===null?$l=function(){return 268435456+Math.round(2147483648*Math.random())}():$l++,"0x"+$l.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class p1 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=Eh(),g=this.No(n,s.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${m}:`,g,a);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(_,c,f),this.Lo(n,g,_,a).then(w=>(se("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw bs("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",g,"request:",a),w})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Bo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ys}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=f1[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,s,a){const c=Eh();return new Promise((f,m)=>{const g=new Ag;g.setWithCredentials(!0),g.listenOnce(Pg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ql.NO_ERROR:const w=g.getResponseJson();se(Ot,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case Ql.TIMEOUT:se(Ot,`RPC '${e}' ${c} timed out`),m(new fe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ql.HTTP_ERROR:const R=g.getStatus();if(se(Ot,`RPC '${e}' ${c} failed with status:`,R,"response text:",g.getResponseText()),R>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const N=A==null?void 0:A.error;if(N&&N.status&&N.message){const z=function(U){const W=U.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(W)>=0?W:X.UNKNOWN}(N.status);m(new fe(z,N.message))}else m(new fe(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new fe(X.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{se(Ot,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);se(Ot,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",_,s,15)})}qo(e,n,s){const a=Eh(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Vg(),m=xg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Bo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=c.join("");se(Ot,`Creating RPC '${e}' stream ${a}: ${w}`,g);const R=f.createWebChannel(w,g);let A=!1,N=!1;const z=new d1({Eo:U=>{N?se(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(A||(se(Ot,`Opening RPC '${e}' stream ${a} transport.`),R.open(),A=!0),se(Ot,`RPC '${e}' stream ${a} sending:`,U),R.send(U))},Ao:()=>R.close()}),$=(U,W,te)=>{U.listen(W,J=>{try{te(J)}catch(ce){setTimeout(()=>{throw ce},0)}})};return $(R,Zo.EventType.OPEN,()=>{N||(se(Ot,`RPC '${e}' stream ${a} transport opened.`),z.So())}),$(R,Zo.EventType.CLOSE,()=>{N||(N=!0,se(Ot,`RPC '${e}' stream ${a} transport closed`),z.Do())}),$(R,Zo.EventType.ERROR,U=>{N||(N=!0,bs(Ot,`RPC '${e}' stream ${a} transport errored:`,U),z.Do(new fe(X.UNAVAILABLE,"The operation could not be completed")))}),$(R,Zo.EventType.MESSAGE,U=>{var W;if(!N){const te=U.data[0];Ue(!!te);const J=te,ce=(J==null?void 0:J.error)||((W=J[0])===null||W===void 0?void 0:W.error);if(ce){se(Ot,`RPC '${e}' stream ${a} received error:`,ce);const Ce=ce.status;let Te=function(I){const k=at[I];if(k!==void 0)return iy(k)}(Ce),x=ce.message;Te===void 0&&(Te=X.INTERNAL,x="Unknown error status: "+Ce+" with message "+ce.message),N=!0,z.Do(new fe(Te,x)),R.close()}else se(Ot,`RPC '${e}' stream ${a} received:`,te),z.vo(te)}}),$(m,kg.STAT_EVENT,U=>{U.stat===Dh.PROXY?se(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Dh.NOPROXY&&se(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{z.bo()},0),z}}function wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(i){return new wT(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&se("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,s,a,c,f,m,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new yy(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new fe(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.d_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.d_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m1 extends _y{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=IT(this.serializer,e),s=function(c){if(!("targetChange"in c))return Ee.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Ee.min():f.readTime?Wn(f.readTime):Ee.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Bh(this.serializer),n.addTarget=function(c,f){let m;const g=f.target;if(m=Mh(g)?{documents:AT(c,g)}:{query:PT(c,g).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ay(c,f.resumeToken);const _=Uh(c,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Ee.min())>0){m.readTime=uu(c,f.snapshotVersion.toTimestamp());const _=Uh(c,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=xT(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Bh(this.serializer),n.removeTarget=e,this.c_(n)}}class g1 extends _y{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=CT(e.writeResults,e.commitTime),s=Wn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=Bh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>RT(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1 extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,zh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(X.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,zh(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(X.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class _1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(_r(n),this.C_=!1):se("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{Bi(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(g){const _=we(g);_.k_.add(4),await Ea(_),_.K_.set("Unknown"),_.k_.delete(4),await Pu(_)}(this))})}),this.K_=new _1(s,a)}}async function Pu(i){if(Bi(i))for(const e of i.q_)await e(!0)}async function Ea(i){for(const e of i.q_)await e(!1)}function vy(i,e){const n=we(i);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),_f(n)?yf(n):eo(n).s_()&&gf(n,e))}function mf(i,e){const n=we(i),s=eo(n);n.L_.delete(e),s.s_()&&Ey(n,e),n.L_.size===0&&(s.s_()?s.a_():Bi(n)&&n.K_.set("Unknown"))}function gf(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}eo(i).V_(e)}function Ey(i,e){i.U_.xe(e),eo(i).m_(e)}function yf(i){i.U_=new yT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.L_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),eo(i).start(),i.K_.F_()}function _f(i){return Bi(i)&&!eo(i).i_()&&i.L_.size>0}function Bi(i){return we(i).k_.size===0}function wy(i){i.U_=void 0}async function E1(i){i.K_.set("Online")}async function w1(i){i.L_.forEach((e,n)=>{gf(i,e)})}async function T1(i,e){wy(i),_f(i)?(i.K_.O_(e),yf(i)):i.K_.set("Unknown")}async function S1(i,e,n){if(i.K_.set("Online"),e instanceof oy&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.L_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.L_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hu(i,s)}else if(e instanceof Yl?i.U_.$e(e):e instanceof sy?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(Ee.min()))try{const s=await gy(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=c.L_.get(_);w&&c.L_.set(_,w.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,_)=>{const w=c.L_.get(g);if(!w)return;c.L_.set(g,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),Ey(c,g);const R=new Wr(w.target,g,_,w.sequenceNumber);gf(c,R)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){se("RemoteStore","Failed to raise snapshot:",s),await hu(i,s)}}async function hu(i,e,n){if(!Zs(e))throw e;i.k_.add(1),await Ea(i),i.K_.set("Offline"),n||(n=()=>gy(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Pu(i)})}function Ty(i,e){return e().catch(n=>hu(i,n,e))}async function ku(i){const e=we(i),n=ii(e);let s=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;I1(e);)try{const a=await a1(e.localStore,s);if(a===null){e.B_.length===0&&n.a_();break}s=a.batchId,R1(e,a)}catch(a){await hu(e,a)}Sy(e)&&Iy(e)}function I1(i){return Bi(i)&&i.B_.length<10}function R1(i,e){i.B_.push(e);const n=ii(i);n.s_()&&n.f_&&n.g_(e.mutations)}function Sy(i){return Bi(i)&&!ii(i).i_()&&i.B_.length>0}function Iy(i){ii(i).start()}async function C1(i){ii(i).w_()}async function A1(i){const e=ii(i);for(const n of i.B_)e.g_(n.mutations)}async function P1(i,e,n){const s=i.B_.shift(),a=uf.from(s,e,n);await Ty(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await ku(i)}async function k1(i,e){e&&ii(i).f_&&await async function(s,a){if(function(f){return pT(f)&&f!==X.ABORTED}(a.code)){const c=s.B_.shift();ii(s).__(),await Ty(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await ku(s)}}(i,e),Sy(i)&&Iy(i)}async function Mm(i,e){const n=we(i);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const s=Bi(n);n.k_.add(3),await Ea(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Pu(n)}async function x1(i,e){const n=we(i);e?(n.k_.delete(2),await Pu(n)):e||(n.k_.add(2),await Ea(n),n.K_.set("Unknown"))}function eo(i){return i.W_||(i.W_=function(n,s,a){const c=we(n);return c.b_(),new m1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:E1.bind(null,i),mo:w1.bind(null,i),po:T1.bind(null,i),R_:S1.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),_f(i)?yf(i):i.K_.set("Unknown")):(await i.W_.stop(),wy(i))})),i.W_}function ii(i){return i.G_||(i.G_=function(n,s,a){const c=we(n);return c.b_(),new g1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:C1.bind(null,i),po:k1.bind(null,i),p_:A1.bind(null,i),y_:P1.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await ku(i)):(await i.G_.stop(),i.B_.length>0&&(se("RemoteStore",`Stopping write stream with ${i.B_.length} pending writes`),i.B_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new vf(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ef(i,e){if(_r("AsyncQueue",`${e}: ${i}`),Zs(i))return new fe(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{static emptySet(e){return new zs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=ea(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new zs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(){this.z_=new Ze(ge.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):ve():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class qs{constructor(e,n,s,a,c,f,m,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new qs(e,n,zs.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class D1{constructor(){this.queries=Um(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=we(n),c=a.queries;a.queries=Um(),c.forEach((f,m)=>{for(const g of m.J_)g.onError(s)})})(this,new fe(X.ABORTED,"Firestore shutting down"))}}function Um(){return new zi(i=>Hg(i),wu)}async function N1(i,e){const n=we(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new V1,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=Ef(f,`Initialization of query '${Os(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&wf(n)}async function L1(i,e){const n=we(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function O1(i,e){const n=we(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&wf(n)}function M1(i,e,n){const s=we(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function wf(i){i.X_.forEach(e=>{e.next()})}var $h,zm;(zm=$h||($h={})).na="default",zm.Cache="cache";class F1{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new qs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==$h.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.key=e}}class Cy{constructor(e){this.key=e}}class U1{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ae(),this.mutatedKeys=Ae(),this.Va=qg(e),this.ma=new zs(this.Va)}get fa(){return this.Ea}ga(e,n){const s=n?n.pa:new Fm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,R)=>{const A=a.get(w),N=Tu(this.query,R)?R:null,z=!!A&&this.mutatedKeys.has(A.key),$=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let U=!1;A&&N?A.data.isEqual(N.data)?z!==$&&(s.track({type:3,doc:N}),U=!0):this.ya(A,N)||(s.track({type:2,doc:N}),U=!0,(g&&this.Va(N,g)>0||_&&this.Va(N,_)<0)&&(m=!0)):!A&&N?(s.track({type:0,doc:N}),U=!0):A&&!N&&(s.track({type:1,doc:A}),U=!0,(g||_)&&(m=!0)),U&&(N?(f=f.add(N),c=$?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((w,R)=>function(N,z){const $=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return $(N)-$(z)}(w.type,R.type)||this.Va(w.doc,R.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,_=g!==this.Aa;return this.Aa=g,f.length!==0||_?{snapshot:new qs(this.query,e.ma,c,f,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Fm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ae(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Cy(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Ry(s))}),n}va(e){this.Ea=e.Es,this.Ra=Ae();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return qs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class z1{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class b1{constructor(e){this.key=e,this.Fa=!1}}class B1{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new zi(m=>Hg(m),wu),this.Oa=new Map,this.Na=new Set,this.Ba=new Ze(ge.comparator),this.La=new Map,this.ka=new ff,this.qa={},this.Qa=new Map,this.Ka=Hs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function j1(i,e,n=!0){const s=Dy(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await Ay(s,e,n,!0),a}async function $1(i,e){const n=Dy(i);await Ay(n,e,!0,!1)}async function Ay(i,e,n,s){const a=await l1(i.localStore,qn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await H1(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&vy(i.remoteStore,a),m}async function H1(i,e,n,s,a){i.Ua=(R,A,N)=>async function($,U,W,te){let J=U.view.ga(W);J.ss&&(J=await Nm($.localStore,U.query,!1).then(({documents:x})=>U.view.ga(x,J)));const ce=te&&te.targetChanges.get(U.targetId),Ce=te&&te.targetMismatches.get(U.targetId)!=null,Te=U.view.applyChanges(J,$.isPrimaryClient,ce,Ce);return Bm($,U.targetId,Te.ba),Te.snapshot}(i,R,A,N);const c=await Nm(i.localStore,e,!0),f=new U1(e,c.Es),m=f.ga(c.documents),g=va.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=f.applyChanges(m,i.isPrimaryClient,g);Bm(i,n,_.ba);const w=new z1(e,n,f);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),_.snapshot}async function q1(i,e,n){const s=we(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!wu(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await jh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&mf(s.remoteStore,a.targetId),Hh(s,a.targetId)}).catch(Js)):(Hh(s,a.targetId),await jh(s.localStore,a.targetId,!0))}async function W1(i,e){const n=we(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),mf(n.remoteStore,s.targetId))}async function Q1(i,e,n){const s=eS(i);try{const a=await function(f,m){const g=we(f),_=pt.now(),w=m.reduce((N,z)=>N.add(z.key),Ae());let R,A;return g.persistence.runTransaction("Locally write mutations","readwrite",N=>{let z=vr(),$=Ae();return g.hs.getEntries(N,w).next(U=>{z=U,z.forEach((W,te)=>{te.isValidDocument()||($=$.add(W))})}).next(()=>g.localDocuments.getOverlayedDocuments(N,z)).next(U=>{R=U;const W=[];for(const te of m){const J=uT(te,R.get(te.key).overlayedDocument);J!=null&&W.push(new bi(te.key,J,Mg(J.value.mapValue),gr.exists(!0)))}return g.mutationQueue.addMutationBatch(N,_,W,m)}).next(U=>{A=U;const W=U.applyToLocalDocumentSet(R,$);return g.documentOverlayCache.saveOverlays(N,U.batchId,W)})}).then(()=>({batchId:A.batchId,changes:Qg(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,m,g){let _=f.qa[f.currentUser.toKey()];_||(_=new Ze(ke)),_=_.insert(m,g),f.qa[f.currentUser.toKey()]=_}(s,a.batchId,n),await wa(s,a.changes),await ku(s.remoteStore)}catch(a){const c=Ef(a,"Failed to persist write");n.reject(c)}}async function Py(i,e){const n=we(i);try{const s=await s1(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.La.get(c);f&&(Ue(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Ue(f.Fa):a.removedDocuments.size>0&&(Ue(f.Fa),f.Fa=!1))}),await wa(n,s,e)}catch(s){await Js(s)}}function bm(i,e,n){const s=we(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const g=we(f);g.onlineState=m;let _=!1;g.queries.forEach((w,R)=>{for(const A of R.J_)A.ea(m)&&(_=!0)}),_&&wf(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function K1(i,e,n){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.La.get(e),c=a&&a.key;if(c){let f=new Ze(ge.comparator);f=f.insert(c,Ft.newNoDocument(c,Ee.min()));const m=Ae().add(c),g=new Cu(Ee.min(),new Map,new Ze(ke),f,m);await Py(s,g),s.Ba=s.Ba.remove(c),s.La.delete(e),Tf(s)}else await jh(s.localStore,e,!1).then(()=>Hh(s,e,n)).catch(Js)}async function G1(i,e){const n=we(i),s=e.batch.batchId;try{const a=await i1(n.localStore,e);xy(n,s,null),ky(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wa(n,a)}catch(a){await Js(a)}}async function X1(i,e,n){const s=we(i);try{const a=await function(f,m){const g=we(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return g.mutationQueue.lookupMutationBatch(_,m).next(R=>(Ue(R!==null),w=R.keys(),g.mutationQueue.removeMutationBatch(_,R))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>g.localDocuments.getDocuments(_,w))})}(s.localStore,e);xy(s,e,n),ky(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await wa(s,a)}catch(a){await Js(a)}}function ky(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function xy(i,e,n){const s=we(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function Hh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Vy(i,s)})}function Vy(i,e){i.Na.delete(e.path.canonicalString());const n=i.Ba.get(e);n!==null&&(mf(i.remoteStore,n),i.Ba=i.Ba.remove(e),i.La.delete(n),Tf(i))}function Bm(i,e,n){for(const s of n)s instanceof Ry?(i.ka.addReference(s.key,e),Y1(i,s)):s instanceof Cy?(se("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Vy(i,s.key)):ve()}function Y1(i,e){const n=e.key,s=n.path.canonicalString();i.Ba.get(n)||i.Na.has(s)||(se("SyncEngine","New document in limbo: "+n),i.Na.add(s),Tf(i))}function Tf(i){for(;i.Na.size>0&&i.Ba.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ge(Ge.fromString(e)),s=i.Ka.next();i.La.set(s,new b1(n)),i.Ba=i.Ba.insert(n,s),vy(i.remoteStore,new Wr(qn($g(n.path)),s,"TargetPurposeLimboResolution",yu.oe))}}async function wa(i,e,n){const s=we(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,g)=>{f.push(s.Ua(g,e,n).then(_=>{var w;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(w=n==null?void 0:n.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(_){a.push(_);const R=pf.zi(g.targetId,_);c.push(R)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(g,_){const w=we(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>q.forEach(_,A=>q.forEach(A.Wi,N=>w.persistence.referenceDelegate.addReference(R,A.targetId,N)).next(()=>q.forEach(A.Gi,N=>w.persistence.referenceDelegate.removeReference(R,A.targetId,N)))))}catch(R){if(!Zs(R))throw R;se("LocalStore","Failed to update sequence numbers: "+R)}for(const R of _){const A=R.targetId;if(!R.fromCache){const N=w.us.get(A),z=N.snapshotVersion,$=N.withLastLimboFreeSnapshotVersion(z);w.us=w.us.insert(A,$)}}}(s.localStore,c))}async function J1(i,e){const n=we(i);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const s=await my(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(g=>{g.reject(new fe(X.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wa(n,s.Ts)}}function Z1(i,e){const n=we(i),s=n.La.get(e);if(s&&s.Fa)return Ae().add(s.key);{let a=Ae();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function Dy(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Py.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K1.bind(null,e),e.Ma.R_=O1.bind(null,e.eventManager),e.Ma.Wa=M1.bind(null,e.eventManager),e}function eS(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X1.bind(null,e),e}class fu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Au(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return r1(this.persistence,new t1,e.initialUser,this.serializer)}ja(e){return new py(df.ei,this.serializer)}za(e){return new c1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fu.provider={build:()=>new fu};class tS extends fu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Ue(this.persistence.referenceDelegate instanceof cu);const s=this.persistence.referenceDelegate.garbageCollector;return new bT(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new py(s=>cu.ei(s,n),this.serializer)}}class qh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>bm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=J1.bind(null,this.syncEngine),await x1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new D1}()}createDatastore(e){const n=Au(e.databaseInfo.databaseId),s=function(c){return new p1(c)}(e.databaseInfo);return function(c,f,m,g){return new y1(c,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new v1(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>bm(this.syncEngine,n,0),function(){return Om.p()?new Om:new h1}())}createSyncEngine(e,n){return function(a,c,f,m,g,_,w){const R=new B1(a,c,f,m,g,_);return w&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=we(a);se("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await Ea(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qh.provider={build:()=>new qh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=Ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{se("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(se("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ef(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Th(i,e){i.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await my(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function jm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await iS(i);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Mm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Mm(e.remoteStore,a)),i._onlineComponents=e}async function iS(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Th(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===X.FAILED_PRECONDITION||a.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;bs("Error using user provided cache. Falling back to memory cache: "+n),await Th(i,new fu)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await Th(i,new tS(void 0));return i._offlineComponents}async function Ny(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await jm(i,i._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await jm(i,new qh))),i._onlineComponents}function sS(i){return Ny(i).then(e=>e.syncEngine)}async function oS(i){const e=await Ny(i),n=e.eventManager;return n.onListen=j1.bind(null,e.syncEngine),n.onUnlisten=q1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=W1.bind(null,e.syncEngine),n}function aS(i,e,n={}){const s=new Xr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,g,_){const w=new nS({next:A=>{w.eu(),f.enqueueAndForget(()=>L1(c,R)),A.fromCache&&g.source==="server"?_.reject(new fe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),R=new F1(m,w,{includeMetadataChanges:!0,ua:!0});return N1(c,R)}(await oS(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(i,e,n){if(!n)throw new fe(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function lS(i,e,n,s){if(e===!0&&s===!0)throw new fe(X.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Hm(i){if(!ge.isDocumentKey(i))throw new fe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function qm(i){if(ge.isDocumentKey(i))throw new fe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Sf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve()}function ma(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sf(i);throw new fe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ly((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new m0;switch(s.type){case"firstParty":return new v0(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=$m.get(n);s&&(se("ComponentProvider","Removing Datastore"),$m.delete(n),s.terminate())}(this),Promise.resolve()}}function uS(i,e,n,s={}){var a;const c=(i=ma(i,xu))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Mt.MOCK_USER;else{m=KE(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new fe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Mt(_)}i._authCredentials=new g0(new Dg(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vu(this.firestore,e,this._query)}}class gn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class Yr extends Vu{constructor(e,n,s){super(e,n,$g(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new ge(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function Wh(i,e,...n){if(i=Zr(i),Oy("collection","path",e),i instanceof xu){const s=Ge.fromString(e,...n);return qm(s),new Yr(i,null,s)}{if(!(i instanceof gn||i instanceof Yr))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ge.fromString(e,...n));return qm(s),new Yr(i.firestore,null,s)}}function cS(i,e,...n){if(i=Zr(i),arguments.length===1&&(e=Ng.newId()),Oy("doc","path",e),i instanceof xu){const s=Ge.fromString(e,...n);return Hm(s),new gn(i,null,new ge(s))}{if(!(i instanceof gn||i instanceof Yr))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ge.fromString(e,...n));return Hm(s),new gn(i.firestore,i instanceof Yr?i.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new yy(this,"async_queue_retry"),this.fu=()=>{const s=wh();s&&se("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=wh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=wh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Xr;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Zs(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw _r("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=vf.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.Eu.push(a),a}pu(){this.Au&&ve()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class If extends xu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Qm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qm(e),this._firestoreClient=void 0,await e}}}function hS(i,e){const n=typeof i=="object"?i:r0(),s=typeof i=="string"?i:"(default)",a=Zw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=WE("firestore");c&&uS(a,...c)}return a}function My(i){if(i._terminated)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||fS(i),i._firestoreClient}function fS(i){var e,n,s;const a=i._freezeSettings(),c=function(m,g,_,w){return new L0(m,g,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Ly(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new rS(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(Pt.fromBase64String(e))}catch(n){throw new fe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=/^__.*__$/;class Fy{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new bi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Uy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class Af{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Bu(e),a}Lu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return du(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Uy(this.Mu)&&dS.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class pS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Au(e)}$u(e,n,s,a=!1){return new Af({Mu:e,methodName:n,Ku:s,path:At.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mS(i){const e=i._freezeSettings(),n=Au(i._databaseId);return new pS(i._databaseId,!!e.ignoreUndefinedProperties,n)}class Lu extends Nu{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lu}}class Pf extends Nu{constructor(e,n){super(e),this.Wu=n}_toFieldTransform(e){const n=new pa(e.serializer,Xg(e.serializer,this.Wu));return new sT(e.path,n)}isEqual(e){return e instanceof Pf&&this.Wu===e.Wu}}function gS(i,e,n,s){const a=i.$u(1,e,n);by("Data must be an object, but it was:",a,s);const c=[],f=sn.empty();si(s,(g,_)=>{const w=kf(e,g,n);_=Zr(_);const R=a.Lu(w);if(_ instanceof Lu)c.push(w);else{const A=Ou(_,R);A!=null&&(c.push(w),f.set(w,A))}});const m=new Dn(c);return new Fy(f,m,a.fieldTransforms)}function yS(i,e,n,s,a,c){const f=i.$u(1,e,n),m=[Km(e,s,n)],g=[a];if(c.length%2!=0)throw new fe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)m.push(Km(e,c[A])),g.push(c[A+1]);const _=[],w=sn.empty();for(let A=m.length-1;A>=0;--A)if(!ES(_,m[A])){const N=m[A];let z=g[A];z=Zr(z);const $=f.Lu(N);if(z instanceof Lu)_.push(N);else{const U=Ou(z,$);U!=null&&(_.push(N),w.set(N,U))}}const R=new Dn(_);return new Fy(w,R,f.fieldTransforms)}function Ou(i,e){if(zy(i=Zr(i)))return by("Unsupported field value:",e,i),_S(i,e);if(i instanceof Nu)return function(s,a){if(!Uy(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let g=Ou(m,a.ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Zr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Xg(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=pt.fromDate(s);return{timestampValue:uu(a.serializer,c)}}if(s instanceof pt){const c=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uu(a.serializer,c)}}if(s instanceof Rf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ws)return{bytesValue:ay(a.serializer,s._byteString)};if(s instanceof gn){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:hf(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Cf)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.qu("VectorValues must only contain numeric values.");return lf(m.serializer,g)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${Sf(s)}`)}(i,e)}function _S(i,e){const n={};return Lg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(i,(s,a)=>{const c=Ou(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function zy(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof Rf||i instanceof Ws||i instanceof gn||i instanceof Nu||i instanceof Cf)}function by(i,e,n){if(!zy(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Sf(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function Km(i,e,n){if((e=Zr(e))instanceof Du)return e._internalPath;if(typeof e=="string")return kf(i,e);throw du("Field path arguments must be of type string or ",i,!1,void 0,n)}const vS=new RegExp("[~\\*/\\[\\]]");function kf(i,e,n){if(e.search(vS)>=0)throw du(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Du(...e.split("."))._internalPath}catch{throw du(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function du(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${a}`),g+=")"),new fe(X.INVALID_ARGUMENT,m+i+g)}function ES(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wS extends By{data(){return super.data()}}function jy(i,e){return typeof e=="string"?kf(i,e):e instanceof Du?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SS{convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return si(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>it(f.doubleValue));return new Cf(c)}convertGeoPoint(e){return new Rf(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=vu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ua(e));default:return null}}convertTimestamp(e){const n=ti(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ge.fromString(e);Ue(dy(s));const a=new ca(s.get(1),s.get(3)),c=new ge(s.popFirst(5));return a.isEqual(n)||_r(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class IS extends By{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(jy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Jl extends IS{data(e={}){return super.data(e)}}class RS{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Hl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Jl(this._firestore,this._userDataWriter,s.key,s,new Hl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const g=new Jl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Hl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new Jl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Hl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,w=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),w=f.indexOf(m.doc.key)),{type:CS(m.type),doc:g,oldIndex:_,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}class AS extends SS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function Qh(i){i=ma(i,Vu);const e=ma(i.firestore,If),n=My(e),s=new AS(e);return TS(i._query),aS(n,i._query).then(a=>new RS(e,s,i,a))}function PS(i,e,n,...s){i=ma(i,gn);const a=ma(i.firestore,If),c=mS(a);let f;return f=typeof(e=Zr(e))=="string"||e instanceof Du?yS(c,"updateDoc",i._key,e,n,s):gS(c,"updateDoc",i._key,e),kS(a,[f.toMutation(i._key,gr.exists(!0))])}function kS(i,e){return function(s,a){const c=new Xr;return s.asyncQueue.enqueueAndForget(async()=>Q1(await sS(s),a,c)),c.promise}(My(i),e)}function xS(i){return new Pf("increment",i)}(function(e,n=!0){(function(a){Ys=a})(n0),iu(new aa("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new If(new y0(s.getProvider("auth-internal")),new w0(s.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(_.options.projectId,w)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Us(cm,"4.7.6",e),Us(cm,"4.7.6","esm2017")})();const VS={apiKey:"AIzaSyB2RrBORHeIINx_y-izwttIaxI6zbzHRfM",authDomain:"blog-educativo-d06ee.firebaseapp.com",projectId:"blog-educativo-d06ee",storageBucket:"blog-educativo-d06ee.firebasestorage.app",messagingSenderId:"423440979795",appId:"1:423440979795:web:43510749554412348273a6",measurementId:"G-YJW928CHVF"},DS=Sg(VS),pu=hS(DS),NS=({id:i,imageUrl:e,summary:n,link:s,likes:a=0,dislikes:c=0,stars:f=0,hearts:m=0})=>{const[g,_]=H.useState(a),[w,R]=H.useState(c),[A,N]=H.useState(f),[z,$]=H.useState(m),U=async(W,te)=>{const J=cS(pu,"cards",i);await PS(J,{[W]:xS(1)}),te(ce=>ce+1)};return ye.jsxs("div",{className:"card",children:[ye.jsx("img",{src:e,alt:"Card"}),ye.jsxs("div",{className:"card-content",children:[ye.jsx("p",{children:n}),ye.jsx("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:"Read more"})]}),ye.jsxs("div",{className:"card-icons",children:[ye.jsx(OE,{className:"icon",onClick:()=>U("likes",_)}),ye.jsx(LE,{className:"icon",onClick:()=>U("dislikes",R)}),ye.jsx(NE,{className:"icon",onClick:()=>U("stars",N)}),ye.jsx(VE,{className:"icon",onClick:()=>U("hearts",$)})]}),ye.jsxs("div",{className:"card-counts",children:[ye.jsx("span",{children:g}),ye.jsx("span",{children:w}),ye.jsx("span",{children:A}),ye.jsx("span",{children:z})]})]})};function Gm({title:i,children:e}){return ye.jsxs("div",{className:"card",children:[ye.jsx("h3",{children:i}),ye.jsx("div",{children:e})]})}function LS(){const[i,e]=H.useState([]),[n,s]=H.useState([]);return H.useEffect(()=>{(async()=>{const c=Wh(pu,"Guias1"),f=Wh(pu,"Guias2"),m=await Qh(c),g=await Qh(f);e(m.docs.map(_=>({id:_.id,..._.data()}))),s(g.docs.map(_=>({id:_.id,..._.data()})))})()},[]),ye.jsxs("div",{className:"guias-de-estudio",children:[ye.jsx(mg,{title:"Guías de estudio",showBlogButton:!0}),ye.jsxs("div",{className:"content",children:[ye.jsx("h2",{children:"Bienvenido a las Guías de Estudio"}),ye.jsx("p",{children:"Aquí encontrarás recursos y materiales para ayudarte en tu aprendizaje."}),ye.jsxs("div",{className:"cards-container",children:[ye.jsx(Gm,{title:"Primer Medio",children:i.map(a=>ye.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",children:a.titulo},a.id))}),ye.jsx(Gm,{title:"Segundo Medio",children:n.map(a=>ye.jsx("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",children:a.titulo},a.id))})]})]})]})}const OS=async()=>(await Qh(Wh(pu,"cards"))).docs.map(e=>({id:e.id,...e.data()}));function MS(){const[i,e]=H.useState([]);return H.useEffect(()=>{console.log("Fetching cards..."),(async()=>{try{const s=await OS();console.log("Cards fetched:",s),e(s)}catch(s){console.error("Error fetching cards:",s)}})()},[]),ye.jsx(pE,{children:ye.jsx("div",{className:"App",children:ye.jsxs(Hv,{children:[ye.jsx(Ih,{path:"/guias-de-estudio",element:ye.jsx(LS,{})}),ye.jsx(Ih,{path:"/",element:ye.jsxs(ye.Fragment,{children:[ye.jsx(mg,{}),ye.jsx("div",{className:"card-container",children:i.map(n=>ye.jsx(NS,{id:n.id,imageUrl:n.imageUrl,summary:n.summary,link:n.link,likes:n.likes,dislikes:n.dislikes,stars:n.stars,hearts:n.hearts},n.id))})]})})]})})})}ev.createRoot(document.getElementById("root")).render(ye.jsx(H.StrictMode,{children:ye.jsx(MS,{})}));
